import './polyfills.server.mjs';
import{a as qR,b as YR,c as HR,d as JR,g as WR,k as Jd,l as zR,n as Gt,o as jR,p as lu}from"./chunk-RNFLZD3F.mjs";import{$ as Um,$a as es,A as wR,Ab as qm,D as IA,F as SR,Fa as He,Ga as ue,Gb as OR,H as bR,Ha as DR,Ia as RR,Ib as Ym,Ja as TR,K as Pd,Ka as Pm,L as Vd,La as kR,Lb as PR,M as Mm,Ma as an,N as Gd,O as Ai,P as Lm,Pa as Ls,R as BA,S as yA,U as ou,Ua as Or,Ub as VR,V as dt,Va as NR,Vb as li,W as Cn,Wa as Tt,Wb as GR,Xa as Vm,Xb as Yd,Y as xe,Ya as K,Za as Y,Zb as Hd,_ as ce,_a as Ut,aa as on,ab as Xe,bb as xt,c as Mr,cb as _R,da as au,db as z,ea as Rt,eb as ci,f as IR,fa as mn,fb as Us,ga as Lr,gb as cu,h as Od,ha as Ms,i as BR,ib as FR,jb as MR,k as _s,kb as LR,l as na,la as qd,lb as Gm,m as Un,ma as Ur,mb as UR,n as Fs,na as xr,oa as xm,qa as ra,r as Ue,sa as Om,sb as xR,ta as Au,x as yR,xa as QA,y as QR,ya as vR,z as su}from"./chunk-BSVBYDCO.mjs";import{a as KR,b as Wd,c as Hm,d as zd,e as uu,f as Jm,g as jd,h as Kd,i as XR,j as Wm,k as $e,l as ts,m as ui,n as Xd,o as ia,p as hu,q as $d,r as wA,s as Zd,t as $t,u as Kn,v as qq,w as Yq,x as zm}from"./chunk-23JXLI4M.mjs";import{a as P,b as te,c as F,d as mR,e as Mn,f as S,h as xd,i as Fm,j as B,k as mA,l as ai,m as ta,n as Ln}from"./chunk-H6KHSOBK.mjs";var Re=S(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=gr.DEFAULT_MAX_SEND_MESSAGE_LENGTH=gr.Propagate=gr.LogVerbosity=gr.Status=void 0;var pT=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n}(pT||(gr.Status=pT={})),ET=function(n){return n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",n}(ET||(gr.LogVerbosity=ET={})),CT=function(n){return n[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",n}(CT||(gr.Propagate=CT={}));gr.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;gr.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var lI=S((jde,TY)=>{TY.exports={name:"@grpc/grpc-js",version:"1.9.14",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var gt=S(Bn=>{"use strict";var uI,hI,dI,gI;Object.defineProperty(Bn,"__esModule",{value:!0});Bn.isTracerEnabled=Bn.trace=Bn.log=Bn.setLoggerVerbosity=Bn.setLogger=Bn.getLogger=void 0;var Gs=Re(),kY=F("process"),NY=lI().version,_Y={error:(n,...e)=>{console.error("E "+n,...e)},info:(n,...e)=>{console.error("I "+n,...e)},debug:(n,...e)=>{console.error("D "+n,...e)}},aa=_Y,TA=Gs.LogVerbosity.ERROR,FY=(hI=(uI=process.env.GRPC_NODE_VERBOSITY)!==null&&uI!==void 0?uI:process.env.GRPC_VERBOSITY)!==null&&hI!==void 0?hI:"";switch(FY.toUpperCase()){case"DEBUG":TA=Gs.LogVerbosity.DEBUG;break;case"INFO":TA=Gs.LogVerbosity.INFO;break;case"ERROR":TA=Gs.LogVerbosity.ERROR;break;case"NONE":TA=Gs.LogVerbosity.NONE;break;default:}var MY=()=>aa;Bn.getLogger=MY;var LY=n=>{aa=n};Bn.setLogger=LY;var UY=n=>{TA=n};Bn.setLoggerVerbosity=UY;var xY=(n,...e)=>{let t;if(n>=TA){switch(n){case Gs.LogVerbosity.DEBUG:t=aa.debug;break;case Gs.LogVerbosity.INFO:t=aa.info;break;case Gs.LogVerbosity.ERROR:t=aa.error;break}t||(t=aa.error),t&&t.bind(aa)(...e)}};Bn.log=xY;var OY=(gI=(dI=process.env.GRPC_NODE_TRACE)!==null&&dI!==void 0?dI:process.env.GRPC_TRACE)!==null&&gI!==void 0?gI:"",fI=new Set,mT=new Set;for(let n of OY.split(","))n.startsWith("-")?mT.add(n.substring(1)):fI.add(n);var PY=fI.has("all");function VY(n,e,t){IT(e)&&(0,Bn.log)(n,new Date().toISOString()+" | v"+NY+" "+kY.pid+" | "+e+" | "+t)}Bn.trace=VY;function IT(n){return!mT.has(n)&&(PY||fI.has(n))}Bn.isTracerEnabled=IT});var sg=S(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.getErrorCode=kA.getErrorMessage=void 0;function GY(n){return n instanceof Error?n.message:String(n)}kA.getErrorMessage=GY;function qY(n){return typeof n=="object"&&n!==null&&"code"in n&&typeof n.code=="number"?n.code:null}kA.getErrorCode=qY});var yn=S(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.Metadata=void 0;var YY=gt(),HY=Re(),JY=sg(),WY=/^[0-9a-z_.-]+$/,zY=/^[ -~]*$/;function jY(n){return WY.test(n)}function KY(n){return zY.test(n)}function yT(n){return n.endsWith("-bin")}function XY(n){return!n.startsWith("grpc-")}function og(n){return n.toLowerCase()}function BT(n,e){if(!jY(n))throw new Error('Metadata key "'+n+'" contains illegal characters');if(e!=null)if(yT(n)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!KY(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var pI=class n{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=og(e),BT(e,t),this.internalRepr.set(e,[t])}add(e,t){e=og(e),BT(e,t);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=og(e),this.internalRepr.delete(e)}get(e){return e=og(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new n(this.options),t=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);t.set(r,s)}return e}merge(e){for(let[t,r]of e.internalRepr){let i=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map($Y);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new n;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{yT(r)?Array.isArray(i)?i.forEach(s=>{t.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(XY(r)?i.split(",").forEach(s=>{t.add(r,Buffer.from(s.trim(),"base64"))}):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{t.add(r,s)}):i!==void 0&&t.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,JY.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,YY.log)(HY.LogVerbosity.ERROR,o)}}return t}};ag.Metadata=pI;var $Y=n=>Buffer.isBuffer(n)?n.toString("base64"):n});var BI=S(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.CallCredentials=void 0;var II=yn();function ZY(n){return"getRequestHeaders"in n&&typeof n.getRequestHeaders=="function"}var NA=class n{static createFromMetadataGenerator(e){return new CI(e)}static createFromGoogleCredential(e){return n.createFromMetadataGenerator((t,r)=>{let i;ZY(e)?i=e.getRequestHeaders(t.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(t.service_url,(a,A)=>{if(a){o(a);return}if(!A){o(new Error("Headers not set by metadata plugin"));return}s(A)})}),i.then(s=>{let o=new II.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new mI}};Ag.CallCredentials=NA;var EI=class n extends NA{constructor(e){super(),this.creds=e}generateMetadata(e){return B(this,null,function*(){let t=new II.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)t.merge(i);return t})}compose(e){return new n(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof n?this.creds.every((t,r)=>t._equals(e.creds[r])):!1}},CI=class n extends NA{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?t(s):r(i)})})}compose(e){return new EI([this,e])}_equals(e){return this===e?!0:e instanceof n?this.metadataGenerator===e.metadataGenerator:!1}},mI=class n extends NA{generateMetadata(e){return Promise.resolve(new II.Metadata)}compose(e){return e}_equals(e){return e instanceof n}}});var QI=S(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});_A.getDefaultRootsData=_A.CIPHER_SUITES=void 0;var eH=F("fs");_A.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var QT=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,yI=null;function tH(){return QT?(yI===null&&(yI=eH.readFileSync(QT)),yI):null}_A.getDefaultRootsData=tH});var ug=S(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.ChannelCredentials=void 0;var nH=F("tls"),rH=BI(),wT=QI();function wI(n,e){if(n&&!(n instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var FA=class{constructor(e){this.callCredentials=e||rH.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var s;if(wI(e,"Root certificate"),wI(t,"Private key"),wI(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,nH.createSecureContext)({ca:(s=e??(0,wT.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:t??void 0,cert:r??void 0,ciphers:wT.CIPHER_SUITES});return new cg(o,i??{})}static createFromSecureContext(e,t){return new cg(e,t??{})}static createInsecure(){return new SI}};lg.ChannelCredentials=FA;var SI=class n extends FA{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof n}},cg=class n extends FA{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new bI(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},bI=class n extends FA{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new n(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Ys=S(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.validateLoadBalancingConfig=An.getFirstUsableConfig=An.isLoadBalancerNameRegistered=An.createLoadBalancer=An.registerDefaultLoadBalancerType=An.registerLoadBalancerType=An.createChildChannelControlHelper=void 0;function iH(n,e){var t,r,i,s,o,a,A,c,l,u;return{createSubchannel:(r=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&r!==void 0?r:n.createSubchannel.bind(n),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:n.updateState.bind(n),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:n.requestReresolution.bind(n),addChannelzChild:(c=(A=e.addChannelzChild)===null||A===void 0?void 0:A.bind(e))!==null&&c!==void 0?c:n.addChannelzChild.bind(n),removeChannelzChild:(u=(l=e.removeChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&u!==void 0?u:n.removeChannelzChild.bind(n)}}An.createChildChannelControlHelper=iH;var qs={},vI=null;function sH(n,e,t){qs[n]={LoadBalancer:e,LoadBalancingConfig:t}}An.registerLoadBalancerType=sH;function oH(n){vI=n}An.registerDefaultLoadBalancerType=oH;function aH(n,e){let t=n.getLoadBalancerName();return t in qs?new qs[t].LoadBalancer(e):null}An.createLoadBalancer=aH;function AH(n){return n in qs}An.isLoadBalancerNameRegistered=AH;function cH(n,e=!1){for(let t of n)if(t.getLoadBalancerName()in qs)return t;return e&&vI?new qs[vI].LoadBalancingConfig:null}An.getFirstUsableConfig=cH;function lH(n){if(!(n!==null&&typeof n=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(n);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in qs)return qs[t].LoadBalancingConfig.createFromJson(n[t]);throw new Error(`Unrecognized load balancing config name ${t}`)}An.validateLoadBalancingConfig=lH});var DI=S(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.extractAndSelectServiceConfig=Hs.validateServiceConfig=Hs.validateRetryThrottling=void 0;var uH=F("os"),hg=Re(),hH=Ys(),dg=/^\d+(\.\d{1,9})?s$/,dH="node";function gH(n){if("service"in n&&n.service!==""){if(typeof n.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof n.service}`);if("method"in n&&n.method!==""){if(typeof n.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof n.service}`);return{service:n.service,method:n.method}}else return{service:n.service}}else{if("method"in n&&n.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function fH(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in n)||typeof n.initialBackoff!="string"||!dg.test(n.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in n)||typeof n.maxBackoff!="string"||!dg.test(n.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in n)||typeof n.backoffMultiplier!="number"||n.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in n&&Array.isArray(n.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(n.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of n.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(hg.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(hg.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:n.maxAttempts,initialBackoff:n.initialBackoff,maxBackoff:n.maxBackoff,backoffMultiplier:n.backoffMultiplier,retryableStatusCodes:n.retryableStatusCodes}}function pH(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in n&&(typeof n.hedgingDelay!="string"||!dg.test(n.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in n&&Array.isArray(n.nonFatalStatusCodes))for(let t of n.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(hg.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(hg.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:n.maxAttempts};return n.hedgingDelay&&(e.hedgingDelay=n.hedgingDelay),n.nonFatalStatusCodes&&(e.nonFatalStatusCodes=n.nonFatalStatusCodes),e}function EH(n){var e;let t={name:[]};if(!("name"in n)||!Array.isArray(n.name))throw new Error("Invalid method config: invalid name array");for(let r of n.name)t.name.push(gH(r));if("waitForReady"in n){if(typeof n.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=n.waitForReady}if("timeout"in n)if(typeof n.timeout=="object"){if(!("seconds"in n.timeout)||typeof n.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in n.timeout)||typeof n.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=n.timeout}else if(typeof n.timeout=="string"&&dg.test(n.timeout)){let r=n.timeout.substring(0,n.timeout.length-1).split(".");t.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in n){if(typeof n.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=n.maxRequestBytes}if("maxResponseBytes"in n){if(typeof n.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=n.maxResponseBytes}if("retryPolicy"in n){if("hedgingPolicy"in n)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=fH(n.retryPolicy)}else"hedgingPolicy"in n&&(t.hedgingPolicy=pH(n.hedgingPolicy));return t}function ST(n){if(!("maxTokens"in n)||typeof n.maxTokens!="number"||n.maxTokens<=0||n.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in n)||typeof n.tokenRatio!="number"||n.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+n.maxTokens.toFixed(3),tokenRatio:+n.tokenRatio.toFixed(3)}}Hs.validateRetryThrottling=ST;function bT(n){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in n)if(typeof n.loadBalancingPolicy=="string")e.loadBalancingPolicy=n.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in n)if(Array.isArray(n.loadBalancingConfig))for(let r of n.loadBalancingConfig)e.loadBalancingConfig.push((0,hH.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in n&&Array.isArray(n.methodConfig))for(let r of n.methodConfig)e.methodConfig.push(EH(r));"retryThrottling"in n&&(e.retryThrottling=ST(n.retryThrottling));let t=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of t)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);t.push(i)}return e}Hs.validateServiceConfig=bT;function CH(n){if(!("serviceConfig"in n))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:bT(n.serviceConfig)};if("clientLanguage"in n)if(Array.isArray(n.clientLanguage)){e.clientLanguage=[];for(let r of n.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in n)if(Array.isArray(n.clientHostname)){e.clientHostname=[];for(let r of n.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in n)if(typeof n.percentage=="number"&&0<=n.percentage&&n.percentage<=100)e.percentage=n.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in n)if(!t.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function mH(n,e){if(!Array.isArray(n))throw new Error("Invalid service config list");for(let t of n){let r=CH(t);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===uH.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===dH&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function IH(n,e){for(let t of n)if(t.length>0&&t[0].startsWith("grpc_config=")){let r=t.join("").substring(12),i=JSON.parse(r);return mH(i,e)}return null}Hs.extractAndSelectServiceConfig=IH});var fr=S(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.ConnectivityState=void 0;var vT=function(n){return n[n.IDLE=0]="IDLE",n[n.CONNECTING=1]="CONNECTING",n[n.READY=2]="READY",n[n.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",n[n.SHUTDOWN=4]="SHUTDOWN",n}(vT||(gg.ConnectivityState=vT={}))});var $n=S(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.uriToString=Js.splitHostPort=Js.parseUri=void 0;var BH=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function yH(n){let e=BH.exec(n);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Js.parseUri=yH;var DT=/^\d+$/;function QH(n){if(n.startsWith("[")){let e=n.indexOf("]");if(e===-1)return null;let t=n.substring(1,e);if(t.indexOf(":")===-1)return null;if(n.length>e+1)if(n[e+1]===":"){let r=n.substring(e+2);return DT.test(r)?{host:t,port:+r}:null}else return null;else return{host:t}}else{let e=n.split(":");return e.length===2?DT.test(e[1])?{host:e[0],port:+e[1]}:null:{host:n}}}Js.splitHostPort=QH;function wH(n){let e="";return n.scheme!==void 0&&(e+=n.scheme+":"),n.authority!==void 0&&(e+="//"+n.authority+"/"),e+=n.path,e}Js.uriToString=wH});var gi=S(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.mapUriDefaultScheme=pr.getDefaultAuthority=pr.createResolver=pr.registerDefaultScheme=pr.registerResolver=void 0;var TI=$n(),MA={},RI=null;function SH(n,e){MA[n]=e}pr.registerResolver=SH;function bH(n){RI=n}pr.registerDefaultScheme=bH;function vH(n,e,t){if(n.scheme!==void 0&&n.scheme in MA)return new MA[n.scheme](n,e,t);throw new Error(`No resolver could be created for target ${(0,TI.uriToString)(n)}`)}pr.createResolver=vH;function DH(n){if(n.scheme!==void 0&&n.scheme in MA)return MA[n.scheme].getDefaultAuthority(n);throw new Error(`Invalid target ${(0,TI.uriToString)(n)}`)}pr.getDefaultAuthority=DH;function RH(n){return n.scheme===void 0||!(n.scheme in MA)?RI!==null?{scheme:RI,authority:void 0,path:(0,TI.uriToString)(n)}:null:n}pr.mapUriDefaultScheme=RH});var zs=S(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.QueuePicker=Ws.UnavailablePicker=Ws.PickResultType=void 0;var TH=yn(),kH=Re(),fg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP",n}(fg||(Ws.PickResultType=fg={})),kI=class{constructor(e){this.status=Object.assign({code:kH.Status.UNAVAILABLE,details:"No connection established",metadata:new TH.Metadata},e)}pick(e){return{pickResultType:fg.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ws.UnavailablePicker=kI;var NI=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:fg.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ws.QueuePicker=NI});var pu=S(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.BackoffTimeout=void 0;var NH=1e3,_H=1.6,FH=12e4,MH=.2;function LH(n,e){return Math.random()*(e-n)+n}var _I=class{constructor(e,t){this.callback=e,this.initialDelay=NH,this.multiplier=_H,this.maxDelay=FH,this.jitter=MH,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+LH(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};pg.BackoffTimeout=_I});var Cg=S(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.ChildLoadBalancerHandler=void 0;var UH=Ys(),xH=fr(),OH="child_load_balancer_helper",FI=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var i;if(this.calledByPendingChild()){if(t===xH.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let s=new this.ChildPolicyHelper(this),o=(0,UH.createLoadBalancer)(t,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return OH}};Eg.ChildLoadBalancerHandler=FI});var TT=S(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.ResolvingLoadBalancer=void 0;var PH=Ys(),VH=DI(),xn=fr(),GH=gi(),LA=zs(),qH=pu(),MI=Re(),YH=yn(),HH=gt(),JH=Re(),WH=$n(),zH=Cg(),jH="resolving_load_balancer";function RT(n){HH.trace(JH.LogVerbosity.DEBUG,jH,n)}var KH=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function XH(n,e,t,r){for(let i of t.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===n&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===n&&i.method===e)return!0}return!1}function $H(n,e,t,r){for(let i of t)if(XH(n,e,i,r))return i;return null}function ZH(n){return function(t,r){var i,s;let o=t.split("/").filter(c=>c.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",A=(s=o[1])!==null&&s!==void 0?s:"";if(n&&n.methodConfig)for(let c of KH){let l=$H(a,A,n.methodConfig,c);if(l)return{methodConfig:l,pickInformation:{},status:MI.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:MI.Status.OK,dynamicFilterFactories:[]}}}var LI=class{constructor(e,t,r,i,s){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=xn.ConnectivityState.IDLE,this.latestChildPicker=new LA.QueuePicker(this),this.currentState=xn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,VH.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(xn.ConnectivityState.IDLE,new LA.QueuePicker(this)),this.childLoadBalancer=new zH.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(RT("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,A)=>{this.latestChildState=a,this.latestChildPicker=A,this.updateState(a,A)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,GH.createResolver)(e,{onSuccessfulResolution:(a,A,c,l,u)=>{var h;this.backoffTimeout.stop(),this.backoffTimeout.reset();let d=null;A===null?c===null?(this.previousServiceConfig=null,d=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):d=this.previousServiceConfig:(d=A,this.previousServiceConfig=A);let E=(h=d?.loadBalancingConfig)!==null&&h!==void 0?h:[],I=(0,PH.getFirstUsableConfig)(E,!0);if(I===null){this.handleResolutionFailure({code:MI.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new YH.Metadata});return}this.childLoadBalancer.updateAddressList(a,I,u);let m=d??this.defaultServiceConfig;this.onSuccessfulResolution(m,l??ZH(m))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new qH.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===xn.ConnectivityState.IDLE&&this.updateState(xn.ConnectivityState.CONNECTING,new LA.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){RT((0,WH.uriToString)(this.target)+" "+xn.ConnectivityState[this.currentState]+" -> "+xn.ConnectivityState[e]),e===xn.ConnectivityState.IDLE&&(t=new LA.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===xn.ConnectivityState.IDLE&&(this.updateState(xn.ConnectivityState.TRANSIENT_FAILURE,new LA.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===xn.ConnectivityState.IDLE||this.currentState===xn.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=xn.ConnectivityState.IDLE,this.latestChildPicker=new LA.QueuePicker(this),this.currentState=xn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};mg.ResolvingLoadBalancer=LI});var kT=S(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.channelOptionsEqual=UA.recognizedOptions=void 0;UA.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function eJ(n,e){let t=Object.keys(n).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==r[i]||n[t[i]]!==e[r[i]])return!1;return!0}UA.channelOptionsEqual=eJ});var pi=S(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.stringToSubchannelAddress=fi.subchannelAddressToString=fi.subchannelAddressEqual=fi.isTcpSubchannelAddress=void 0;var tJ=F("net");function Eu(n){return"port"in n}fi.isTcpSubchannelAddress=Eu;function nJ(n,e){return!n&&!e?!0:!n||!e?!1:Eu(n)?Eu(e)&&n.host===e.host&&n.port===e.port:!Eu(e)&&n.path===e.path}fi.subchannelAddressEqual=nJ;function rJ(n){return Eu(n)?n.host+":"+n.port:n.path}fi.subchannelAddressToString=rJ;var iJ=443;function sJ(n,e){return(0,tJ.isIP)(n)?{host:n,port:e??iJ}:{path:n}}fi.stringToSubchannelAddress=sJ});var Ig=S(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.addAdminServicesToServer=xA.registerAdminService=void 0;var NT=[];function oJ(n,e){NT.push({getServiceDefinition:n,getHandlers:e})}xA.registerAdminService=oJ;function aJ(n){for(let{getServiceDefinition:e,getHandlers:t}of NT)n.addService(e(),t())}xA.addAdminServicesToServer=aJ});var _T=S(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.ClientDuplexStreamImpl=Er.ClientWritableStreamImpl=Er.ClientReadableStreamImpl=Er.ClientUnaryCallImpl=Er.callErrorFromStatus=void 0;var AJ=F("events"),VI=F("stream"),Cu=Re();function cJ(n,e){let t=`${n.code} ${Cu.Status[n.code]}: ${n.details}`,i=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),n,{stack:i})}Er.callErrorFromStatus=cJ;var UI=class extends AJ.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cu.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};Er.ClientUnaryCallImpl=UI;var xI=class extends VI.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cu.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};Er.ClientReadableStreamImpl=xI;var OI=class extends VI.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cu.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Er.ClientWritableStreamImpl=OI;var PI=class extends VI.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cu.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Er.ClientDuplexStreamImpl=PI});var FT=S(OA=>{"use strict";Object.defineProperty(OA,"__esModule",{value:!0});OA.InterceptingListenerImpl=OA.isInterceptingListener=void 0;function lJ(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}OA.isInterceptingListener=lJ;var GI=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};OA.InterceptingListenerImpl=GI});var jI=S(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getInterceptingCall=Cr.InterceptingCall=Cr.RequesterBuilder=Cr.ListenerBuilder=Cr.InterceptorConfigurationError=void 0;var uJ=yn(),MT=FT(),LT=Re(),UT=sg(),Iu=class n extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,n)}};Cr.InterceptorConfigurationError=Iu;var YI=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Cr.ListenerBuilder=YI;var HI=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Cr.RequesterBuilder=HI;var qI={onReceiveMetadata:(n,e)=>{e(n)},onReceiveMessage:(n,e)=>{e(n)},onReceiveStatus:(n,e)=>{e(n)}},mu={start:(n,e,t)=>{t(n,e)},sendMessage:(n,e)=>{e(n)},halfClose:n=>{n()},cancel:n=>{n()}},JI=class{constructor(e,t){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(r=t.start)!==null&&r!==void 0?r:mu.start,sendMessage:(i=t.sendMessage)!==null&&i!==void 0?i:mu.sendMessage,halfClose:(s=t.halfClose)!==null&&s!==void 0?s:mu.halfClose,cancel:(o=t.cancel)!==null&&o!==void 0?o:mu.cancel}:this.requester=mu}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,A;let c={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:l=>{},onReceiveMessage:(o=(s=t?.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:l=>{},onReceiveStatus:(A=(a=t?.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&A!==void 0?A:l=>{}};this.processingMetadata=!0,this.requester.start(e,c,(l,u)=>{var h,d,E;this.processingMetadata=!1;let I;if((0,MT.isInterceptingListener)(u))I=u;else{let m={onReceiveMetadata:(h=u.onReceiveMetadata)!==null&&h!==void 0?h:qI.onReceiveMetadata,onReceiveMessage:(d=u.onReceiveMessage)!==null&&d!==void 0?d:qI.onReceiveMessage,onReceiveStatus:(E=u.onReceiveStatus)!==null&&E!==void 0?E:qI.onReceiveStatus};I=new MT.InterceptingListenerImpl(m,c)}this.nextCall.start(l,I),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Cr.InterceptingCall=JI;function hJ(n,e,t){var r,i;let s=(r=t.deadline)!==null&&r!==void 0?r:1/0,o=t.host,a=(i=t.parent)!==null&&i!==void 0?i:null,A=t.propagate_flags,c=t.credentials,l=n.createCall(e,s,o,a,A);return c&&l.setCredentials(c),l}var Bg=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(i){this.call.cancelWithStatus(LT.Status.INTERNAL,`Request message serialization failure: ${(0,UT.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=t?.onReceiveMetadata)===null||s===void 0||s.call(t,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:LT.Status.INTERNAL,details:`Response message parsing error: ${(0,UT.getErrorMessage)(a)}`,metadata:new uJ.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=t?.onReceiveMessage)===null||s===void 0||s.call(t,o)},onReceiveStatus:i=>{var s,o;r?(s=t?.onReceiveStatus)===null||s===void 0||s.call(t,r):(o=t?.onReceiveStatus)===null||o===void 0||o.call(t,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},WI=class extends Bg{constructor(e,t){super(e,t)}start(e,t){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var A;s=!0,(A=t?.onReceiveMessage)===null||A===void 0||A.call(t,a)},onReceiveStatus:a=>{var A,c;s||(A=t?.onReceiveMessage)===null||A===void 0||A.call(t,null),(c=t?.onReceiveStatus)===null||c===void 0||c.call(t,a)}};super.start(e,o),this.call.startRead()}},zI=class extends Bg{};function dJ(n,e,t){let r=hJ(n,t.path,e);return t.responseStream?new zI(r,t):new WI(r,t)}function gJ(n,e,t,r){if(n.clientInterceptors.length>0&&n.clientInterceptorProviders.length>0)throw new Iu("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(n.callInterceptors.length>0&&n.callInterceptorProviders.length>0)throw new Iu("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];n.callInterceptors.length>0||n.callInterceptorProviders.length>0?i=[].concat(n.callInterceptors,n.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(n.clientInterceptors,n.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},t,{method_definition:e});return i.reduceRight((a,A)=>c=>A(c,a),a=>dJ(r,a,e))(s)}Cr.getInterceptingCall=gJ});var $I=S(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.Client=void 0;var Ei=_T(),fJ=ZI(),pJ=fr(),js=Re(),PA=yn(),yg=jI(),Gr=Symbol(),VA=Symbol(),GA=Symbol(),ns=Symbol();function KI(n){return typeof n=="function"}function qA(n){return n.stack.split(`
`).slice(1).join(`
`)}var XI=class{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[VA]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[GA]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[VA].length>0&&this[GA].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[ns]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Gr]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Gr]=o(e,t,r)}else this[Gr]=new fJ.ChannelImplementation(e,t,r)}close(){this[Gr].close()}getChannel(){return this[Gr]}waitForReady(e,t){let r=i=>{if(i){t(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Gr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(s===pJ.ConnectivityState.READY)t();else try{this[Gr].watchConnectivityState(s,e,r)}catch{t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(KI(e))return{metadata:new PA.Metadata,options:{},callback:e};if(KI(t))return e instanceof PA.Metadata?{metadata:e,options:{},callback:t}:{metadata:new PA.Metadata,options:e,callback:t};if(!(e instanceof PA.Metadata&&t instanceof Object&&KI(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,a){var A,c;let l=this.checkOptionalUnaryResponseArguments(s,o,a),u={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},h={argument:i,metadata:l.metadata,call:new Ei.ClientUnaryCallImpl,channel:this[Gr],methodDefinition:u,callOptions:l.options,callback:l.callback};this[ns]&&(h=this[ns](h));let d=h.call,E={clientInterceptors:this[VA],clientInterceptorProviders:this[GA],callInterceptors:(A=h.callOptions.interceptors)!==null&&A!==void 0?A:[],callInterceptorProviders:(c=h.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},I=(0,yg.getInterceptingCall)(E,h.methodDefinition,h.callOptions,h.channel);d.call=I;let m=null,D=!1,v=new Error;return I.start(h.metadata,{onReceiveMetadata:k=>{d.emit("metadata",k)},onReceiveMessage(k){m!==null&&I.cancelWithStatus(js.Status.INTERNAL,"Too many responses received"),m=k},onReceiveStatus(k){if(!D){if(D=!0,k.code===js.Status.OK)if(m===null){let T=qA(v);h.callback((0,Ei.callErrorFromStatus)({code:js.Status.INTERNAL,details:"No message received",metadata:k.metadata},T))}else h.callback(null,m);else{let T=qA(v);h.callback((0,Ei.callErrorFromStatus)(k,T))}v=null,d.emit("status",k)}}}),I.sendMessage(i),I.halfClose(),d}makeClientStreamRequest(e,t,r,i,s,o){var a,A;let c=this.checkOptionalUnaryResponseArguments(i,s,o),l={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},u={metadata:c.metadata,call:new Ei.ClientWritableStreamImpl(t),channel:this[Gr],methodDefinition:l,callOptions:c.options,callback:c.callback};this[ns]&&(u=this[ns](u));let h=u.call,d={clientInterceptors:this[VA],clientInterceptorProviders:this[GA],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},E=(0,yg.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=E;let I=null,m=!1,D=new Error;return E.start(u.metadata,{onReceiveMetadata:v=>{h.emit("metadata",v)},onReceiveMessage(v){I!==null&&E.cancelWithStatus(js.Status.INTERNAL,"Too many responses received"),I=v},onReceiveStatus(v){if(!m){if(m=!0,v.code===js.Status.OK)if(I===null){let k=qA(D);u.callback((0,Ei.callErrorFromStatus)({code:js.Status.INTERNAL,details:"No message received",metadata:v.metadata},k))}else u.callback(null,I);else{let k=qA(D);u.callback((0,Ei.callErrorFromStatus)(v,k))}D=null,h.emit("status",v)}}}),h}checkMetadataAndOptions(e,t){let r,i;return e instanceof PA.Metadata?(r=e,t?i=t:i={}):(e?i=e:i={},r=new PA.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,i,s,o){var a,A;let c=this.checkMetadataAndOptions(s,o),l={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},u={argument:i,metadata:c.metadata,call:new Ei.ClientReadableStreamImpl(r),channel:this[Gr],methodDefinition:l,callOptions:c.options};this[ns]&&(u=this[ns](u));let h=u.call,d={clientInterceptors:this[VA],clientInterceptorProviders:this[GA],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},E=(0,yg.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=E;let I=!1,m=new Error;return E.start(u.metadata,{onReceiveMetadata(D){h.emit("metadata",D)},onReceiveMessage(D){h.push(D)},onReceiveStatus(D){if(!I){if(I=!0,h.push(null),D.code!==js.Status.OK){let v=qA(m);h.emit("error",(0,Ei.callErrorFromStatus)(D,v))}m=null,h.emit("status",D)}}}),E.sendMessage(i),E.halfClose(),h}makeBidiStreamRequest(e,t,r,i,s){var o,a;let A=this.checkMetadataAndOptions(i,s),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},l={metadata:A.metadata,call:new Ei.ClientDuplexStreamImpl(t,r),channel:this[Gr],methodDefinition:c,callOptions:A.options};this[ns]&&(l=this[ns](l));let u=l.call,h={clientInterceptors:this[VA],clientInterceptorProviders:this[GA],callInterceptors:(o=l.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=l.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},d=(0,yg.getInterceptingCall)(h,l.methodDefinition,l.callOptions,l.channel);u.call=d;let E=!1,I=new Error;return d.start(l.metadata,{onReceiveMetadata(m){u.emit("metadata",m)},onReceiveMessage(m){u.push(m)},onReceiveStatus(m){if(!E){if(E=!0,u.push(null),m.code!==js.Status.OK){let D=qA(I);u.emit("error",(0,Ei.callErrorFromStatus)(m,D))}I=null,u.emit("status",m)}}}),u}};Qg.Client=XI});var tB=S(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0});YA.loadPackageDefinition=YA.makeClientConstructor=void 0;var Bu=$I(),EJ={unary:Bu.Client.prototype.makeUnaryRequest,server_stream:Bu.Client.prototype.makeServerStreamRequest,client_stream:Bu.Client.prototype.makeClientStreamRequest,bidi:Bu.Client.prototype.makeBidiStreamRequest};function eB(n){return["__proto__","prototype","constructor"].includes(n)}function xT(n,e,t){t||(t={});class r extends Bu.Client{}return Object.keys(n).forEach(i=>{if(eB(i))return;let s=n[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,A=s.responseDeserialize,c=CJ(EJ[o],s.path,a,A);r.prototype[i]=c,Object.assign(r.prototype[i],s),s.originalName&&!eB(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=n,r.serviceName=e,r}YA.makeClientConstructor=xT;function CJ(n,e,t,r){return function(...i){return n.call(this,e,t,r,...i)}}function mJ(n){return"format"in n}function IJ(n){let e={};for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t],i=t.split(".");if(i.some(a=>eB(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];mJ(r)?o[s]=r:o[s]=xT(r,s,{})}return e}YA.loadPackageDefinition=IJ});var ck=S((Bge,Ak)=>{"use strict";var BJ=1/0,yJ="[object Symbol]",QJ=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wJ=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sg="\\ud800-\\udfff",JT="\\u0300-\\u036f\\ufe20-\\ufe23",WT="\\u20d0-\\u20f0",zT="\\u2700-\\u27bf",jT="a-z\\xdf-\\xf6\\xf8-\\xff",SJ="\\xac\\xb1\\xd7\\xf7",bJ="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vJ="\\u2000-\\u206f",DJ=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",KT="A-Z\\xc0-\\xd6\\xd8-\\xde",XT="\\ufe0e\\ufe0f",$T=SJ+bJ+vJ+DJ,rB="['\u2019]",RJ="["+Sg+"]",OT="["+$T+"]",wg="["+JT+WT+"]",ZT="\\d+",TJ="["+zT+"]",ek="["+jT+"]",tk="[^"+Sg+$T+ZT+zT+jT+KT+"]",nB="\\ud83c[\\udffb-\\udfff]",kJ="(?:"+wg+"|"+nB+")",nk="[^"+Sg+"]",iB="(?:\\ud83c[\\udde6-\\uddff]){2}",sB="[\\ud800-\\udbff][\\udc00-\\udfff]",HA="["+KT+"]",rk="\\u200d",PT="(?:"+ek+"|"+tk+")",NJ="(?:"+HA+"|"+tk+")",VT="(?:"+rB+"(?:d|ll|m|re|s|t|ve))?",GT="(?:"+rB+"(?:D|LL|M|RE|S|T|VE))?",ik=kJ+"?",sk="["+XT+"]?",_J="(?:"+rk+"(?:"+[nk,iB,sB].join("|")+")"+sk+ik+")*",ok=sk+ik+_J,FJ="(?:"+[TJ,iB,sB].join("|")+")"+ok,MJ="(?:"+[nk+wg+"?",wg,iB,sB,RJ].join("|")+")",LJ=RegExp(rB,"g"),UJ=RegExp(wg,"g"),xJ=RegExp(nB+"(?="+nB+")|"+MJ+ok,"g"),OJ=RegExp([HA+"?"+ek+"+"+VT+"(?="+[OT,HA,"$"].join("|")+")",NJ+"+"+GT+"(?="+[OT,HA+PT,"$"].join("|")+")",HA+"?"+PT+"+"+VT,HA+"+"+GT,ZT,FJ].join("|"),"g"),PJ=RegExp("["+rk+Sg+JT+WT+XT+"]"),VJ=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,GJ={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},qJ=typeof global=="object"&&global&&global.Object===Object&&global,YJ=typeof self=="object"&&self&&self.Object===Object&&self,HJ=qJ||YJ||Function("return this")();function JJ(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function WJ(n){return n.split("")}function zJ(n){return n.match(QJ)||[]}function jJ(n){return function(e){return n?.[e]}}var KJ=jJ(GJ);function ak(n){return PJ.test(n)}function XJ(n){return VJ.test(n)}function $J(n){return ak(n)?ZJ(n):WJ(n)}function ZJ(n){return n.match(xJ)||[]}function eW(n){return n.match(OJ)||[]}var tW=Object.prototype,nW=tW.toString,qT=HJ.Symbol,YT=qT?qT.prototype:void 0,HT=YT?YT.toString:void 0;function rW(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function iW(n){if(typeof n=="string")return n;if(cW(n))return HT?HT.call(n):"";var e=n+"";return e=="0"&&1/n==-BJ?"-0":e}function sW(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:rW(n,e,t)}function oW(n){return function(e){e=bg(e);var t=ak(e)?$J(e):void 0,r=t?t[0]:e.charAt(0),i=t?sW(t,1).join(""):e.slice(1);return r[n]()+i}}function aW(n){return function(e){return JJ(gW(hW(e).replace(LJ,"")),n,"")}}function AW(n){return!!n&&typeof n=="object"}function cW(n){return typeof n=="symbol"||AW(n)&&nW.call(n)==yJ}function bg(n){return n==null?"":iW(n)}var lW=aW(function(n,e,t){return e=e.toLowerCase(),n+(t?uW(e):e)});function uW(n){return dW(bg(n).toLowerCase())}function hW(n){return n=bg(n),n&&n.replace(wJ,KJ).replace(UJ,"")}var dW=oW("toUpperCase");function gW(n,e,t){return n=bg(n),e=t?void 0:e,e===void 0?XJ(n)?eW(n):zJ(n):n.match(e)||[]}Ak.exports=lW});var oB=S((yge,lk)=>{"use strict";lk.exports=fW;function fW(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,A){t[r]=function(l){if(s)if(s=!1,l)A(l);else{for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h++]=arguments[h];a.apply(null,u)}};try{n.apply(e||null,t)}catch(c){s&&(s=!1,A(c))}})}});var gk=S(dk=>{"use strict";var vg=dk;vg.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var JA=new Array(64),hk=new Array(123);for(qr=0;qr<64;)hk[JA[qr]=qr<26?qr+65:qr<52?qr+71:qr<62?qr-4:qr-59|43]=qr++;var qr;vg.encode=function(e,t,r){for(var i=null,s=[],o=0,a=0,A;t<r;){var c=e[t++];switch(a){case 0:s[o++]=JA[c>>2],A=(c&3)<<4,a=1;break;case 1:s[o++]=JA[A|c>>4],A=(c&15)<<2,a=2;break;case 2:s[o++]=JA[A|c>>6],s[o++]=JA[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=JA[A],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var uk="invalid encoding";vg.decode=function(e,t,r){for(var i=r,s=0,o,a=0;a<e.length;){var A=e.charCodeAt(a++);if(A===61&&s>1)break;if((A=hk[A])===void 0)throw Error(uk);switch(s){case 0:o=A,s=1;break;case 1:t[r++]=o<<2|(A&48)>>4,o=A,s=2;break;case 2:t[r++]=(o&15)<<4|(A&60)>>2,o=A,s=3;break;case 3:t[r++]=(o&3)<<6|A,s=0;break}}if(s===1)throw Error(uk);return r-i};vg.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var pk=S((wge,fk)=>{"use strict";fk.exports=Dg;function Dg(){this._listeners={}}Dg.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};Dg.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};Dg.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var Qk=S((Sge,yk)=>{"use strict";yk.exports=Ek(Ek);function Ek(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(A,c,l){e[0]=A,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3]}function s(A,c,l){e[0]=A,c[l]=t[3],c[l+1]=t[2],c[l+2]=t[1],c[l+3]=t[0]}n.writeFloatLE=r?i:s,n.writeFloatBE=r?s:i;function o(A,c){return t[0]=A[c],t[1]=A[c+1],t[2]=A[c+2],t[3]=A[c+3],e[0]}function a(A,c){return t[3]=A[c],t[2]=A[c+1],t[1]=A[c+2],t[0]=A[c+3],e[0]}n.readFloatLE=r?o:a,n.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var A=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-A)*8388608)&8388607;r((a<<31|A+127<<23|c)>>>0,s,o)}}n.writeFloatLE=e.bind(null,Ck),n.writeFloatBE=e.bind(null,mk);function t(r,i,s){var o=r(i,s),a=(o>>31)*2+1,A=o>>>23&255,c=o&8388607;return A===255?c?NaN:a*(1/0):A===0?a*1401298464324817e-60*c:a*Math.pow(2,A-150)*(c+8388608)}n.readFloatLE=t.bind(null,Ik),n.readFloatBE=t.bind(null,Bk)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(A,c,l){e[0]=A,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3],c[l+4]=t[4],c[l+5]=t[5],c[l+6]=t[6],c[l+7]=t[7]}function s(A,c,l){e[0]=A,c[l]=t[7],c[l+1]=t[6],c[l+2]=t[5],c[l+3]=t[4],c[l+4]=t[3],c[l+5]=t[2],c[l+6]=t[1],c[l+7]=t[0]}n.writeDoubleLE=r?i:s,n.writeDoubleBE=r?s:i;function o(A,c){return t[0]=A[c],t[1]=A[c+1],t[2]=A[c+2],t[3]=A[c+3],t[4]=A[c+4],t[5]=A[c+5],t[6]=A[c+6],t[7]=A[c+7],e[0]}function a(A,c){return t[7]=A[c],t[6]=A[c+1],t[5]=A[c+2],t[4]=A[c+3],t[3]=A[c+4],t[2]=A[c+5],t[1]=A[c+6],t[0]=A[c+7],e[0]}n.readDoubleLE=r?o:a,n.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,A){var c=o<0?1:0;if(c&&(o=-o),o===0)r(0,a,A+i),r(1/o>0?0:2147483648,a,A+s);else if(isNaN(o))r(0,a,A+i),r(2146959360,a,A+s);else if(o>17976931348623157e292)r(0,a,A+i),r((c<<31|2146435072)>>>0,a,A+s);else{var l;if(o<22250738585072014e-324)l=o/5e-324,r(l>>>0,a,A+i),r((c<<31|l/4294967296)>>>0,a,A+s);else{var u=Math.floor(Math.log(o)/Math.LN2);u===1024&&(u=1023),l=o*Math.pow(2,-u),r(l*4503599627370496>>>0,a,A+i),r((c<<31|u+1023<<20|l*1048576&1048575)>>>0,a,A+s)}}}n.writeDoubleLE=e.bind(null,Ck,0,4),n.writeDoubleBE=e.bind(null,mk,4,0);function t(r,i,s,o,a){var A=r(o,a+i),c=r(o,a+s),l=(c>>31)*2+1,u=c>>>20&2047,h=4294967296*(c&1048575)+A;return u===2047?h?NaN:l*(1/0):u===0?l*5e-324*h:l*Math.pow(2,u-1075)*(h+4503599627370496)}n.readDoubleLE=t.bind(null,Ik,0,4),n.readDoubleBE=t.bind(null,Bk,4,0)}(),n}function Ck(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function mk(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function Ik(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function Bk(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var aB=S((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var Sk=S(wk=>{"use strict";var AB=wk;AB.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};AB.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var s=null,o=[],a=0,A;t<r;)A=e[t++],A<128?o[a++]=A:A>191&&A<224?o[a++]=(A&31)<<6|e[t++]&63:A>239&&A<365?(A=((A&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(A>>10),o[a++]=56320+(A&1023)):o[a++]=(A&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};AB.write=function(e,t,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128);return r-i}});var vk=S((vge,bk)=>{"use strict";bk.exports=pW;function pW(n,e,t){var r=t||8192,i=r>>>1,s=null,o=r;return function(A){if(A<1||A>i)return n(A);o+A>r&&(s=n(r),o=0);var c=e.call(s,o,o+=A);return o&7&&(o=(o|7)+1),c}}});var Rk=S((Dge,Dk)=>{"use strict";Dk.exports=qt;var yu=Ci();function qt(n,e){this.lo=n>>>0,this.hi=e>>>0}var Aa=qt.zero=new qt(0,0);Aa.toNumber=function(){return 0};Aa.zzEncode=Aa.zzDecode=function(){return this};Aa.length=function(){return 1};var EW=qt.zeroHash="\0\0\0\0\0\0\0\0";qt.fromNumber=function(e){if(e===0)return Aa;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new qt(r,i)};qt.from=function(e){if(typeof e=="number")return qt.fromNumber(e);if(yu.isString(e))if(yu.Long)e=yu.Long.fromString(e);else return qt.fromNumber(parseInt(e,10));return e.low||e.high?new qt(e.low>>>0,e.high>>>0):Aa};qt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};qt.prototype.toLong=function(e){return yu.Long?new yu.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Ks=String.prototype.charCodeAt;qt.fromHash=function(e){return e===EW?Aa:new qt((Ks.call(e,0)|Ks.call(e,1)<<8|Ks.call(e,2)<<16|Ks.call(e,3)<<24)>>>0,(Ks.call(e,4)|Ks.call(e,5)<<8|Ks.call(e,6)<<16|Ks.call(e,7)<<24)>>>0)};qt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};qt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};qt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};qt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var Ci=S(cB=>{"use strict";var ne=cB;ne.asPromise=oB();ne.base64=gk();ne.EventEmitter=pk();ne.float=Qk();ne.inquire=aB();ne.utf8=Sk();ne.pool=vk();ne.LongBits=Rk();ne.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);ne.global=ne.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||cB;ne.emptyArray=Object.freeze?Object.freeze([]):[];ne.emptyObject=Object.freeze?Object.freeze({}):{};ne.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};ne.isString=function(e){return typeof e=="string"||e instanceof String};ne.isObject=function(e){return e&&typeof e=="object"};ne.isset=ne.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};ne.Buffer=function(){try{var n=ne.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();ne._Buffer_from=null;ne._Buffer_allocUnsafe=null;ne.newBuffer=function(e){return typeof e=="number"?ne.Buffer?ne._Buffer_allocUnsafe(e):new ne.Array(e):ne.Buffer?ne._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};ne.Array=typeof Uint8Array<"u"?Uint8Array:Array;ne.Long=ne.global.dcodeIO&&ne.global.dcodeIO.Long||ne.global.Long||ne.inquire("long");ne.key2Re=/^true|false|0|1$/;ne.key32Re=/^-?(?:0|[1-9][0-9]*)$/;ne.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;ne.longToHash=function(e){return e?ne.LongBits.from(e).toHash():ne.LongBits.zeroHash};ne.longFromHash=function(e,t){var r=ne.LongBits.fromHash(e);return ne.Long?ne.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function Tk(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}ne.merge=Tk;ne.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function kk(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&Tk(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}ne.newError=kk;ne.ProtocolError=kk("ProtocolError");ne.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};ne.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};ne.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};ne._configure=function(){var n=ne.Buffer;if(!n){ne._Buffer_from=ne._Buffer_allocUnsafe=null;return}ne._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},ne._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var Tg=S((Tge,Mk)=>{"use strict";Mk.exports=De;var mr=Ci(),lB,Rg=mr.LongBits,Nk=mr.base64,_k=mr.utf8;function Qu(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function hB(){}function CW(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function De(){this.len=0,this.head=new Qu(hB,0,0),this.tail=this.head,this.states=null}var Fk=function(){return mr.Buffer?function(){return(De.create=function(){return new lB})()}:function(){return new De}};De.create=Fk();De.alloc=function(e){return new mr.Array(e)};mr.Array!==Array&&(De.alloc=mr.pool(De.alloc,mr.Array.prototype.subarray));De.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Qu(e,t,r),this.len+=t,this};function dB(n,e,t){e[t]=n&255}function mW(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function gB(n,e){this.len=n,this.next=void 0,this.val=e}gB.prototype=Object.create(Qu.prototype);gB.prototype.fn=mW;De.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new gB((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};De.prototype.int32=function(e){return e<0?this._push(fB,10,Rg.fromNumber(e)):this.uint32(e)};De.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function fB(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}De.prototype.uint64=function(e){var t=Rg.from(e);return this._push(fB,t.length(),t)};De.prototype.int64=De.prototype.uint64;De.prototype.sint64=function(e){var t=Rg.from(e).zzEncode();return this._push(fB,t.length(),t)};De.prototype.bool=function(e){return this._push(dB,1,e?1:0)};function uB(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}De.prototype.fixed32=function(e){return this._push(uB,4,e>>>0)};De.prototype.sfixed32=De.prototype.fixed32;De.prototype.fixed64=function(e){var t=Rg.from(e);return this._push(uB,4,t.lo)._push(uB,4,t.hi)};De.prototype.sfixed64=De.prototype.fixed64;De.prototype.float=function(e){return this._push(mr.float.writeFloatLE,4,e)};De.prototype.double=function(e){return this._push(mr.float.writeDoubleLE,8,e)};var IW=mr.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};De.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(dB,1,0);if(mr.isString(e)){var r=De.alloc(t=Nk.length(e));Nk.decode(e,r,0),e=r}return this.uint32(t)._push(IW,t,e)};De.prototype.string=function(e){var t=_k.length(e);return t?this.uint32(t)._push(_k.write,t,e):this._push(dB,1,0)};De.prototype.fork=function(){return this.states=new CW(this),this.head=this.tail=new Qu(hB,0,0),this.len=0,this};De.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Qu(hB,0,0),this.len=0),this};De.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};De.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};De._configure=function(n){lB=n,De.create=Fk(),lB._configure()}});var xk=S((kge,Uk)=>{"use strict";Uk.exports=mi;var Lk=Tg();(mi.prototype=Object.create(Lk.prototype)).constructor=mi;var Xs=Ci();function mi(){Lk.call(this)}mi._configure=function(){mi.alloc=Xs._Buffer_allocUnsafe,mi.writeBytesBuffer=Xs.Buffer&&Xs.Buffer.prototype instanceof Uint8Array&&Xs.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};mi.prototype.bytes=function(e){Xs.isString(e)&&(e=Xs._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(mi.writeBytesBuffer,t,e),this};function BW(n,e,t){n.length<40?Xs.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}mi.prototype.string=function(e){var t=Xs.Buffer.byteLength(e);return this.uint32(t),t&&this._push(BW,t,e),this};mi._configure()});var Ng=S((Nge,qk)=>{"use strict";qk.exports=It;var Yr=Ci(),EB,Vk=Yr.LongBits,yW=Yr.utf8;function Hr(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function It(n){this.buf=n,this.pos=0,this.len=n.length}var Ok=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new It(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new It(e);throw Error("illegal buffer")},Gk=function(){return Yr.Buffer?function(t){return(It.create=function(i){return Yr.Buffer.isBuffer(i)?new EB(i):Ok(i)})(t)}:Ok};It.create=Gk();It.prototype._slice=Yr.Array.prototype.subarray||Yr.Array.prototype.slice;It.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Hr(this,10);return e}}();It.prototype.int32=function(){return this.uint32()|0};It.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function pB(){var n=new Vk(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Hr(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw Hr(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}It.prototype.bool=function(){return this.uint32()!==0};function kg(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}It.prototype.fixed32=function(){if(this.pos+4>this.len)throw Hr(this,4);return kg(this.buf,this.pos+=4)};It.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Hr(this,4);return kg(this.buf,this.pos+=4)|0};function Pk(){if(this.pos+8>this.len)throw Hr(this,8);return new Vk(kg(this.buf,this.pos+=4),kg(this.buf,this.pos+=4))}It.prototype.float=function(){if(this.pos+4>this.len)throw Hr(this,4);var e=Yr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};It.prototype.double=function(){if(this.pos+8>this.len)throw Hr(this,4);var e=Yr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};It.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw Hr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=Yr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};It.prototype.string=function(){var e=this.bytes();return yW.read(e,0,e.length)};It.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Hr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Hr(this);while(this.buf[this.pos++]&128);return this};It.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};It._configure=function(n){EB=n,It.create=Gk(),EB._configure();var e=Yr.Long?"toLong":"toNumber";Yr.merge(It.prototype,{int64:function(){return pB.call(this)[e](!1)},uint64:function(){return pB.call(this)[e](!0)},sint64:function(){return pB.call(this).zzDecode()[e](!1)},fixed64:function(){return Pk.call(this)[e](!0)},sfixed64:function(){return Pk.call(this)[e](!1)}})}});var Wk=S((_ge,Jk)=>{"use strict";Jk.exports=ca;var Hk=Ng();(ca.prototype=Object.create(Hk.prototype)).constructor=ca;var Yk=Ci();function ca(n){Hk.call(this,n)}ca._configure=function(){Yk.Buffer&&(ca.prototype._slice=Yk.Buffer.prototype.slice)};ca.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ca._configure()});var jk=S((Fge,zk)=>{"use strict";zk.exports=wu;var CB=Ci();(wu.prototype=Object.create(CB.EventEmitter.prototype)).constructor=wu;function wu(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");CB.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}wu.prototype.rpcCall=function n(e,t,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return CB.asPromise(n,o,e,t,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(A,c){if(A)return o.emit("error",A,e),s(A);if(c===null){o.end(!0);return}if(!(c instanceof r))try{c=r[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return o.emit("error",l,e),s(l)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};wu.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var mB=S(Kk=>{"use strict";var QW=Kk;QW.Service=jk()});var IB=S((Lge,Xk)=>{"use strict";Xk.exports={}});var eN=S(Zk=>{"use strict";var On=Zk;On.build="minimal";On.Writer=Tg();On.BufferWriter=xk();On.Reader=Ng();On.BufferReader=Wk();On.util=Ci();On.rpc=mB();On.roots=IB();On.configure=$k;function $k(){On.util._configure(),On.Writer._configure(On.BufferWriter),On.Reader._configure(On.BufferReader)}$k()});var nN=S((xge,tN)=>{"use strict";tN.exports=BB;function BB(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(s){if(typeof s!="string"){var o=i();if(BB.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),A=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)A[l]=a[l],c[l]=s[a[l++]];return A[l]=o,Function.apply(null,A).apply(null,c)}return Function(o)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,s=s.replace(/%([%dfijs])/g,function(E,I){var m=u[h++];switch(I){case"d":case"f":return String(Number(m));case"i":return String(Math.floor(m));case"j":return JSON.stringify(m);case"s":return String(m)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return t.push(s),r}function i(s){return"function "+(s||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}BB.verbose=!1});var iN=S((Oge,rN)=>{"use strict";rN.exports=Su;var wW=oB(),SW=aB(),yB=SW("fs");function Su(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&yB&&yB.readFile?yB.readFile(n,function(i,s){return i&&typeof XMLHttpRequest<"u"?Su.xhr(n,e,t):i?t(i):t(null,e.binary?s:s.toString("utf8"))}):Su.xhr(n,e,t):wW(Su,this,n,e)}Su.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var aN=S(oN=>{"use strict";var wB=oN,sN=wB.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},QB=wB.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=sN(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)t[s]===".."?s>0&&t[s-1]!==".."?t.splice(--s,2):r?t.splice(s,1):++s:t[s]==="."?t.splice(s,1):++s;return i+t.join("/")};wB.resolve=function(e,t,r){return r||(t=QB(t)),sN(t)?t:(r||(e=QB(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?QB(e+"/"+t):t)}});var la=S(AN=>{"use strict";var bu=AN,bW=Yt(),vW=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function vu(n,e){var t=0,r={};for(e|=0;t<n.length;)r[vW[t+e]]=n[t++];return r}bu.basic=vu([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);bu.defaults=vu([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",bW.emptyArray,null]);bu.long=vu([0,0,0,1,1],7);bu.mapKey=vu([0,0,0,5,5,0,0,0,1,1,0,2],2);bu.packed=vu([1,5,0,0,0,5,5,0,0,0,1,1,0])});var $s=S((Gge,uN)=>{"use strict";uN.exports=Ir;var _g=ua();((Ir.prototype=Object.create(_g.prototype)).constructor=Ir).className="Field";var cN=Jr(),lN=la(),kt=Yt(),SB,DW=/^required|optional|repeated$/;Ir.fromJSON=function(e,t){return new Ir(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function Ir(n,e,t,r,i,s,o){if(kt.isObject(r)?(o=i,s=r,r=i=void 0):kt.isObject(i)&&(o=s,s=i,i=void 0),_g.call(this,n,s),!kt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!kt.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!DW.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!kt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.required=r==="required",this.optional=!this.required,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=kt.Long?lN.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(Ir.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Ir.prototype.setOption=function(e,t,r){return e==="packed"&&(this._packed=null),_g.prototype.setOption.call(this,e,t,r)};Ir.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return kt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Ir.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=lN.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof SB?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof cN&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof cN))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=kt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;kt.base64.test(this.typeDefault)?kt.base64.decode(this.typeDefault,e=kt.newBuffer(kt.base64.length(this.typeDefault)),0):kt.utf8.write(this.typeDefault,e=kt.newBuffer(kt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=kt.emptyObject:this.repeated?this.defaultValue=kt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof SB&&(this.parent.ctor.prototype[this.name]=this.defaultValue),_g.prototype.resolve.call(this)};Ir.d=function(e,t,r,i){return typeof t=="function"?t=kt.decorateType(t).name:t&&typeof t=="object"&&(t=kt.decorateEnum(t).name),function(o,a){kt.decorateType(o.constructor).add(new Ir(a,e,t,r,{default:i}))}};Ir._configure=function(e){SB=e}});var WA=S((qge,gN)=>{"use strict";gN.exports=Br;var Mg=ua();((Br.prototype=Object.create(Mg.prototype)).constructor=Br).className="OneOf";var hN=$s(),Fg=Yt();function Br(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),Mg.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}Br.fromJSON=function(e,t){return new Br(e,t.oneof,t.options,t.comment)};Br.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Fg.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function dN(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}Br.prototype.add=function(e){if(!(e instanceof hN))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,dN(this),this};Br.prototype.remove=function(e){if(!(e instanceof hN))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Br.prototype.onAdd=function(e){Mg.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}dN(this)};Br.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);Mg.prototype.onRemove.call(this,e)};Br.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,s){Fg.decorateType(i.constructor).add(new Br(s,e)),Object.defineProperty(i,s,{get:Fg.oneOfGetter(e),set:Fg.oneOfSetter(e)})}}});var KA=S((Yge,CN)=>{"use strict";CN.exports=Te;var bB=ua();((Te.prototype=Object.create(bB.prototype)).constructor=Te).className="Namespace";var fN=$s(),Lg=Yt(),RW=WA(),zA,Du,jA;Te.fromJSON=function(e,t){return new Te(e,t.options).addJSON(t.nested)};function pN(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Te.arrayToJSON=pN;Te.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Te.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Te(n,e){bB.call(this,n,e),this.nested=void 0,this._nestedArray=null}function EN(n){return n._nestedArray=null,n}Object.defineProperty(Te.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Lg.toArray(this.nested))}});Te.prototype.toJSON=function(e){return Lg.toObject(["options",this.options,"nested",pN(this.nestedArray,e)])};Te.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],t.add((s.fields!==void 0?zA.fromJSON:s.values!==void 0?jA.fromJSON:s.methods!==void 0?Du.fromJSON:s.id!==void 0?fN.fromJSON:Te.fromJSON)(r[i],s));return this};Te.prototype.get=function(e){return this.nested&&this.nested[e]||null};Te.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof jA)return this.nested[e].values;throw Error("no such enum: "+e)};Te.prototype.add=function(e){if(!(e instanceof fN&&e.extend!==void 0||e instanceof zA||e instanceof RW||e instanceof jA||e instanceof Du||e instanceof Te))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Te&&e instanceof Te&&!(t instanceof zA||t instanceof Du)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),EN(this)};Te.prototype.remove=function(e){if(!(e instanceof bB))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),EN(this)};Te.prototype.define=function(e,t){if(Lg.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Te))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Te(i))}return t&&r.addJSON(t),r};Te.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof Te?e[t++].resolveAll():e[t++].resolve();return this.resolve()};Te.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),Lg.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof Te&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof Te&&(i=this._nestedArray[s].lookup(e,t,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,t)};Te.prototype.lookupType=function(e){var t=this.lookup(e,[zA]);if(!t)throw Error("no such type: "+e);return t};Te.prototype.lookupEnum=function(e){var t=this.lookup(e,[jA]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Te.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[zA,jA]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Te.prototype.lookupService=function(e){var t=this.lookup(e,[Du]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Te._configure=function(n,e,t){zA=n,Du=e,jA=t}});var Ug=S((Hge,mN)=>{"use strict";mN.exports=rs;var vB=$s();((rs.prototype=Object.create(vB.prototype)).constructor=rs).className="MapField";var TW=la(),Ru=Yt();function rs(n,e,t,r,i,s){if(vB.call(this,n,e,r,void 0,void 0,i,s),!Ru.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}rs.fromJSON=function(e,t){return new rs(e,t.id,t.keyType,t.type,t.options,t.comment)};rs.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Ru.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};rs.prototype.resolve=function(){if(this.resolved)return this;if(TW.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return vB.prototype.resolve.call(this)};rs.d=function(e,t,r){return typeof r=="function"?r=Ru.decorateType(r).name:r&&typeof r=="object"&&(r=Ru.decorateEnum(r).name),function(s,o){Ru.decorateType(s.constructor).add(new rs(o,e,t,r))}}});var xg=S((Jge,IN)=>{"use strict";IN.exports=ha;var DB=ua();((ha.prototype=Object.create(DB.prototype)).constructor=ha).className="Method";var XA=Yt();function ha(n,e,t,r,i,s,o,a,A){if(XA.isObject(i)?(o=i,i=s=void 0):XA.isObject(s)&&(o=s,s=void 0),!(e===void 0||XA.isString(e)))throw TypeError("type must be a string");if(!XA.isString(t))throw TypeError("requestType must be a string");if(!XA.isString(r))throw TypeError("responseType must be a string");DB.call(this,n,o),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=A}ha.fromJSON=function(e,t){return new ha(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};ha.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return XA.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};ha.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),DB.prototype.resolve.call(this))}});var Og=S((Wge,yN)=>{"use strict";yN.exports=yr;var Zs=KA();((yr.prototype=Object.create(Zs.prototype)).constructor=yr).className="Service";var RB=xg(),Tu=Yt(),kW=mB();function yr(n,e){Zs.call(this,n,e),this.methods={},this._methodsArray=null}yr.fromJSON=function(e,t){var r=new yr(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(RB.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r};yr.prototype.toJSON=function(e){var t=Zs.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Tu.toObject(["options",t&&t.options||void 0,"methods",Zs.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(yr.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Tu.toArray(this.methods))}});function BN(n){return n._methodsArray=null,n}yr.prototype.get=function(e){return this.methods[e]||Zs.prototype.get.call(this,e)};yr.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return Zs.prototype.resolve.call(this)};yr.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof RB?(this.methods[e.name]=e,e.parent=this,BN(this)):Zs.prototype.add.call(this,e)};yr.prototype.remove=function(e){if(e instanceof RB){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,BN(this)}return Zs.prototype.remove.call(this,e)};yr.prototype.create=function(e,t,r){for(var i=new kW.Service(e,t,r),s=0,o;s<this.methodsArray.length;++s){var a=Tu.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=Tu.codegen(["r","c"],Tu.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var Pg=S((zge,QN)=>{"use strict";QN.exports=Ii;var NW=Ci();function Ii(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}Ii.create=function(e){return this.$type.create(e)};Ii.encode=function(e,t){return this.$type.encode(e,t)};Ii.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};Ii.decode=function(e){return this.$type.decode(e)};Ii.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Ii.verify=function(e){return this.$type.verify(e)};Ii.fromObject=function(e){return this.$type.fromObject(e)};Ii.toObject=function(e,t){return this.$type.toObject(e,t)};Ii.prototype.toJSON=function(){return this.$type.toObject(this,NW.toJSONOptions)}});var TB=S((jge,SN)=>{"use strict";SN.exports=MW;var _W=Jr(),is=la(),wN=Yt();function FW(n){return"missing required '"+n.name+"'"}function MW(n){var e=wN.codegen(["r","l"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");n.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof _W?"int32":r.type,s="m"+wN.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),is.defaults[r.keyType]!==void 0?e("k=%j",is.defaults[r.keyType]):e("k=null"),is.defaults[i]!==void 0?e("value=%j",is.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),is.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),is.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),is.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),is.basic[i]===void 0?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,t):e("%s.push(r.%s())",s,i)):is.basic[i]===void 0?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,t):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var o=n._fieldsArray[t];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",FW(o))}return e("return m")}});var _B=S((Kge,bN)=>{"use strict";bN.exports=xW;var LW=Jr(),kB=Yt();function Qr(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function NB(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof LW){n("switch(%s){",r)("default:")("return%j",Qr(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)n("case %i:",e.resolvedType.values[i[s]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",Qr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",Qr(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",Qr(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",Qr(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",Qr(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",Qr(e,"buffer"));break}return n}function UW(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",Qr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",Qr(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",Qr(e,"boolean key"));break}return n}function xW(n){var e=kB.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var s=n._fieldsArray[i].resolve(),o="m"+kB.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",Qr(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),UW(e,s,"k[i]"),NB(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",Qr(s,"array"))("for(var i=0;i<%s.length;++i){",o),NB(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=kB.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}NB(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var LB=S(DN=>{"use strict";var vN=DN,ku=Jr(),Bi=Yt();function FB(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof ku){n("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var A=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":A=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,A)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,A?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}vN.fromObject=function(e){var t=e.fieldsArray,r=Bi.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),o=Bi.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),FB(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),FB(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof ku||r("if(d%s!=null){",o),FB(r,s,i,o),s.resolvedType instanceof ku||r("}"))}return r("return m")};function MB(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof ku?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}vN.toObject=function(e){var t=e.fieldsArray.slice().sort(Bi.compareFieldsById);if(!t.length)return Bi.codegen()("return {}");for(var r=Bi.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?s:o).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",Bi.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",Bi.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var A=o[a],c=Bi.safeProp(A.name);if(A.resolvedType instanceof ku)r("d%s=o.enums===String?%j:%j",c,A.resolvedType.valuesById[A.typeDefault],A.typeDefault);else if(A.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",A.typeDefault.low,A.typeDefault.high,A.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,A.typeDefault.toString(),A.typeDefault.toNumber());else if(A.bytes){var l="["+Array.prototype.slice.call(A.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,A.typeDefault))("else{")("d%s=%s",c,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,A.typeDefault)}r("}")}var u=!1;for(a=0;a<t.length;++a){var A=t[a],h=e._fieldsArray.indexOf(A),c=Bi.safeProp(A.name);A.map?(u||(u=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),MB(r,A,h,c+"[ks2[j]]")("}")):A.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),MB(r,A,h,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,A.name),MB(r,A,h,c),A.partOf&&r("if(o.oneofs)")("d%s=%j",Bi.safeProp(A.partOf.name),A.name)),r("}")}return r("return d")}});var UB=S(RN=>{"use strict";var OW=RN,PW=Pg();OW[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(n=s.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof PW){var o=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,o["@type"]=i,o}return this.toObject(n,e)}}});var qg=S((Zge,kN)=>{"use strict";kN.exports=Je;var Wr=KA();((Je.prototype=Object.create(Wr.prototype)).constructor=Je).className="Type";var VW=Jr(),PB=WA(),Vg=$s(),GW=Ug(),qW=Og(),xB=Pg(),OB=Ng(),YW=Tg(),cn=Yt(),HW=VB(),JW=TB(),WW=_B(),TN=LB(),zW=UB();function Je(n,e){Wr.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Je.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=cn.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=cn.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Je.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof xB||((n.prototype=new xB).constructor=n,cn.merge(n.prototype,e)),n.$type=n.prototype.$type=this,cn.merge(n,xB,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:cn.oneOfGetter(this._oneofsArray[t].oneof),set:cn.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});Je.generateConstructor=function(e){for(var t=cn.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",cn.safeProp(i.name)):i.repeated&&t("this%s=[]",cn.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Gg(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}Je.fromJSON=function(e,t){var r=new Je(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),s=0;s<i.length;++s)r.add((typeof t.fields[i[s]].keyType<"u"?GW.fromJSON:Vg.fromJSON)(i[s],t.fields[i[s]]));if(t.oneofs)for(i=Object.keys(t.oneofs),s=0;s<i.length;++s)r.add(PB.fromJSON(i[s],t.oneofs[i[s]]));if(t.nested)for(i=Object.keys(t.nested),s=0;s<i.length;++s){var o=t.nested[i[s]];r.add((o.id!==void 0?Vg.fromJSON:o.fields!==void 0?Je.fromJSON:o.values!==void 0?VW.fromJSON:o.methods!==void 0?qW.fromJSON:Wr.fromJSON)(i[s],o))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r};Je.prototype.toJSON=function(e){var t=Wr.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return cn.toObject(["options",t&&t.options||void 0,"oneofs",Wr.arrayToJSON(this.oneofsArray,e),"fields",Wr.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Je.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return Wr.prototype.resolveAll.call(this)};Je.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Je.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof Vg&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),Gg(this)}return e instanceof PB?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),Gg(this)):Wr.prototype.add.call(this,e)};Je.prototype.remove=function(e){if(e instanceof Vg&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),Gg(this)}if(e instanceof PB){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),Gg(this)}return Wr.prototype.remove.call(this,e)};Je.prototype.isReservedId=function(e){return Wr.isReservedId(this.reserved,e)};Je.prototype.isReservedName=function(e){return Wr.isReservedName(this.reserved,e)};Je.prototype.create=function(e){return new this.ctor(e)};Je.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=HW(this)({Writer:YW,types:t,util:cn}),this.decode=JW(this)({Reader:OB,types:t,util:cn}),this.verify=WW(this)({types:t,util:cn}),this.fromObject=TN.fromObject(this)({types:t,util:cn}),this.toObject=TN.toObject(this)({types:t,util:cn});var i=zW[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};Je.prototype.encode=function(e,t){return this.setup().encode(e,t)};Je.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Je.prototype.decode=function(e,t){return this.setup().decode(e,t)};Je.prototype.decodeDelimited=function(e){return e instanceof OB||(e=OB.create(e)),this.decode(e,e.uint32())};Je.prototype.verify=function(e){return this.setup().verify(e)};Je.prototype.fromObject=function(e){return this.setup().fromObject(e)};Je.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Je.d=function(e){return function(r){cn.decorateType(r,e)}}});var Jg=S((efe,LN)=>{"use strict";LN.exports=Zn;var Hg=KA();((Zn.prototype=Object.create(Hg.prototype)).constructor=Zn).className="Root";var qB=$s(),_N=Jr(),jW=WA(),eo=Yt(),FN,GB,Nu;function Zn(n){Hg.call(this,"",n),this.deferred=[],this.files=[]}Zn.fromJSON=function(e,t){return t||(t=new Zn),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};Zn.prototype.resolvePath=eo.path.resolve;Zn.prototype.fetch=eo.fetch;function MN(){}Zn.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return eo.asPromise(n,i,e,t);var s=r===MN;function o(d,E){if(r){if(s)throw d;var I=r;r=null,I(d,E)}}function a(d){var E=d.lastIndexOf("google/protobuf/");if(E>-1){var I=d.substring(E);if(I in Nu)return I}return null}function A(d,E){try{if(eo.isString(E)&&E.charAt(0)==="{"&&(E=JSON.parse(E)),!eo.isString(E))i.setOptions(E.options).addJSON(E.nested);else{GB.filename=d;var I=GB(E,i,t),m,D=0;if(I.imports)for(;D<I.imports.length;++D)(m=a(I.imports[D])||i.resolvePath(d,I.imports[D]))&&c(m);if(I.weakImports)for(D=0;D<I.weakImports.length;++D)(m=a(I.weakImports[D])||i.resolvePath(d,I.weakImports[D]))&&c(m,!0)}}catch(v){o(v)}!s&&!l&&o(null,i)}function c(d,E){if(d=a(d)||d,!(i.files.indexOf(d)>-1)){if(i.files.push(d),d in Nu){s?A(d,Nu[d]):(++l,setTimeout(function(){--l,A(d,Nu[d])}));return}if(s){var I;try{I=eo.fs.readFileSync(d).toString("utf8")}catch(m){E||o(m);return}A(d,I)}else++l,i.fetch(d,function(m,D){if(--l,!!r){if(m){E?l||o(null,i):o(m);return}A(d,D)}})}}var l=0;eo.isString(e)&&(e=[e]);for(var u=0,h;u<e.length;++u)(h=i.resolvePath("",e[u]))&&c(h);if(s)return i;l||o(null,i)};Zn.prototype.loadSync=function(e,t){if(!eo.isNode)throw Error("not supported");return this.load(e,t,MN)};Zn.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Hg.prototype.resolveAll.call(this)};var Yg=/^[A-Z]/;function NN(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new qB(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Zn.prototype._handleAdd=function(e){if(e instanceof qB)e.extend!==void 0&&!e.extensionField&&(NN(this,e)||this.deferred.push(e));else if(e instanceof _N)Yg.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof jW)){if(e instanceof FN)for(var t=0;t<this.deferred.length;)NN(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);Yg.test(e.name)&&(e.parent[e.name]=e)}};Zn.prototype._handleRemove=function(e){if(e instanceof qB){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof _N)Yg.test(e.name)&&delete e.parent[e.name];else if(e instanceof Hg){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);Yg.test(e.name)&&delete e.parent[e.name]}};Zn._configure=function(n,e,t){FN=n,GB=e,Nu=t}});var Yt=S((tfe,xN)=>{"use strict";var Bt=xN.exports=Ci(),UN=IB(),YB,HB;Bt.codegen=nN();Bt.fetch=iN();Bt.path=aN();Bt.fs=Bt.inquire("fs");Bt.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};Bt.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(t[i]=s)}return t};var KW=/\\/g,XW=/"/g;Bt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Bt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Bt.isReserved(e)?'["'+e.replace(KW,"\\\\").replace(XW,'\\"')+'"]':"."+e};Bt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var $W=/_([a-z])/g;Bt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace($W,function(t,r){return r.toUpperCase()})};Bt.compareFieldsById=function(e,t){return e.id-t.id};Bt.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(Bt.decorateRoot.remove(e.$type),e.$type.name=t,Bt.decorateRoot.add(e.$type)),e.$type;YB||(YB=qg());var r=new YB(t||e.name);return Bt.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var ZW=0;Bt.decorateEnum=function(e){if(e.$type)return e.$type;HB||(HB=Jr());var t=new HB("Enum"+ZW++,e);return Bt.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};Bt.setProperty=function(e,t,r){function i(s,o,a){var A=o.shift();if(A==="__proto__"||A==="prototype")return s;if(o.length>0)s[A]=i(s[A]||{},o,a);else{var c=s[A];c&&(a=[].concat(c).concat(a)),s[A]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),i(e,t,r)};Object.defineProperty(Bt,"decorateRoot",{get:function(){return UN.decorated||(UN.decorated=new(Jg()))}})});var ua=S((nfe,ON)=>{"use strict";ON.exports=er;er.className="ReflectionObject";var Wg=Yt(),zg;function er(n,e){if(!Wg.isString(n))throw TypeError("name must be a string");if(e&&!Wg.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(er.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});er.prototype.toJSON=function(){throw Error()};er.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof zg&&t._handleAdd(this)};er.prototype.onRemove=function(e){var t=e.root;t instanceof zg&&t._handleRemove(this),this.parent=null,this.resolved=!1};er.prototype.resolve=function(){return this.resolved?this:(this.root instanceof zg&&(this.resolved=!0),this)};er.prototype.getOption=function(e){if(this.options)return this.options[e]};er.prototype.setOption=function(e,t,r){return(!r||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};er.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(A){return Object.prototype.hasOwnProperty.call(A,e)});if(s){var o=s[e];Wg.setProperty(o,r,t)}else s={},s[e]=Wg.setProperty({},r,t),i.push(s)}else{var a={};a[e]=t,i.push(a)}return this};er.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};er.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};er._configure=function(n){zg=n}});var Jr=S((rfe,GN)=>{"use strict";GN.exports=yi;var PN=ua();((yi.prototype=Object.create(PN.prototype)).constructor=yi).className="Enum";var VN=KA(),jg=Yt();function yi(n,e,t,r,i,s){if(PN.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}yi.fromJSON=function(e,t){var r=new yi(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r};yi.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return jg.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};yi.prototype.add=function(e,t,r,i){if(!jg.isString(e))throw TypeError("name must be a string");if(!jg.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};yi.prototype.remove=function(e){if(!jg.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};yi.prototype.isReservedId=function(e){return VN.isReservedId(this.reserved,e)};yi.prototype.isReservedName=function(e){return VN.isReservedName(this.reserved,e)}});var VB=S((ife,YN)=>{"use strict";YN.exports=t4;var e4=Jr(),JB=la(),WB=Yt();function qN(n,e,t,r){return e.resolvedType.group?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function t4(n){for(var e=WB.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(WB.compareFieldsById),t=0;t<i.length;++t){var s=i[t].resolve(),o=n._fieldsArray.indexOf(s),a=s.resolvedType instanceof e4?"int32":s.type,A=JB.basic[a];r="m"+WB.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|JB.mapKey[s.keyType],s.keyType),A===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|A,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&JB.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),A===void 0?qN(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|A)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),A===void 0?qN(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|A)>>>0,a,r))}return e("return w")}});var JN=S((sfe,HN)=>{"use strict";var we=HN.exports=eN();we.build="light";function n4(n,e,t){return typeof e=="function"?(t=e,e=new we.Root):e||(e=new we.Root),e.load(n,t)}we.load=n4;function r4(n,e){return e||(e=new we.Root),e.loadSync(n)}we.loadSync=r4;we.encoder=VB();we.decoder=TB();we.verifier=_B();we.converter=LB();we.ReflectionObject=ua();we.Namespace=KA();we.Root=Jg();we.Enum=Jr();we.Type=qg();we.Field=$s();we.OneOf=WA();we.MapField=Ug();we.Service=Og();we.Method=xg();we.Message=Pg();we.wrappers=UB();we.types=la();we.util=Yt();we.ReflectionObject._configure(we.Root);we.Namespace._configure(we.Type,we.Service,we.Enum);we.Root._configure(we.Type);we.Field._configure(we.Type)});var jB=S((ofe,jN)=>{"use strict";jN.exports=zN;var zB=/[\s{}=;:[\],'"()<>]/g,i4=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,s4=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o4=/^ *[*/]+ */,a4=/^\s*\*?\/*/,A4=/\n/g,c4=/\s/,l4=/\\(.?)/g,u4={0:"\0",r:"\r",n:`
`,t:"	"};function WN(n){return n.replace(l4,function(e,t){switch(t){case"\\":case"":return t;default:return u4[t]||""}})}zN.unescape=WN;function zN(n,e){n=n.toString();var t=0,r=n.length,i=1,s=0,o={},a=[],A=null;function c(T){return Error("illegal "+T+" (line "+i+")")}function l(){var T=A==="'"?s4:i4;T.lastIndex=t-1;var _=T.exec(n);if(!_)throw c("string");return t=T.lastIndex,m(A),A=null,WN(_[1])}function u(T){return n.charAt(T)}function h(T,_,L){var Q={type:n.charAt(T++),lineEmpty:!1,leading:L},C;e?C=2:C=3;var y=T-C,w;do if(--y<0||(w=n.charAt(y))===`
`){Q.lineEmpty=!0;break}while(w===" "||w==="	");for(var f=n.substring(T,_).split(A4),b=0;b<f.length;++b)f[b]=f[b].replace(e?a4:o4,"").trim();Q.text=f.join(`
`).trim(),o[i]=Q,s=i}function d(T){var _=E(T),L=n.substring(T,_),Q=/^\s*\/\//.test(L);return Q}function E(T){for(var _=T;_<r&&u(_)!==`
`;)_++;return _}function I(){if(a.length>0)return a.shift();if(A)return l();var T,_,L,Q,C,y=t===0;do{if(t===r)return null;for(T=!1;c4.test(L=u(t));)if(L===`
`&&(y=!0,++i),++t===r)return null;if(u(t)==="/"){if(++t===r)throw c("comment");if(u(t)==="/")if(e){if(Q=t,C=!1,d(t-1)){C=!0;do if(t=E(t),t===r||(t++,!y))break;while(d(t))}else t=Math.min(r,E(t)+1);C&&(h(Q,t,y),y=!0),i++,T=!0}else{for(C=u(Q=t+1)==="/";u(++t)!==`
`;)if(t===r)return null;++t,C&&(h(Q,t-1,y),y=!0),++i,T=!0}else if((L=u(t))==="*"){Q=t+1,C=e||u(Q)==="*";do{if(L===`
`&&++i,++t===r)throw c("comment");_=L,L=u(t)}while(_!=="*"||L!=="/");++t,C&&(h(Q,t-2,y),y=!0),T=!0}else return"/"}}while(T);var w=t;zB.lastIndex=0;var f=zB.test(u(w++));if(!f)for(;w<r&&!zB.test(u(w));)++w;var b=n.substring(t,t=w);return(b==='"'||b==="'")&&(A=b),b}function m(T){a.push(T)}function D(){if(!a.length){var T=I();if(T===null)return null;m(T)}return a[0]}function v(T,_){var L=D(),Q=L===T;if(Q)return I(),!0;if(!_)throw c("token '"+L+"', '"+T+"' expected");return!1}function k(T){var _=null,L;return T===void 0?(L=o[i-1],delete o[i-1],L&&(e||L.type==="*"||L.lineEmpty)&&(_=L.leading?L.text:null)):(s<T&&D(),L=o[T],delete o[T],L&&!L.lineEmpty&&(e||L.type==="/")&&(_=L.leading?null:L.text)),_}return Object.defineProperty({next:I,peek:D,push:m,skip:v,cmnt:k},"line",{get:function(){return i}})}});var t_=S((afe,e_)=>{"use strict";e_.exports=ss;ss.filename=null;ss.defaults={keepCase:!1};var h4=jB(),KN=Jg(),XN=qg(),$N=$s(),d4=Ug(),ZN=WA(),g4=Jr(),f4=Og(),p4=xg(),KB=la(),XB=Yt(),E4=/^[1-9][0-9]*$/,C4=/^-?[1-9][0-9]*$/,m4=/^0[x][0-9a-fA-F]+$/,I4=/^-?0[x][0-9a-fA-F]+$/,B4=/^0[0-7]+$/,y4=/^-?0[0-7]+$/,Q4=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Qi=/^[a-zA-Z_][a-zA-Z_0-9]*$/,wi=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,w4=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function ss(n,e,t){e instanceof KN||(t=e,e=new KN),t||(t=ss.defaults);var r=t.preferTrailingComment||!1,i=h4(n,t.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,A=i.skip,c=i.cmnt,l=!0,u,h,d,E,I=!1,m=e,D=t.keepCase?function(U){return U}:XB.camelCase;function v(U,x,q){var ie=ss.filename;return q||(ss.filename=null),Error("illegal "+(x||"token")+" '"+U+"' ("+(ie?ie+", ":"")+"line "+i.line+")")}function k(){var U=[],x;do{if((x=s())!=='"'&&x!=="'")throw v(x);U.push(s()),A(x),x=a()}while(x==='"'||x==="'");return U.join("")}function T(U){var x=s();switch(x){case"'":case'"':return o(x),k();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return L(x,!0)}catch{if(U&&wi.test(x))return x;throw v(x,"value")}}function _(U,x){var q,ie;do x&&((q=a())==='"'||q==="'")?U.push(k()):U.push([ie=Q(s()),A("to",!0)?Q(s()):ie]);while(A(",",!0));var Z={options:void 0};Z.setOption=function(Ee,At){this.options===void 0&&(this.options={}),this.options[Ee]=At},b(Z,function(At){if(At==="option")Ye(Z,At),A(";");else throw v(At)},function(){Xt(Z)})}function L(U,x){var q=1;switch(U.charAt(0)==="-"&&(q=-1,U=U.substring(1)),U){case"inf":case"INF":case"Inf":return q*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(E4.test(U))return q*parseInt(U,10);if(m4.test(U))return q*parseInt(U,16);if(B4.test(U))return q*parseInt(U,8);if(Q4.test(U))return q*parseFloat(U);throw v(U,"number",x)}function Q(U,x){switch(U){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!x&&U.charAt(0)==="-")throw v(U,"id");if(C4.test(U))return parseInt(U,10);if(I4.test(U))return parseInt(U,16);if(y4.test(U))return parseInt(U,8);throw v(U,"id")}function C(){if(u!==void 0)throw v("package");if(u=s(),!wi.test(u))throw v(u,"name");m=m.define(u),A(";")}function y(){var U=a(),x;switch(U){case"weak":x=d||(d=[]),s();break;case"public":s();default:x=h||(h=[]);break}U=k(),A(";"),x.push(U)}function w(){if(A("="),E=k(),I=E==="proto3",!I&&E!=="proto2")throw v(E,"syntax");A(";")}function f(U,x){switch(x){case"option":return Ye(U,x),A(";"),!0;case"message":return g(U,x),!0;case"enum":return Le(U,x),!0;case"service":return Dt(U,x),!0;case"extend":return CA(U,x),!0}return!1}function b(U,x,q){var ie=i.line;if(U&&(typeof U.comment!="string"&&(U.comment=c()),U.filename=ss.filename),A("{",!0)){for(var Z;(Z=s())!=="}";)x(Z);A(";",!0)}else q&&q(),A(";"),U&&(typeof U.comment!="string"||r)&&(U.comment=c(ie)||U.comment)}function g(U,x){if(!Qi.test(x=s()))throw v(x,"type name");var q=new XN(x);b(q,function(Z){if(!f(q,Z))switch(Z){case"map":pe(q,Z);break;case"required":case"repeated":p(q,Z);break;case"optional":I?p(q,"proto3_optional"):p(q,"optional");break;case"oneof":Me(q,Z);break;case"extensions":_(q.extensions||(q.extensions=[]));break;case"reserved":_(q.reserved||(q.reserved=[]),!0);break;default:if(!I||!wi.test(Z))throw v(Z);o(Z),p(q,"optional");break}}),U.add(q)}function p(U,x,q){var ie=s();if(ie==="group"){G(U,x);return}for(;ie.endsWith(".")||a().startsWith(".");)ie+=s();if(!wi.test(ie))throw v(ie,"type");var Z=s();if(!Qi.test(Z))throw v(Z,"name");Z=D(Z),A("=");var Ee=new $N(Z,Q(s()),ie,x,q);if(b(Ee,function(jn){if(jn==="option")Ye(Ee,jn),A(";");else throw v(jn)},function(){Xt(Ee)}),x==="proto3_optional"){var At=new ZN("_"+Z);Ee.setOption("proto3_optional",!0),At.add(Ee),U.add(At)}else U.add(Ee);!I&&Ee.repeated&&(KB.packed[ie]!==void 0||KB.basic[ie]===void 0)&&Ee.setOption("packed",!1,!0)}function G(U,x){var q=s();if(!Qi.test(q))throw v(q,"name");var ie=XB.lcFirst(q);q===ie&&(q=XB.ucFirst(q)),A("=");var Z=Q(s()),Ee=new XN(q);Ee.group=!0;var At=new $N(ie,Z,q,x);At.filename=ss.filename,b(Ee,function(jn){switch(jn){case"option":Ye(Ee,jn),A(";");break;case"required":case"repeated":p(Ee,jn);break;case"optional":I?p(Ee,"proto3_optional"):p(Ee,"optional");break;case"message":g(Ee,jn);break;case"enum":Le(Ee,jn);break;default:throw v(jn)}}),U.add(Ee).add(At)}function pe(U){A("<");var x=s();if(KB.mapKey[x]===void 0)throw v(x,"type");A(",");var q=s();if(!wi.test(q))throw v(q,"type");A(">");var ie=s();if(!Qi.test(ie))throw v(ie,"name");A("=");var Z=new d4(D(ie),Q(s()),x,q);b(Z,function(At){if(At==="option")Ye(Z,At),A(";");else throw v(At)},function(){Xt(Z)}),U.add(Z)}function Me(U,x){if(!Qi.test(x=s()))throw v(x,"name");var q=new ZN(D(x));b(q,function(Z){Z==="option"?(Ye(q,Z),A(";")):(o(Z),p(q,"optional"))}),U.add(q)}function Le(U,x){if(!Qi.test(x=s()))throw v(x,"name");var q=new g4(x);b(q,function(Z){switch(Z){case"option":Ye(q,Z),A(";");break;case"reserved":_(q.reserved||(q.reserved=[]),!0);break;default:mt(q,Z)}}),U.add(q)}function mt(U,x){if(!Qi.test(x))throw v(x,"name");A("=");var q=Q(s(),!0),ie={options:void 0};ie.setOption=function(Z,Ee){this.options===void 0&&(this.options={}),this.options[Z]=Ee},b(ie,function(Ee){if(Ee==="option")Ye(ie,Ee),A(";");else throw v(Ee)},function(){Xt(ie)}),U.add(x,q,ie.comment,ie.options)}function Ye(U,x){var q=A("(",!0);if(!wi.test(x=s()))throw v(x,"name");var ie=x,Z=ie,Ee;q&&(A(")"),ie="("+ie+")",Z=ie,x=a(),w4.test(x)&&(Ee=x.slice(1),ie+=x,s())),A("=");var At=pn(U,ie);ht(U,Z,At,Ee)}function pn(U,x){if(A("{",!0)){for(var q={};!A("}",!0);){if(!Qi.test(sn=s()))throw v(sn,"name");if(sn===null)throw v(sn,"end of input");var ie,Z=sn;if(A(":",!0),a()==="{")ie=pn(U,x+"."+sn);else if(a()==="["){ie=[];var Ee;if(A("[",!0)){do Ee=T(!0),ie.push(Ee);while(A(",",!0));A("]"),typeof Ee<"u"&&vt(U,x+"."+sn,Ee)}}else ie=T(!0),vt(U,x+"."+sn,ie);var At=q[Z];At&&(ie=[].concat(At).concat(ie)),q[Z]=ie,A(",",!0),A(";",!0)}return q}var Ns=T(!0);return vt(U,x,Ns),Ns}function vt(U,x,q){U.setOption&&U.setOption(x,q)}function ht(U,x,q,ie){U.setParsedOption&&U.setParsedOption(x,q,ie)}function Xt(U){if(A("[",!0)){do Ye(U,"option");while(A(",",!0));A("]")}return U}function Dt(U,x){if(!Qi.test(x=s()))throw v(x,"service name");var q=new f4(x);b(q,function(Z){if(!f(q,Z))if(Z==="rpc")En(q,Z);else throw v(Z)}),U.add(q)}function En(U,x){var q=c(),ie=x;if(!Qi.test(x=s()))throw v(x,"name");var Z=x,Ee,At,Ns,jn;if(A("("),A("stream",!0)&&(At=!0),!wi.test(x=s())||(Ee=x,A(")"),A("returns"),A("("),A("stream",!0)&&(jn=!0),!wi.test(x=s())))throw v(x);Ns=x,A(")");var Ud=new p4(Z,ie,Ee,Ns,At,jn);Ud.comment=q,b(Ud,function(_m){if(_m==="option")Ye(Ud,_m),A(";");else throw v(_m)}),U.add(Ud)}function CA(U,x){if(!wi.test(x=s()))throw v(x,"reference");var q=x;b(null,function(Z){switch(Z){case"required":case"repeated":p(U,Z,q);break;case"optional":I?p(U,"proto3_optional",q):p(U,"optional",q);break;default:if(!I||!wi.test(Z))throw v(Z);o(Z),p(U,"optional",q);break}})}for(var sn;(sn=s())!==null;)switch(sn){case"package":if(!l)throw v(sn);C();break;case"import":if(!l)throw v(sn);y();break;case"syntax":if(!l)throw v(sn);w();break;case"option":Ye(m,sn),A(";");break;default:if(f(m,sn)){l=!1;continue}throw v(sn)}return ss.filename=null,{package:u,imports:h,weakImports:d,syntax:E,root:e}}});var i_=S((Afe,r_)=>{"use strict";r_.exports=zr;var S4=/\/|\./;function zr(n,e){S4.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),zr[n]=e}zr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var n_;zr("duration",{Duration:n_={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});zr("timestamp",{Timestamp:n_});zr("empty",{Empty:{fields:{}}});zr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});zr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});zr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});zr.get=function(e){return zr[e]||null}});var o_=S((cfe,s_)=>{"use strict";var to=s_.exports=JN();to.build="full";to.tokenize=jB();to.parse=t_();to.common=i_();to.Root._configure(to.Type,to.parse,to.common)});var Kg=S((lfe,a_)=>{"use strict";a_.exports=o_()});var $B=S((ufe,b4)=>{b4.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var h_=S((Be,u_)=>{"use strict";var Qn=Kg();u_.exports=Be=Qn.descriptor=Qn.Root.fromJSON($B()).lookup(".google.protobuf");var A_=Qn.Namespace,_u=Qn.Root,os=Qn.Enum,no=Qn.Type,ro=Qn.Field,v4=Qn.MapField,Xg=Qn.OneOf,Fu=Qn.Service,$g=Qn.Method;_u.fromDescriptor=function(e){typeof e.length=="number"&&(e=Be.FileDescriptorSet.decode(e));var t=new _u;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=t,(r=e.file[s]).package&&r.package.length&&(i=t.define(r.package)),r.name&&r.name.length&&t.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(no.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(os.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(ro.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(Fu.fromDescriptor(r.service[o]));var a=$A(r.options,Be.FileOptions);if(a){var A=Object.keys(a);for(o=0;o<A.length;++o)i.setOption(A[o],a[A[o]])}}return t};_u.prototype.toDescriptor=function(e){var t=Be.FileDescriptorSet.create();return c_(this,t.file,e),t};function c_(n,e,t){var r=Be.FileDescriptorProto.create({name:n.filename||(n.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(r.syntax=t),n instanceof _u||(r.package=n.fullName.substring(1));for(var i=0,s;i<n.nestedArray.length;++i)(s=n._nestedArray[i])instanceof no?r.messageType.push(s.toDescriptor(t)):s instanceof os?r.enumType.push(s.toDescriptor()):s instanceof ro?r.extension.push(s.toDescriptor(t)):s instanceof Fu?r.service.push(s.toDescriptor()):s instanceof A_&&c_(s,e,t);r.options=ZA(n.options,Be.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var D4=0;no.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=Be.DescriptorProto.decode(e));var r=new no(e.name.length?e.name:"Type"+D4++,$A(e.options,Be.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(Xg.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=ro.fromDescriptor(e.field[i],t);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(ro.fromDescriptor(e.extension[i],t));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(no.fromDescriptor(e.nestedType[i],t)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(os.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};no.prototype.toDescriptor=function(e){var t=Be.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(t.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof v4){var s=ZB(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=ZB(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&l_(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;t.nestedType.push(Be.DescriptorProto.create({name:i.typeName,field:[Be.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),Be.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:Be.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)t.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof ro?t.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof no?t.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof os&&t.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)t.extensionRange.push(Be.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?t.reservedName.push(this.reserved[r]):t.reservedRange.push(Be.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return t.options=ZA(this.options,Be.MessageOptions),t};var R4=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;ro.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=Be.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=F4(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new ro(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=$A(e.options,Be.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var A=R4.exec(a);A&&(a=parseInt(a));break}o.setOption("default",a)}return M4(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};ro.prototype.toDescriptor=function(e){var t=Be.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=Qn.util.ucFirst(this.name),t.label=3;else{switch(t.type=ZB(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?l_(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=ZA(this.options,Be.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=Be.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=Be.FieldOptions.create())).packed=!0),t};var T4=0;os.fromDescriptor=function(e){typeof e.length=="number"&&(e=Be.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;t[i&&i.length?i:"NAME"+s]=s}return new os(e.name&&e.name.length?e.name:"Enum"+T4++,t,$A(e.options,Be.EnumOptions))};os.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(Be.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return Be.EnumDescriptorProto.create({name:this.name,value:e,options:ZA(this.options,Be.EnumOptions)})};var k4=0;Xg.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Be.OneofDescriptorProto.decode(e)),new Xg(e.name&&e.name.length?e.name:"oneof"+k4++)};Xg.prototype.toDescriptor=function(){return Be.OneofDescriptorProto.create({name:this.name})};var N4=0;Fu.fromDescriptor=function(e){typeof e.length=="number"&&(e=Be.ServiceDescriptorProto.decode(e));var t=new Fu(e.name&&e.name.length?e.name:"Service"+N4++,$A(e.options,Be.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)t.add($g.fromDescriptor(e.method[r]));return t};Fu.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return Be.ServiceDescriptorProto.create({name:this.name,method:e,options:ZA(this.options,Be.ServiceOptions)})};var _4=0;$g.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Be.MethodDescriptorProto.decode(e)),new $g(e.name&&e.name.length?e.name:"Method"+_4++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,$A(e.options,Be.MethodOptions))};$g.prototype.toDescriptor=function(){return Be.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:ZA(this.options,Be.MethodOptions)})};function F4(n){switch(n){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+n)}function M4(n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function ZB(n,e){switch(n){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof os)return 14;if(e instanceof no)return e.group?10:11;throw Error("illegal type: "+n)}function $A(n,e){if(n){for(var t=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&n.hasOwnProperty(s)&&(o=n[s],i.resolvedType instanceof os&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),t.push(L4(s),o));return t.length?Qn.util.toObject(t):void 0}}function ZA(n,e){if(n){for(var t=[],r=0,i=Object.keys(n),s,o;r<i.length;++r)if(o=n[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=Qn.util.camelCase(s)])||t.push(s,o)}return t.length?e.fromObject(Qn.util.toObject(t)):void 0}}function l_(n,e){var t=n.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(n instanceof _u)&&e instanceof A_)for(;i<t.length&&s<o&&t[i]===r[s];){var a=e.lookup(t[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<t.length&&s<o&&t[i]===r[s];++i,++s);return r.slice(s).join(".")}function L4(n){return n.substring(0,1)+n.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var d_=S((hfe,U4)=>{U4.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var g_=S((dfe,x4)=>{x4.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var f_=S((gfe,O4)=>{O4.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var m_=S(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.addCommonProtos=io.loadProtosWithOptionsSync=io.loadProtosWithOptions=void 0;var p_=F("fs"),E_=F("path"),ec=Kg();function C_(n,e){let t=n.resolvePath;n.resolvePath=(r,i)=>{if(E_.isAbsolute(i))return i;for(let s of e){let o=E_.join(s,i);try{return p_.accessSync(o,p_.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),t(r,i)}}function P4(n,e){return B(this,null,function*(){let t=new ec.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));C_(t,e.includeDirs)}let r=yield t.load(n,e);return r.resolveAll(),r})}io.loadProtosWithOptions=P4;function V4(n,e){let t=new ec.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");C_(t,e.includeDirs)}let r=t.loadSync(n,e);return r.resolveAll(),r}io.loadProtosWithOptionsSync=V4;function G4(){let n=d_(),e=$B(),t=g_(),r=f_();ec.common("api",n.nested.google.nested.protobuf.nested),ec.common("descriptor",e.nested.google.nested.protobuf.nested),ec.common("source_context",t.nested.google.nested.protobuf.nested),ec.common("type",r.nested.google.nested.protobuf.nested)}io.addCommonProtos=G4});var y_=S((B_,ey)=>{"use strict";var I_=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(g,p,G){this.low=g|0,this.high=p|0,this.unsigned=!!G}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function r(g){return(g&&g.__isLong__)===!0}function i(g){var p=Math.clz32(g&-g);return g?31-p:p}t.isLong=r;var s={},o={};function a(g,p){var G,pe,Me;return p?(g>>>=0,(Me=0<=g&&g<256)&&(pe=o[g],pe)?pe:(G=c(g,0,!0),Me&&(o[g]=G),G)):(g|=0,(Me=-128<=g&&g<128)&&(pe=s[g],pe)?pe:(G=c(g,g<0?-1:0,!1),Me&&(s[g]=G),G))}t.fromInt=a;function A(g,p){if(isNaN(g))return p?T:k;if(p){if(g<0)return T;if(g>=m)return y}else{if(g<=-D)return w;if(g+1>=D)return C}return g<0?A(-g,p).neg():c(g%I|0,g/I|0,p)}t.fromNumber=A;function c(g,p,G){return new t(g,p,G)}t.fromBits=c;var l=Math.pow;function u(g,p,G){if(g.length===0)throw Error("empty string");if(typeof p=="number"?(G=p,p=!1):p=!!p,g==="NaN"||g==="Infinity"||g==="+Infinity"||g==="-Infinity")return p?T:k;if(G=G||10,G<2||36<G)throw RangeError("radix");var pe;if((pe=g.indexOf("-"))>0)throw Error("interior hyphen");if(pe===0)return u(g.substring(1),p,G).neg();for(var Me=A(l(G,8)),Le=k,mt=0;mt<g.length;mt+=8){var Ye=Math.min(8,g.length-mt),pn=parseInt(g.substring(mt,mt+Ye),G);if(Ye<8){var vt=A(l(G,Ye));Le=Le.mul(vt).add(A(pn))}else Le=Le.mul(Me),Le=Le.add(A(pn))}return Le.unsigned=p,Le}t.fromString=u;function h(g,p){return typeof g=="number"?A(g,p):typeof g=="string"?u(g,p):c(g.low,g.high,typeof p=="boolean"?p:g.unsigned)}t.fromValue=h;var d=65536,E=1<<24,I=d*d,m=I*I,D=m/2,v=a(E),k=a(0);t.ZERO=k;var T=a(0,!0);t.UZERO=T;var _=a(1);t.ONE=_;var L=a(1,!0);t.UONE=L;var Q=a(-1);t.NEG_ONE=Q;var C=c(-1,2147483647,!1);t.MAX_VALUE=C;var y=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=y;var w=c(0,-2147483648,!1);t.MIN_VALUE=w;var f=t.prototype;f.toInt=function(){return this.unsigned?this.low>>>0:this.low},f.toNumber=function(){return this.unsigned?(this.high>>>0)*I+(this.low>>>0):this.high*I+(this.low>>>0)},f.toString=function(p){if(p=p||10,p<2||36<p)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(w)){var G=A(p),pe=this.div(G),Me=pe.mul(G).sub(this);return pe.toString(p)+Me.toInt().toString(p)}else return"-"+this.neg().toString(p);for(var Le=A(l(p,6),this.unsigned),mt=this,Ye="";;){var pn=mt.div(Le),vt=mt.sub(pn.mul(Le)).toInt()>>>0,ht=vt.toString(p);if(mt=pn,mt.isZero())return ht+Ye;for(;ht.length<6;)ht="0"+ht;Ye=""+ht+Ye}},f.getHighBits=function(){return this.high},f.getHighBitsUnsigned=function(){return this.high>>>0},f.getLowBits=function(){return this.low},f.getLowBitsUnsigned=function(){return this.low>>>0},f.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var p=this.high!=0?this.high:this.low,G=31;G>0&&!(p&1<<G);G--);return this.high!=0?G+33:G+1},f.isZero=function(){return this.high===0&&this.low===0},f.eqz=f.isZero,f.isNegative=function(){return!this.unsigned&&this.high<0},f.isPositive=function(){return this.unsigned||this.high>=0},f.isOdd=function(){return(this.low&1)===1},f.isEven=function(){return(this.low&1)===0},f.equals=function(p){return r(p)||(p=h(p)),this.unsigned!==p.unsigned&&this.high>>>31===1&&p.high>>>31===1?!1:this.high===p.high&&this.low===p.low},f.eq=f.equals,f.notEquals=function(p){return!this.eq(p)},f.neq=f.notEquals,f.ne=f.notEquals,f.lessThan=function(p){return this.comp(p)<0},f.lt=f.lessThan,f.lessThanOrEqual=function(p){return this.comp(p)<=0},f.lte=f.lessThanOrEqual,f.le=f.lessThanOrEqual,f.greaterThan=function(p){return this.comp(p)>0},f.gt=f.greaterThan,f.greaterThanOrEqual=function(p){return this.comp(p)>=0},f.gte=f.greaterThanOrEqual,f.ge=f.greaterThanOrEqual,f.compare=function(p){if(r(p)||(p=h(p)),this.eq(p))return 0;var G=this.isNegative(),pe=p.isNegative();return G&&!pe?-1:!G&&pe?1:this.unsigned?p.high>>>0>this.high>>>0||p.high===this.high&&p.low>>>0>this.low>>>0?-1:1:this.sub(p).isNegative()?-1:1},f.comp=f.compare,f.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(_)},f.neg=f.negate,f.add=function(p){r(p)||(p=h(p));var G=this.high>>>16,pe=this.high&65535,Me=this.low>>>16,Le=this.low&65535,mt=p.high>>>16,Ye=p.high&65535,pn=p.low>>>16,vt=p.low&65535,ht=0,Xt=0,Dt=0,En=0;return En+=Le+vt,Dt+=En>>>16,En&=65535,Dt+=Me+pn,Xt+=Dt>>>16,Dt&=65535,Xt+=pe+Ye,ht+=Xt>>>16,Xt&=65535,ht+=G+mt,ht&=65535,c(Dt<<16|En,ht<<16|Xt,this.unsigned)},f.subtract=function(p){return r(p)||(p=h(p)),this.add(p.neg())},f.sub=f.subtract,f.multiply=function(p){if(this.isZero())return this;if(r(p)||(p=h(p)),e){var G=e.mul(this.low,this.high,p.low,p.high);return c(G,e.get_high(),this.unsigned)}if(p.isZero())return this.unsigned?T:k;if(this.eq(w))return p.isOdd()?w:k;if(p.eq(w))return this.isOdd()?w:k;if(this.isNegative())return p.isNegative()?this.neg().mul(p.neg()):this.neg().mul(p).neg();if(p.isNegative())return this.mul(p.neg()).neg();if(this.lt(v)&&p.lt(v))return A(this.toNumber()*p.toNumber(),this.unsigned);var pe=this.high>>>16,Me=this.high&65535,Le=this.low>>>16,mt=this.low&65535,Ye=p.high>>>16,pn=p.high&65535,vt=p.low>>>16,ht=p.low&65535,Xt=0,Dt=0,En=0,CA=0;return CA+=mt*ht,En+=CA>>>16,CA&=65535,En+=Le*ht,Dt+=En>>>16,En&=65535,En+=mt*vt,Dt+=En>>>16,En&=65535,Dt+=Me*ht,Xt+=Dt>>>16,Dt&=65535,Dt+=Le*vt,Xt+=Dt>>>16,Dt&=65535,Dt+=mt*pn,Xt+=Dt>>>16,Dt&=65535,Xt+=pe*ht+Me*vt+Le*pn+mt*Ye,Xt&=65535,c(En<<16|CA,Xt<<16|Dt,this.unsigned)},f.mul=f.multiply,f.divide=function(p){if(r(p)||(p=h(p)),p.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&p.low===-1&&p.high===-1)return this;var G=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,p.low,p.high);return c(G,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?T:k;var pe,Me,Le;if(this.unsigned){if(p.unsigned||(p=p.toUnsigned()),p.gt(this))return T;if(p.gt(this.shru(1)))return L;Le=T}else{if(this.eq(w)){if(p.eq(_)||p.eq(Q))return w;if(p.eq(w))return _;var mt=this.shr(1);return pe=mt.div(p).shl(1),pe.eq(k)?p.isNegative()?_:Q:(Me=this.sub(p.mul(pe)),Le=pe.add(Me.div(p)),Le)}else if(p.eq(w))return this.unsigned?T:k;if(this.isNegative())return p.isNegative()?this.neg().div(p.neg()):this.neg().div(p).neg();if(p.isNegative())return this.div(p.neg()).neg();Le=k}for(Me=this;Me.gte(p);){pe=Math.max(1,Math.floor(Me.toNumber()/p.toNumber()));for(var Ye=Math.ceil(Math.log(pe)/Math.LN2),pn=Ye<=48?1:l(2,Ye-48),vt=A(pe),ht=vt.mul(p);ht.isNegative()||ht.gt(Me);)pe-=pn,vt=A(pe,this.unsigned),ht=vt.mul(p);vt.isZero()&&(vt=_),Le=Le.add(vt),Me=Me.sub(ht)}return Le},f.div=f.divide,f.modulo=function(p){if(r(p)||(p=h(p)),e){var G=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,p.low,p.high);return c(G,e.get_high(),this.unsigned)}return this.sub(this.div(p).mul(p))},f.mod=f.modulo,f.rem=f.modulo,f.not=function(){return c(~this.low,~this.high,this.unsigned)},f.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},f.clz=f.countLeadingZeros,f.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},f.ctz=f.countTrailingZeros,f.and=function(p){return r(p)||(p=h(p)),c(this.low&p.low,this.high&p.high,this.unsigned)},f.or=function(p){return r(p)||(p=h(p)),c(this.low|p.low,this.high|p.high,this.unsigned)},f.xor=function(p){return r(p)||(p=h(p)),c(this.low^p.low,this.high^p.high,this.unsigned)},f.shiftLeft=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?c(this.low<<p,this.high<<p|this.low>>>32-p,this.unsigned):c(0,this.low<<p-32,this.unsigned)},f.shl=f.shiftLeft,f.shiftRight=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?c(this.low>>>p|this.high<<32-p,this.high>>p,this.unsigned):c(this.high>>p-32,this.high>=0?0:-1,this.unsigned)},f.shr=f.shiftRight,f.shiftRightUnsigned=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?c(this.low>>>p|this.high<<32-p,this.high>>>p,this.unsigned):p===32?c(this.high,0,this.unsigned):c(this.high>>>p-32,0,this.unsigned)},f.shru=f.shiftRightUnsigned,f.shr_u=f.shiftRightUnsigned,f.rotateLeft=function(p){var G;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?c(this.high,this.low,this.unsigned):p<32?(G=32-p,c(this.low<<p|this.high>>>G,this.high<<p|this.low>>>G,this.unsigned)):(p-=32,G=32-p,c(this.high<<p|this.low>>>G,this.low<<p|this.high>>>G,this.unsigned))},f.rotl=f.rotateLeft,f.rotateRight=function(p){var G;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?c(this.high,this.low,this.unsigned):p<32?(G=32-p,c(this.high<<G|this.low>>>p,this.low<<G|this.high>>>p,this.unsigned)):(p-=32,G=32-p,c(this.low<<G|this.high>>>p,this.high<<G|this.low>>>p,this.unsigned))},f.rotr=f.rotateRight,f.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},f.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},f.toBytes=function(p){return p?this.toBytesLE():this.toBytesBE()},f.toBytesLE=function(){var p=this.high,G=this.low;return[G&255,G>>>8&255,G>>>16&255,G>>>24,p&255,p>>>8&255,p>>>16&255,p>>>24]},f.toBytesBE=function(){var p=this.high,G=this.low;return[p>>>24,p>>>16&255,p>>>8&255,p&255,G>>>24,G>>>16&255,G>>>8&255,G&255]},t.fromBytes=function(p,G,pe){return pe?t.fromBytesLE(p,G):t.fromBytesBE(p,G)},t.fromBytesLE=function(p,G){return new t(p[0]|p[1]<<8|p[2]<<16|p[3]<<24,p[4]|p[5]<<8|p[6]<<16|p[7]<<24,G)},t.fromBytesBE=function(p,G){return new t(p[4]<<24|p[5]<<16|p[6]<<8|p[7],p[0]<<24|p[1]<<16|p[2]<<8|p[3],G)};var b=t;return n.default=b,"default"in n?n.default:n}({});typeof define=="function"&&define.amd?define([],function(){return I_}):typeof ey=="object"&&typeof B_=="object"&&(ey.exports=I_)});var iy=S(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.loadFileDescriptorSetFromObject=Ot.loadFileDescriptorSetFromBuffer=Ot.fromJSON=Ot.loadSync=Ot.load=Ot.IdempotencyLevel=Ot.isAnyExtension=Ot.Long=void 0;var q4=ck(),Si=Kg(),ny=h_(),ry=m_(),Y4=y_();Ot.Long=Y4;function H4(n){return"@type"in n&&typeof n["@type"]=="string"}Ot.isAnyExtension=H4;var S_;(function(n){n.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",n.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",n.IDEMPOTENT="IDEMPOTENT"})(S_=Ot.IdempotencyLevel||(Ot.IdempotencyLevel={}));var b_={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function J4(n,e){return n===""?e:n+"."+e}function W4(n){return n instanceof Si.Service||n instanceof Si.Type||n instanceof Si.Enum}function z4(n){return n instanceof Si.Namespace||n instanceof Si.Root}function v_(n,e){let t=J4(e,n.name);return W4(n)?[[t,n]]:z4(n)&&typeof n.nested<"u"?Object.keys(n.nested).map(r=>v_(n.nested[r],t)).reduce((r,i)=>r.concat(i),[]):[]}function Q_(n,e){return function(r){return n.toObject(n.decode(r),e)}}function w_(n){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${n.name} structure, got array instead`);let r=n.fromObject(t);return n.encode(r).finish()}}function j4(n){return(n||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=i}return e},{deprecated:!1,idempotency_level:S_.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function K4(n,e,t,r){let i=n.resolvedRequestType,s=n.resolvedResponseType;return{path:"/"+e+"/"+n.name,requestStream:!!n.requestStream,responseStream:!!n.responseStream,requestSerialize:w_(i),requestDeserialize:Q_(i,t),responseSerialize:w_(s),responseDeserialize:Q_(s,t),originalName:q4(n.name),requestType:ty(i,r),responseType:ty(s,r),options:j4(n.parsedOptions)}}function X4(n,e,t,r){let i={};for(let s of n.methodsArray)i[s.name]=K4(s,e,t,r);return i}function ty(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,b_),fileDescriptorProtos:e}}function $4(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,b_),fileDescriptorProtos:e}}function Z4(n,e,t,r){if(n instanceof Si.Service)return X4(n,e,t,r);if(n instanceof Si.Type)return ty(n,r);if(n instanceof Si.Enum)return $4(n,r);throw new Error("Type mismatch in reflection object handling")}function Zg(n,e){let t={};n.resolveAll();let i=n.toDescriptor("proto3").file.map(s=>Buffer.from(ny.FileDescriptorProto.encode(s).finish()));for(let[s,o]of v_(n,""))t[s]=Z4(o,s,e,i);return t}function D_(n,e){e=e||{};let t=Si.Root.fromDescriptor(n);return t.resolveAll(),Zg(t,e)}function e9(n,e){return(0,ry.loadProtosWithOptions)(n,e).then(t=>Zg(t,e))}Ot.load=e9;function t9(n,e){let t=(0,ry.loadProtosWithOptionsSync)(n,e);return Zg(t,e)}Ot.loadSync=t9;function n9(n,e){e=e||{};let t=Si.Root.fromJSON(n);return t.resolveAll(),Zg(t,e)}Ot.fromJSON=n9;function r9(n,e){let t=ny.FileDescriptorSet.decode(n);return D_(t,e)}Ot.loadFileDescriptorSetFromBuffer=r9;function i9(n,e){let t=ny.FileDescriptorSet.fromObject(n);return D_(t,e)}Ot.loadFileDescriptorSetFromObject=i9;(0,ry.addCommonProtos)()});var da=S(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.setup=it.getChannelzServiceDefinition=it.getChannelzHandlers=it.unregisterChannelzRef=it.registerChannelzSocket=it.registerChannelzServer=it.registerChannelzSubchannel=it.registerChannelzChannel=it.ChannelzCallTracker=it.ChannelzChildrenTracker=it.ChannelzTrace=void 0;var R_=F("net"),Mu=fr(),Uu=Re(),s9=pi(),o9=Ig(),a9=tB();function sy(n){return{channel_id:n.id,name:n.name}}function cy(n){return{subchannel_id:n.id,name:n.name}}function A9(n){return{server_id:n.id}}function tf(n){return{socket_id:n.id,name:n.name}}var T_=32,oy=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=T_*2&&(this.events=this.events.slice(T_)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:as(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:as(e.timestamp),channel_ref:e.childChannel?sy(e.childChannel):null,subchannel_ref:e.childSubchannel?cy(e.childSubchannel):null}))}}};it.ChannelzTrace=oy;var ay=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let s=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let t=[];for(let{ref:i}of this.subchannelChildren.values())t.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:t,sockets:r}}};it.ChannelzChildrenTracker=ay;var Ay=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};it.ChannelzCallTracker=Ay;var c9=1;function nf(){return c9++}var Lu=[],ly=[],so=[],uy=[];function l9(n,e,t){let r=nf(),i={id:r,name:n,kind:"channel"};return t&&(Lu[r]={ref:i,getInfo:e}),i}it.registerChannelzChannel=l9;function u9(n,e,t){let r=nf(),i={id:r,name:n,kind:"subchannel"};return t&&(ly[r]={ref:i,getInfo:e}),i}it.registerChannelzSubchannel=u9;function h9(n,e){let t=nf(),r={id:t,kind:"server"};return e&&(so[t]={ref:r,getInfo:n}),r}it.registerChannelzServer=h9;function d9(n,e,t){let r=nf(),i={id:r,name:n,kind:"socket"};return t&&(uy[r]={ref:i,getInfo:e}),i}it.registerChannelzSocket=d9;function g9(n){switch(n.kind){case"channel":delete Lu[n.id];return;case"subchannel":delete ly[n.id];return;case"server":delete so[n.id];return;case"socket":delete uy[n.id];return}}it.unregisterChannelzRef=g9;function f9(n){let e=Number.parseInt(n,16);return[e/256|0,e%256]}function k_(n){if(n==="")return[];let e=n.split(":").map(r=>f9(r));return[].concat(...e)}function p9(n){if((0,R_.isIPv4)(n))return Buffer.from(Uint8Array.from(n.split(".").map(e=>Number.parseInt(e))));if((0,R_.isIPv6)(n)){let e,t,r=n.indexOf("::");r===-1?(e=n,t=""):(e=n.substring(0,r),t=n.substring(r+2));let i=Buffer.from(k_(e)),s=Buffer.from(k_(t)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function __(n){switch(n){case Mu.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Mu.ConnectivityState.IDLE:return{state:"IDLE"};case Mu.ConnectivityState.READY:return{state:"READY"};case Mu.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Mu.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function as(n){if(!n)return null;let e=n.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function F_(n){let e=n.getInfo();return{ref:sy(n.ref),data:{target:e.target,state:__(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:as(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(t=>sy(t)),subchannel_ref:e.children.subchannels.map(t=>cy(t))}}function E9(n,e){let t=Number.parseInt(n.request.channel_id),r=Lu[t];if(r===void 0){e({code:Uu.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:F_(r)})}function C9(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_channel_id);for(;i<Lu.length;i++){let s=Lu[i];if(s!==void 0&&(r.push(F_(s)),r.length>=t))break}e(null,{channel:r,end:i>=so.length})}function M_(n){let e=n.getInfo();return{ref:A9(n.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:as(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(t=>tf(t))}}function m9(n,e){let t=Number.parseInt(n.request.server_id),r=so[t];if(r===void 0){e({code:Uu.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:M_(r)})}function I9(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_server_id);for(;i<so.length;i++){let s=so[i];if(s!==void 0&&(r.push(M_(s)),r.length>=t))break}e(null,{server:r,end:i>=so.length})}function B9(n,e){let t=Number.parseInt(n.request.subchannel_id),r=ly[t];if(r===void 0){e({code:Uu.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let i=r.getInfo(),s={ref:cy(r.ref),data:{target:i.target,state:__(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:as(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>tf(o))};e(null,{subchannel:s})}function N_(n){var e;return(0,s9.isTcpSubchannelAddress)(n)?{address:"tcpip_address",tcpip_address:{ip_address:(e=p9(n.host))!==null&&e!==void 0?e:void 0,port:n.port}}:{address:"uds_address",uds_address:{filename:n.path}}}function y9(n,e){var t,r,i,s,o;let a=Number.parseInt(n.request.socket_id),A=uy[a];if(A===void 0){e({code:Uu.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let c=A.getInfo(),l=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(r=c.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=c.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=c.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,u={ref:tf(A.ref),local:c.localAddress?N_(c.localAddress):null,remote:c.remoteAddress?N_(c.remoteAddress):null,remote_name:(o=c.remoteName)!==null&&o!==void 0?o:void 0,security:l,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:as(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:as(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:as(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:as(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:u})}function Q9(n,e){let t=Number.parseInt(n.request.server_id),r=so[t];if(r===void 0){e({code:Uu.Status.NOT_FOUND,details:"No server data found for id "+t});return}let i=Number.parseInt(n.request.start_socket_id),s=Number.parseInt(n.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((l,u)=>l.id-u.id),A=[],c=0;for(;c<a.length&&!(a[c].id>=i&&(A.push(tf(a[c])),A.length>=s));c++);e(null,{socket_ref:A,end:c>=a.length})}function L_(){return{GetChannel:E9,GetTopChannels:C9,GetServer:m9,GetServers:I9,GetSubchannel:B9,GetSocket:y9,GetServerSockets:Q9}}it.getChannelzHandlers=L_;var ef=null;function U_(){if(ef)return ef;let n=iy().loadSync,e=n("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return ef=(0,a9.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,ef}it.getChannelzServiceDefinition=U_;function w9(){(0,o9.registerAdminService)(U_,L_)}it.setup=w9});var x_=S(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.Subchannel=void 0;var We=fr(),S9=pu(),hy=gt(),rf=Re(),b9=$n(),v9=pi(),tc=da(),D9="subchannel",R9=~(1<<31),dy=class{constructor(e,t,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=We.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new tc.ChannelzCallTracker,this.childrenTracker=new tc.ChannelzChildrenTracker,this.streamTracker=new tc.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new S9.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,v9.subchannelAddressToString)(t),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new tc.ChannelzTrace,this.channelzRef=(0,tc.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){hy.trace(rf.LogVerbosity.DEBUG,D9,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){hy.trace(rf.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.CONNECTING):this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,R9);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([We.ConnectivityState.CONNECTING],We.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(r=>{this.transitionToState([We.ConnectivityState.READY],We.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,hy.log(rf.LogVerbosity.ERROR,`Connection to ${(0,b9.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([We.ConnectivityState.CONNECTING],We.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(We.ConnectivityState[this.connectivityState]+" -> "+We.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+We.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case We.ConnectivityState.READY:this.stopBackoff();break;case We.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case We.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case We.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let a of this.stateListeners)a(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,tc.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([We.ConnectivityState.CONNECTING,We.ConnectivityState.READY],We.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===rf.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,t,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([We.ConnectivityState.IDLE],We.ConnectivityState.CONNECTING)||this.connectivityState===We.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};sf.Subchannel=dy});var Ey=S(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.setup=Ao.DEFAULT_PORT=void 0;var O_=gi(),V_=F("dns"),G_=F("util"),T9=DI(),gy=Re(),fy=yn(),k9=gt(),N9=Re(),oo=$n(),P_=F("net"),_9=pu(),F9="dns_resolver";function ao(n){k9.trace(N9.LogVerbosity.DEBUG,F9,n)}Ao.DEFAULT_PORT=443;var M9=3e4,L9=G_.promisify(V_.resolveTxt),U9=G_.promisify(V_.lookup);function x9(...n){let e=[];for(let t=0;t<Math.max.apply(null,n.map(r=>r.length));t++)for(let r of n)t<r.length&&e.push(r[t]);return e}var py=class{constructor(e,t,r){var i,s,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,ao("Resolver constructed for target "+(0,oo.uriToString)(e));let a=(0,oo.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,P_.isIPv4)(a.host)||(0,P_.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:Ao.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:Ao.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:gy.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,oo.uriToString)(this.target)}`,metadata:new fy.Metadata};let A={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new _9.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},A),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:M9,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(ao("Returning IP address for target "+(0,oo.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)ao("Failed to parse DNS address "+(0,oo.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:gy.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,oo.uriToString)(this.target)}`,metadata:new fy.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;ao("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=U9(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(o=>o.family===4),i=t.filter(o=>o.family===6);this.latestLookupResult=x9(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(ao("Resolved addresses for target "+(0,oo.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(ao("Resolution error for target "+(0,oo.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=L9(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,T9.extractAndSelectServiceConfig)(t,this.percentage)}catch(r){this.latestServiceConfigError={code:gy.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new fy.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?ao('resolution update delayed by "min time between resolutions" rate limit'):ao("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function O9(){(0,O_.registerResolver)("dns",py),(0,O_.registerDefaultScheme)("dns")}Ao.setup=O9});var Cy=S(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.getProxiedConnection=ic.mapProxyName=void 0;var xu=gt(),nc=Re(),P9=gi(),V9=F("http"),G9=F("tls"),q9=gt(),q_=pi(),rc=$n(),Y9=F("url"),H9=Ey(),J9="proxy";function co(n){q9.trace(nc.LogVerbosity.DEBUG,J9,n)}function W9(){let n="",e="";if(process.env.grpc_proxy)e="grpc_proxy",n=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",n=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",n=process.env.http_proxy;else return{};let t;try{t=new Y9.URL(n)}catch{return(0,xu.log)(nc.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,xu.log)(nc.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let r=null;t.username&&(t.password?((0,xu.log)(nc.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${t.username}:${t.password}`):r=t.username);let i=t.hostname,s=t.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),co("Proxy server "+o.address+" set by environment variable "+e),o}function z9(){let n=process.env.no_grpc_proxy,e="no_grpc_proxy";return n||(n=process.env.no_proxy,e="no_proxy"),n?(co("No proxy server list set by environment variable "+e),n.split(",")):[]}function j9(n,e){var t;let r={target:n,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||n.scheme==="unix")return r;let i=W9();if(!i.address)return r;let s=(0,rc.splitHostPort)(n.path);if(!s)return r;let o=s.host;for(let A of z9())if(A===o)return co("Not using proxy for target in no_proxy list: "+(0,rc.uriToString)(n)),r;let a={"grpc.http_connect_target":(0,rc.uriToString)(n)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}ic.mapProxyName=j9;function K9(n,e,t){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,rc.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,rc.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:H9.DEFAULT_PORT}`,A={method:"CONNECT",path:a},c={Host:a};(0,q_.isTcpSubchannelAddress)(n)?(A.host=n.host,A.port=n.port):A.socketPath=n.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),A.headers=c;let l=(0,q_.subchannelAddressToString)(n);return co("Using proxy "+l+" to connect to "+A.path),new Promise((u,h)=>{let d=V9.request(A);d.once("connect",(E,I,m)=>{var D;if(d.removeAllListeners(),I.removeAllListeners(),E.statusCode===200)if(co("Successfully connected to "+A.path+" through proxy "+l),"secureContext"in t){let v=(0,P9.getDefaultAuthority)(s),k=(0,rc.splitHostPort)(v),T=(D=k?.host)!==null&&D!==void 0?D:v,_=G9.connect(Object.assign({host:T,servername:T,socket:I},t),()=>{co("Successfully established a TLS connection to "+A.path+" through proxy "+l),u({socket:_,realTarget:s})});_.on("error",L=>{co("Failed to establish a TLS connection to "+A.path+" through proxy "+l+" with error "+L.message),h()})}else co("Successfully established a plaintext connection to "+A.path+" through proxy "+l),u({socket:I,realTarget:s});else(0,xu.log)(nc.LogVerbosity.ERROR,"Failed to connect to "+A.path+" through proxy "+l+" with status "+E.statusCode),h()}),d.once("error",E=>{d.removeAllListeners(),(0,xu.log)(nc.LogVerbosity.ERROR,"Failed to connect to proxy "+l+" with error "+E.message),h()}),d.end()})}ic.getProxiedConnection=K9});var Iy=S(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.StreamDecoder=void 0;var As=function(n){return n[n.NO_DATA=0]="NO_DATA",n[n.READING_SIZE=1]="READING_SIZE",n[n.READING_MESSAGE=2]="READING_MESSAGE",n}(As||{}),my=class{constructor(){this.readState=As.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,r,i=[];for(;t<e.length;)switch(this.readState){case As.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=As.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case As.READING_SIZE:if(r=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r),this.readSizeRemaining-=r,t+=r,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=As.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=As.NO_DATA,i.push(s)}break;case As.READING_MESSAGE:if(r=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+r)),this.readMessageRemaining-=r,t+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=As.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};of.StreamDecoder=my});var Y_=S(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.Http2SubchannelCall=void 0;var cs=F("http2"),X9=F("os"),Pe=Re(),lo=yn(),$9=Iy(),Z9=gt(),e3=Re(),t3="subchannel_call";function n3(n){for(let[e,t]of Object.entries(X9.constants.errno))if(t===n)return e;return"Unknown system error "+n}var By=class{constructor(e,t,r,i,s){this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=s,this.decoder=new $9.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Pe.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,e.on("response",(o,a)=>{let A="";for(let c of Object.keys(o))A+="		"+c+": "+o[c]+`
`;switch(this.trace(`Received server headers:
`+A),o[":status"]){case 400:this.mappedStatusCode=Pe.Status.INTERNAL;break;case 401:this.mappedStatusCode=Pe.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Pe.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Pe.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Pe.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Pe.Status.UNKNOWN}if(a&cs.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(o);else{let c;try{c=lo.Metadata.fromHttp2Headers(o)}catch(l){this.endCall({code:Pe.Status.UNKNOWN,details:l.message,metadata:new lo.Metadata});return}this.listener.onReceiveMetadata(c)}}),e.on("trailers",o=>{this.handleTrailers(o)}),e.on("data",o=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+o.length);let a=this.decoder.write(o);for(let A of a)this.trace("parsed message of length "+A.length),this.callEventTracker.addMessageReceived(),this.tryPush(A)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var o;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((o=this.finalStatus)===null||o===void 0?void 0:o.code)===Pe.Status.OK)return;let a,A="";switch(e.rstCode){case cs.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;a=Pe.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`;break;case cs.constants.NGHTTP2_REFUSED_STREAM:a=Pe.Status.UNAVAILABLE,A="Stream refused by server";break;case cs.constants.NGHTTP2_CANCEL:a=Pe.Status.CANCELLED,A="Call cancelled";break;case cs.constants.NGHTTP2_ENHANCE_YOUR_CALM:a=Pe.Status.RESOURCE_EXHAUSTED,A="Bandwidth exhausted or memory limit exceeded";break;case cs.constants.NGHTTP2_INADEQUATE_SECURITY:a=Pe.Status.PERMISSION_DENIED,A="Protocol not secure enough";break;case cs.constants.NGHTTP2_INTERNAL_ERROR:a=Pe.Status.INTERNAL,this.internalError===null?A=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(a=Pe.Status.UNAVAILABLE,A=this.internalError.message):A=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:a=Pe.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:a,details:A,metadata:new lo.Metadata,rstCode:e.rstCode})})}),e.on("error",o=>{o.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+o.message+" code="+o.code+" errno="+n3(o.errno)+" syscall="+o.syscall),this.internalError=o),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Pe.Status.UNAVAILABLE,details:"Connection dropped",metadata:new lo.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){Z9.trace(e3.LogVerbosity.DEBUG,t3,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Pe.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Pe.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t="";for(let A of Object.keys(e))t+="		"+A+": "+e[A]+`
`;this.trace(`Received server trailers:
`+t);let r;try{r=lo.Metadata.fromHttp2Headers(e)}catch{r=new lo.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===Pe.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let A=Number(i["grpc-status"]);A in Pe.Status&&(s=A,this.trace("received status code "+A+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Pe.Status.OK?t=cs.constants.NGHTTP2_NO_ERROR:t=cs.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new lo.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Pe.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=i=>{process.nextTick(()=>{var s;let o=Pe.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=Pe.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(i){this.endCall({code:Pe.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new lo.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};af.Http2SubchannelCall=By});var yy=S(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.getNextCallNumber=void 0;var r3=0;function i3(){return r3++}Af.getNextCallNumber=i3});var W_=S(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.Http2SubchannelConnector=void 0;var vy=F("http2"),H_=F("tls"),Qy=da(),Ou=Re(),s3=Cy(),oc=gt(),J_=gi(),cf=pi(),sc=$n(),o3=F("net"),a3=Y_(),A3=yy(),wy="transport",c3="transport_flowctrl",l3=lI().version,{HTTP2_HEADER_AUTHORITY:u3,HTTP2_HEADER_CONTENT_TYPE:h3,HTTP2_HEADER_METHOD:d3,HTTP2_HEADER_PATH:g3,HTTP2_HEADER_TE:f3,HTTP2_HEADER_USER_AGENT:p3}=vy.constants,E3=2e4,C3=Buffer.from("too_many_pings","ascii"),Sy=class{constructor(e,t,r,i){this.session=e,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=E3,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new Qy.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,cf.subchannelAddressToString)(t),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,Qy.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${l3}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let A=!1;s===vy.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(C3)&&(A=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(A)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),oc.isTracerEnabled(wy)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i=this.session.socket,s=i.remoteAddress?(0,cf.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,cf.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let c=i,l=c.getCipher(),u=c.getCertificate(),h=c.getPeerCertificate();a={cipherSuiteStandardName:(e=l.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:l.standardName?null:l.name,localCertificate:u&&"raw"in u?u.raw:null,remoteCertificate:h&&"raw"in h?h.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){oc.trace(Ou.LogVerbosity.DEBUG,wy,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){oc.trace(Ou.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){oc.trace(Ou.LogVerbosity.DEBUG,c3,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){oc.trace(Ou.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,s){let o=e.toHttp2Headers();o[u3]=t,o[p3]=this.userAgent,o[h3]="application/grpc",o[d3]="POST",o[g3]=r,o[f3]="trailers";let a;try{a=this.session.request(o)}catch(l){throw this.handleDisconnect(),l}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let A,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),A={addMessageSent:()=>{var l;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var u;l?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(u=s.onStreamEnd)===null||u===void 0||u.call(s,l)}}):A={addMessageSent:()=>{var l;(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var u;(u=s.onStreamEnd)===null||u===void 0||u.call(s,l)}},c=new a3.Http2SubchannelCall(a,A,i,this,(0,A3.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,Qy.unregisterChannelzRef)(this.channelzRef)}},by=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){oc.trace(Ou.LogVerbosity.DEBUG,wy,(0,sc.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,A,c;let l;i.realTarget?(l=(0,sc.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,sc.uriToString)(i.realTarget))):(l=null,this.trace("creating HTTP/2 session to "+(0,cf.subchannelAddressToString)(e)));let u=(0,J_.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),h=t._getConnectionOptions()||{};h.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?h.maxSessionMemory=r["grpc-node.max_session_memory"]:h.maxSessionMemory=Number.MAX_SAFE_INTEGER;let d="http://";if("secureContext"in h){if(d="https://",r["grpc.ssl_target_name_override"]){let m=r["grpc.ssl_target_name_override"];h.checkServerIdentity=(D,v)=>(0,H_.checkServerIdentity)(m,v),h.servername=m}else{let m=(c=(A=(0,sc.splitHostPort)(u))===null||A===void 0?void 0:A.host)!==null&&c!==void 0?c:"localhost";h.servername=m}i.socket&&(h.createConnection=(m,D)=>i.socket)}else h.createConnection=(m,D)=>i.socket?i.socket:o3.connect(e);h=Object.assign(Object.assign(Object.assign({},h),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let E=vy.connect(d+u,h);this.session=E;let I="Failed to connect";E.unref(),E.once("connect",()=>{E.removeAllListeners(),s(new Sy(E,e,r,l)),this.session=null}),E.once("close",()=>{this.session=null,setImmediate(()=>{o(`${I} (${new Date().toISOString()})`)})}),E.once("error",m=>{I=m.message,this.trace("connection failed with error "+I)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(A,c)=>(0,H_.checkServerIdentity)(a,c),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,J_.getDefaultAuthority)((i=(0,sc.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),A=(0,sc.splitHostPort)(a);o.servername=(s=A?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,s3.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,t,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};lf.Http2SubchannelConnector=by});var z_=S(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.getSubchannelPool=ac.SubchannelPool=void 0;var m3=kT(),I3=x_(),B3=pi(),y3=$n(),Q3=W_(),w3=1e4,Pu=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let i=this.pool[t].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[t]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},w3),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,r,i){this.ensureCleanupTask();let s=(0,y3.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let A of a)if((0,B3.subchannelAddressEqual)(t,A.subchannelAddress)&&(0,m3.channelOptionsEqual)(r,A.channelArguments)&&i._equals(A.channelCredentials))return A.subchannel}let o=new I3.Subchannel(e,t,r,i,new Q3.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:t,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};ac.SubchannelPool=Pu;var S3=new Pu;function b3(n){return n?S3:new Pu}ac.getSubchannelPool=b3});var Ry=S(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.FilterStackFactory=Ac.FilterStack=void 0;var uf=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};Ac.FilterStack=uf;var Dy=class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new uf(this.factories.map(e=>e.createFilter()))}};Ac.FilterStackFactory=Dy});var Ty=S(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.CompressionAlgorithms=void 0;var j_=function(n){return n[n.identity=0]="identity",n[n.deflate=1]="deflate",n[n.gzip=2]="gzip",n}(j_||(hf.CompressionAlgorithms=j_={}))});var gf=S(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.BaseFilter=void 0;var ky=class{sendMetadata(e){return B(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return B(this,null,function*(){return e})}receiveMessage(e){return B(this,null,function*(){return e})}receiveTrailers(e){return e}};df.BaseFilter=ky});var $_=S(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.CompressionFilterFactory=lc.CompressionFilter=void 0;var ff=F("zlib"),X_=Ty(),v3=Re(),D3=gf(),R3=gt(),T3=n=>typeof n=="number"&&typeof X_.CompressionAlgorithms[n]=="string",cc=class{writeMessage(e,t){return B(this,null,function*(){let r=e;t&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return B(this,null,function*(){let t=e.readUInt8(0)===1,r=e.slice(5);return t&&(r=yield this.decompressMessage(r)),r})}},ga=class extends cc{compressMessage(e){return B(this,null,function*(){return e})}writeMessage(e,t){return B(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},Ny=class extends cc{compressMessage(e){return new Promise((t,r)=>{ff.deflate(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{ff.inflate(e,(i,s)=>{i?r(i):t(s)})})}},_y=class extends cc{compressMessage(e){return new Promise((t,r)=>{ff.gzip(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{ff.unzip(e,(i,s)=>{i?r(i):t(s)})})}},Fy=class extends cc{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function K_(n){switch(n){case"identity":return new ga;case"deflate":return new Ny;case"gzip":return new _y;default:return new Fy(n)}}var pf=class extends D3.BaseFilter{constructor(e,t){var r;super(),this.sharedFilterConfig=t,this.sendCompression=new ga,this.receiveCompression=new ga,this.currentCompressionAlgorithm="identity";let i=e["grpc.default_compression_algorithm"];if(i!==void 0)if(T3(i)){let s=X_.CompressionAlgorithms[i],o=(r=t.serverSupportedEncodingHeader)===null||r===void 0?void 0:r.split(",");(!o||o.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=K_(this.currentCompressionAlgorithm))}else R3.log(v3.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}sendMetadata(e){return B(this,null,function*(){let t=yield e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t})}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let i=t[0];typeof i=="string"&&(this.receiveCompression=K_(i))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new ga,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return B(this,null,function*(){var t;let r=yield e,i;return this.sendCompression instanceof ga?i=!1:i=(((t=r.flags)!==null&&t!==void 0?t:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return B(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};lc.CompressionFilter=pf;var My=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new pf(this.options,this.sharedFilterConfig)}};lc.CompressionFilterFactory=My});var eF=S(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.MaxMessageSizeFilterFactory=uc.MaxMessageSizeFilter=void 0;var k3=gf(),Ef=Re(),Z_=yn(),Cf=class extends k3.BaseFilter{constructor(e){super(),this.maxSendMessageSize=Ef.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Ef.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}sendMessage(e){return B(this,null,function*(){if(this.maxSendMessageSize===-1)return e;{let t=yield e;if(t.message.length>this.maxSendMessageSize)throw{code:Ef.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`,metadata:new Z_.Metadata};return t}})}receiveMessage(e){return B(this,null,function*(){if(this.maxReceiveMessageSize===-1)return e;{let t=yield e;if(t.length>this.maxReceiveMessageSize)throw{code:Ef.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`,metadata:new Z_.Metadata};return t}})}};uc.MaxMessageSizeFilter=Cf;var Ly=class{constructor(e){this.options=e}createFilter(){return new Cf(this.options)}};uc.MaxMessageSizeFilterFactory=Ly});var mf=S(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.deadlineToString=bi.getRelativeTimeout=bi.getDeadlineTimeoutString=bi.minDeadline=void 0;function N3(...n){let e=1/0;for(let t of n){let r=t instanceof Date?t.getTime():t;r<e&&(e=r)}return e}bi.minDeadline=N3;var _3=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function F3(n){let e=new Date().getTime();n instanceof Date&&(n=n.getTime());let t=Math.max(n-e,0);for(let[r,i]of _3){let s=t/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}bi.getDeadlineTimeoutString=F3;var M3=2147483647;function L3(n){let e=n instanceof Date?n.getTime():n,t=new Date().getTime(),r=e-t;return r<0?0:r>M3?1/0:r}bi.getRelativeTimeout=L3;function U3(n){if(n instanceof Date)return n.toISOString();{let e=new Date(n);return Number.isNaN(e.getTime())?""+n:e.toISOString()}}bi.deadlineToString=U3});var Bf=S(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.restrictControlPlaneStatusCode=void 0;var vi=Re(),x3=[vi.Status.OK,vi.Status.INVALID_ARGUMENT,vi.Status.NOT_FOUND,vi.Status.ALREADY_EXISTS,vi.Status.FAILED_PRECONDITION,vi.Status.ABORTED,vi.Status.OUT_OF_RANGE,vi.Status.DATA_LOSS];function O3(n,e){return x3.includes(n)?{code:vi.Status.INTERNAL,details:`Invalid status from control plane: ${n} ${vi.Status[n]} ${e}`}:{code:n,details:e}}If.restrictControlPlaneStatusCode=O3});var nF=S(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.LoadBalancingCall=void 0;var tF=fr(),yf=Re(),P3=mf(),Qf=yn(),Vu=zs(),V3=$n(),G3=gt(),Uy=Bf(),q3=F("http2"),Y3="load_balancing_call",xy=class{constructor(e,t,r,i,s,o,a){var A,c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let l=this.methodName.split("/"),u="";l.length>=2&&(u=l[1]);let h=(c=(A=(0,V3.splitHostPort)(this.host))===null||A===void 0?void 0:A.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${h}/${u}`}trace(e){G3.trace(yf.LogVerbosity.DEBUG,Y3,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:t});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+Vu.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((t=r.status)===null||t===void 0?void 0:t.details)),r.pickResultType){case Vu.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var A,c,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let u=this.metadata.clone();if(u.merge(a),u.get("authorization").length>1&&this.outputStatus({code:yf.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new Qf.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==tF.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+tF.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&u.set("grpc-timeout",(0,P3.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(u,this.host,this.methodName,{onReceiveMetadata:h=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(h)},onReceiveMessage:h=>{this.trace("Received message"),this.listener.onReceiveMessage(h)},onReceiveStatus:h=>{this.trace("Received status"),h.rstCode===q3.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(h,"REFUSED"):this.outputStatus(h,"PROCESSED")}})}catch(h){this.trace("Failed to start call on picked subchannel "+i+" with error "+h.message),this.outputStatus({code:yf.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+h.message,metadata:new Qf.Metadata},"NOT_STARTED");return}(c=(A=this.callConfig).onCommitted)===null||c===void 0||c.call(A),(l=r.onCallStarted)===null||l===void 0||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:A,details:c}=(0,Uy.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:yf.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:A,details:c,metadata:new Qf.Metadata},"PROCESSED")});break;case Vu.PickResultType.DROP:let{code:s,details:o}=(0,Uy.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case Vu.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:A}=(0,Uy.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:A,metadata:r.status.metadata},"PROCESSED")})}break;case Vu.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new Qf.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};wf.LoadBalancingCall=xy});var iF=S(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.ResolvingCall=void 0;var hc=Re(),Sf=mf(),rF=yn(),H3=gt(),J3=Bf(),W3="resolving_call",Oy=class{constructor(e,t,r,i,s,o){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&hc.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(hc.Status.CANCELLED,"Cancelled by parent call")}),r.flags&hc.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,Sf.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){H3.trace(hc.LogVerbosity.DEBUG,W3,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,Sf.deadlineToString)(this.deadline));let e=(0,Sf.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(hc.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(r=>r(t)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==hc.Status.OK){let{code:r,details:i}=(0,J3.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new rF.Metadata});return}if(t.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+t.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,Sf.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new rF.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};bf.ResolvingCall=Oy});var sF=S(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.RetryingCall=uo.MessageBufferTracker=uo.RetryThrottler=void 0;var vf=Re(),z3=yn(),j3=gt(),K3="retrying_call",Vy=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};uo.RetryThrottler=Vy;var Gy=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};uo.MessageBufferTracker=Gy;var Py="grpc-previous-rpc-attempts",qy=class{constructor(e,t,r,i,s,o,a,A,c){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=A,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let l=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(l.initialBackoff.substring(0,l.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){j3.trace(vf.LogVerbosity.DEBUG,K3,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new z3.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let r=this.getBufferEntry(t);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(vf.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(r=>r===t||r.toString().toLowerCase()===vf.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){t(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){t(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(t(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},a)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var r;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===vf.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(t=this.hedgingTimer).unref)===null||r===void 0||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(Py,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),s=!0,r>0&&o.set(Py,`${r}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(Py,`${r}`),this.handleChildStatus(o,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(t=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,A]of this.underlyingCalls.entries())A.state==="ACTIVE"&&A.nextMessageToSend===s&&A.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(a)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:A=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};uo.RetryingCall=qy});var Rf=S(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.BaseSubchannelWrapper=void 0;var Yy=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};Df.BaseSubchannelWrapper=Yy});var AF=S(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.InternalChannel=void 0;var X3=ug(),$3=TT(),Z3=z_(),oF=zs(),Gu=Re(),ez=Ry(),tz=$_(),aF=gi(),Hy=gt(),nz=eF(),rz=Cy(),Tf=$n(),Di=fr(),qu=da(),iz=nF(),sz=mf(),oz=iF(),Jy=yy(),az=Bf(),Wy=sF(),Az=Rf(),cz=2147483647,lz=1e3,uz=30*60*1e3,kf=new Map,hz=1<<24,dz=1<<20,zy=class extends Az.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{t.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},jy=class{constructor(e,t,r){var i,s,o,a,A,c,l,u;if(this.credentials=t,this.options=r,this.connectivityState=Di.ConnectivityState.IDLE,this.currentPicker=new oF.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new qu.ChannelzCallTracker,this.childrenTracker=new qu.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof X3.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let h=(0,Tf.parseUri)(e);if(h===null)throw new Error(`Could not parse target name "${e}"`);let d=(0,aF.mapUriDefaultScheme)(h);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},cz),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new qu.ChannelzTrace,this.channelzRef=(0,qu.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,aF.getDefaultAuthority)(d);let E=(0,rz.mapProxyName)(d,r);this.target=E.target,this.options=Object.assign({},this.options,E.extraOptions),this.subchannelPool=(0,Z3.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new Wy.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:hz,(A=r["grpc.per_rpc_retry_buffer_size"])!==null&&A!==void 0?A:dz),this.keepaliveTime=(c=r["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((l=r["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:uz,lz);let I={createSubchannel:(D,v)=>{let k=this.subchannelPool.getOrCreateSubchannel(this.target,D,Object.assign({},this.options,v),this.credentials);k.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",k.getChannelzRef());let T=new zy(k,this);return this.wrappedSubchannels.add(T),T},updateState:(D,v)=>{this.currentPicker=v;let k=this.pickQueue.slice();this.pickQueue=[],k.length>0&&this.callRefTimerUnref();for(let T of k)T.doPick();this.updateState(D)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:D=>{this.channelzEnabled&&this.childrenTracker.refChild(D)},removeChannelzChild:D=>{this.channelzEnabled&&this.childrenTracker.unrefChild(D)}};this.resolvingLoadBalancer=new $3.ResolvingLoadBalancer(this.target,I,r,(D,v)=>{D.retryThrottling?kf.set(this.getTarget(),new Wy.RetryThrottler(D.retryThrottling.maxTokens,D.retryThrottling.tokenRatio,kf.get(this.getTarget()))):kf.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=v,this.currentResolutionError=null,process.nextTick(()=>{let k=this.configSelectionQueue;this.configSelectionQueue=[],k.length>0&&this.callRefTimerUnref();for(let T of k)T.getConfig()})},D=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+D.code+' and details "'+D.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,az.restrictControlPlaneStatusCode)(D.code,D.details)),{metadata:D.metadata}));let v=this.configSelectionQueue;this.configSelectionQueue=[],v.length>0&&this.callRefTimerUnref();for(let k of v)k.reportResolverError(D)}),this.filterStackFactory=new ez.FilterStackFactory([new nz.MaxMessageSizeFilterFactory(this.options),new tz.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let m=new Error;(0,Hy.trace)(Gu.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((u=m.stack)===null||u===void 0?void 0:u.substring(m.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,Hy.trace)(t??Gu.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,Tf.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(r=>r===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,Hy.trace)(Gu.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,Tf.uriToString)(this.target)+" "+Di.ConnectivityState[this.connectivityState]+" -> "+Di.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Di.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Di.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Di.ConnectivityState.IDLE),this.currentPicker=new oF.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(t=this.idleTimer).unref)===null||r===void 0||r.call(t)}maybeStartIdleTimer(){this.connectivityState!==Di.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Gu.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,s){let o=(0,Jy.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new iz.LoadBalancingCall(this,e,t,r,i,s,o)}createRetryingCall(e,t,r,i,s){let o=(0,Jy.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new Wy.RetryingCall(this,e,t,r,i,s,o,this.retryBufferTracker,kf.get(this.getTarget()))}createInnerCall(e,t,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,r,i,s):this.createRetryingCall(e,t,r,i,s)}createResolvingCall(e,t,r,i,s){let o=(0,Jy.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,sz.deadlineToString)(t));let a={deadline:t,flags:s??Gu.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},A=new oz.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),A.addStatusWatcher(c=>{this.onCallEnd(c)}),A}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Di.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,qu.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,Tf.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===Di.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(t!==1/0){let o=t instanceof Date?t:new Date(t),a=new Date;if(t===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Di.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,s)}};Nf.InternalChannel=jy});var ZI=S(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.ChannelImplementation=void 0;var gz=ug(),fz=AF(),Ky=class{constructor(e,t,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof gz.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new fz.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,s)}};_f.ChannelImplementation=Ky});var CF=S(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.Http2ServerCallStream=wr.ServerDuplexStreamImpl=wr.ServerWritableStreamImpl=wr.ServerReadableStreamImpl=wr.ServerUnaryCallImpl=void 0;var dF=F("events"),dc=F("http2"),Zy=F("stream"),gF=F("zlib"),fF=F("util"),st=Re(),eQ=yn(),pz=Iy(),pF=gt(),Hu=sg(),EF="server_call",Ez=(0,fF.promisify)(gF.unzip),Cz=(0,fF.promisify)(gF.inflate);function Yu(n){pF.trace(st.LogVerbosity.DEBUG,EF,n)}var mz="grpc-accept-encoding",Iz="grpc-encoding",cF="grpc-message",lF="grpc-status",uF="grpc-timeout",Bz=/(\d{1,8})\s*([HMSmun])/,yz={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},Qz={[mz]:"identity,deflate,gzip",[Iz]:"identity"},hF={[dc.constants.HTTP2_HEADER_STATUS]:dc.constants.HTTP_STATUS_OK,[dc.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},wz={waitForTrailers:!0},Xy=class extends dF.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};wr.ServerUnaryCallImpl=Xy;var Ff=class extends Zy.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};wr.ServerReadableStreamImpl=Ff;var Ju=class extends Zy.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new eQ.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,Hu.getErrorMessage)(i),code:st.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:st.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};wr.ServerWritableStreamImpl=Ju;var gc=class extends Zy.Duplex{constructor(e,t,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new eQ.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};wr.ServerDuplexStreamImpl=gc;gc.prototype._read=Ff.prototype._read;gc.prototype._write=Ju.prototype._write;gc.prototype._final=Ju.prototype._final;var $y=class extends dF.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=st.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=st.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;Yu("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:st.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){return t==="deflate"?Cz(e.subarray(5)):t==="gzip"?Ez(e.subarray(5)):t==="identity"?e.subarray(5):Promise.reject({code:st.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},hF),Qz),t);this.stream.respond(r,wz)}receiveMetadata(e){let t=eQ.Metadata.fromHttp2Headers(e);pF.isTracerEnabled(EF)&&Yu("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(uF);if(r.length>0){let i=r[0].toString().match(Bz);if(i===null){let a=new Error("Invalid deadline");return a.code=st.Status.OUT_OF_RANGE,this.sendError(a),t}let s=+i[1]*yz[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(Sz,s,this),t.remove(uF)}return t.remove(dc.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(dc.constants.HTTP2_HEADER_TE),t.remove(dc.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,s=0,o=this,a=[],A=this.maxReceiveMessageSize;this.stream.on("data",c),this.stream.on("end",l),this.stream.on("error",l);function c(u){if(s+=u.byteLength,A!==-1&&s>A){i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),r({code:st.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${A})`});return}a.push(u)}function l(u){if(i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),u!==void 0){r({code:st.Status.INTERNAL,details:u.message});return}if(s===0){r({code:st.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let h=Buffer.concat(a,s),E=h.readUInt8(0)===1?e:"identity",I=o.getDecompressedMessage(h,E);if(Buffer.isBuffer(I)){t(o.deserializeMessageWithInternalError(I));return}I.then(m=>t(o.deserializeMessageWithInternalError(m)),m=>r(m.code?m:{code:st.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return B(this,null,function*(){try{return this.deserializeMessage(e)}catch(t){throw{details:(0,Hu.getErrorMessage)(t),code:st.Status.INTERNAL}}})}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,t,r,i){return B(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(t);this.write(s),this.sendStatus({code:st.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,Hu.getErrorMessage)(s),code:st.Status.INTERNAL})}}})}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===st.Status.OK),!this.checkCancelled())if(Yu("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+st.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[lF]:e.code,[cF]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[lF]:e.code,[cF]:encodeURI(e.details)},hF),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let t={code:st.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&typeof e.details=="string"&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:st.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new pz.StreamDecoder,i=!1,s=!1,o=!1,a=()=>B(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",A=>B(this,null,function*(){let c=r.write(A);s=!0,this.stream.pause();for(let l of c){if(this.maxReceiveMessageSize!==-1&&l.length>this.maxReceiveMessageSize){this.sendError({code:st.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${l.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let h=l.readUInt8(0)===1?t:"identity",d=yield this.getDecompressedMessage(l,h);if(!d)return;yield this.pushOrBufferMessage(e,d)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>B(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(t===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){return B(this,null,function*(){this.isPushPending?this.bufferedMessages.push(t):yield this.pushMessage(e,t)})}pushMessage(e,t){return B(this,null,function*(){if(t===null){Yu("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}Yu("Received message of length "+t.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,Hu.getErrorCode)(r);(i===null||i<st.Status.OK||i>st.Status.UNAUTHENTICATED)&&(i=st.Status.INTERNAL),e.emit("error",{details:(0,Hu.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t?.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};wr.Http2ServerCallStream=$y;function Sz(n){let e=new Error("Deadline exceeded");e.code=st.Status.DEADLINE_EXCEEDED,n.sendError(e),n.cancelled=!0,n.emit("cancelled","deadline")}});var rQ=S(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.ServerCredentials=void 0;var mF=QI(),Wu=class{static createInsecure(){return new tQ}static createSsl(e,t,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new nQ({ca:e||(0,mF.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:mF.CIPHER_SUITES})}};Mf.ServerCredentials=Wu;var tQ=class extends Wu{_isSecure(){return!1}_getSettings(){return null}},nQ=class extends Wu{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var yF=S(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.Server=void 0;var ho=F("http2"),ls=Re(),fa=CF(),bz=rQ(),IF=gi(),Lf=gt(),jr=pi(),vz=$n(),Pn=da(),Uf=~(1<<31),Dz=~(1<<31),Rz=2e4,{HTTP2_HEADER_PATH:BF}=ho.constants,Tz="server";function kz(){}function iQ(n){return{code:ls.Status.UNIMPLEMENTED,details:`The server does not implement the method ${n}`}}function Nz(n,e){let t=iQ(e);switch(n){case"unary":return(r,i)=>{i(t,null)};case"clientStream":return(r,i)=>{i(t,null)};case"serverStream":return r=>{r.emit("error",t)};case"bidi":return r=>{r.emit("error",t)};default:throw new Error(`Invalid handlerType ${n}`)}}var sQ=class{constructor(e){var t,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new Pn.ChannelzTrace,this.callTracker=new Pn.ChannelzCallTracker,this.listenerChildrenTracker=new Pn.ChannelzChildrenTracker,this.sessionChildrenTracker=new Pn.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,Pn.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:Uf,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:Uf,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:Dz,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:Rz,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,jr.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,A=o.localAddress?(0,jr.stringToSubchannelAddress)(o.localAddress,o.localPort):null,c;if(e.encrypted){let u=o,h=u.getCipher(),d=u.getCertificate(),E=u.getPeerCertificate();c={cipherSuiteStandardName:(t=h.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:h.standardName?null:h.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:E&&"raw"in E?E.raw:null}}else c=null;return{remoteAddress:a,localAddress:A,security:c,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){Lf.trace(ls.LogVerbosity.DEBUG,Tz,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!="object"||t===null||typeof t!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=t[i],A;if(a===void 0&&typeof s.originalName=="string"&&(a=t[s.originalName]),a!==void 0?A=a.bind(t):A=Nz(o,i),this.register(s.path,A,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(t===null||!(t instanceof bz.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,vz.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,IF.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(d,E)=>{process.nextTick(()=>r(d,E))},A=()=>{let d;if(t._isSecure()){let E=Object.assign(o,t._getSettings());E.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,d=ho.createSecureServer(E),d.on("secureConnection",I=>{I.on("error",m=>{this.trace("An incoming TLS connection closed with error: "+m.message)})})}else d=ho.createServer(o);return d.setTimeout(0,kz),this._setupHandlers(d),d},c=(d,E,I)=>d.length===0?Promise.resolve({port:E,count:I}):Promise.all(d.map(m=>{this.trace("Attempting to bind "+(0,jr.subchannelAddressToString)(m));let D;(0,jr.isTcpSubchannelAddress)(m)?D={host:m.host,port:E}:D=m;let v=A();return new Promise((k,T)=>{let _=L=>{this.trace("Failed to bind "+(0,jr.subchannelAddressToString)(m)+" with error "+L.message),k(L)};v.once("error",_),v.listen(D,()=>{if(this.shutdown){v.close(),k(new Error("bindAsync failed because server is shutdown"));return}let L=v.address(),Q;typeof L=="string"?Q={path:L}:Q={host:L.address,port:L.port};let C=(0,Pn.registerChannelzSocket)((0,jr.subchannelAddressToString)(Q),()=>({localAddress:Q,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(C),this.http2ServerList.push({server:v,channelzRef:C}),this.trace("Successfully bound "+(0,jr.subchannelAddressToString)(Q)),k("port"in Q?Q.port:E),v.removeListener("error",_)})})})).then(m=>{let D=0;for(let v of m)if(typeof v=="number"&&(D+=1,v!==E))throw new Error("Invalid state: multiple port numbers added from single address");return{port:E,count:D+I}}),l=d=>{if(d.length===0)return Promise.resolve({port:0,count:0});let E=d[0],I=A();return new Promise((m,D)=>{let v=k=>{this.trace("Failed to bind "+(0,jr.subchannelAddressToString)(E)+" with error "+k.message),m(l(d.slice(1)))};I.once("error",v),I.listen(E,()=>{if(this.shutdown){I.close(),m({port:0,count:0});return}let k=I.address(),T={host:k.address,port:k.port},_=(0,Pn.registerChannelzSocket)((0,jr.subchannelAddressToString)(T),()=>({localAddress:T,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(_),this.http2ServerList.push({server:I,channelzRef:_}),this.trace("Successfully bound "+(0,jr.subchannelAddressToString)(T)),m(c(d.slice(1),k.port,1)),I.removeListener("error",v)})})},u={onSuccessfulResolution:(d,E,I)=>{if(u.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),d.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let m;(0,jr.isTcpSubchannelAddress)(d[0])?d[0].port===0?m=l(d):m=c(d,d[0].port,0):m=c(d,1,0),m.then(D=>{if(D.count===0){let v=`No address added out of total ${d.length} resolved`;Lf.log(ls.LogVerbosity.ERROR,v),a(new Error(v),0)}else D.count<d.length&&Lf.log(ls.LogVerbosity.INFO,`WARNING Only ${D.count} addresses added out of total ${d.length} resolved`),a(null,D.port)},D=>{let v=`No address added out of total ${d.length} resolved`;Lf.log(ls.LogVerbosity.ERROR,v),a(new Error(v),0)})},onError:d=>{a(new Error(d.details),0)}};(0,IF.createResolver)(s,u,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,Pn.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(ho.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,Pn.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=s=>{this.channelzEnabled&&(0,Pn.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&t()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,Pn.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[ho.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[ho.constants.HTTP2_HEADER_STATUS]:ho.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return t===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new fa.Http2ServerCallStream(t,null,this.options);e.code===void 0&&(e.code=ls.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=t[BF],s=this._retrieveHandler(i);if(!s){this._respondWithError(iQ(i),e,r);return}let o=new fa.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===ls.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,t)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:ls.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(this._verifyContentType(e,t)!==!0)return;let r=t[BF],i=this._retrieveHandler(r);if(!i){this._respondWithError(iQ(r),e,null);return}let s=new fa.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,t)||s.sendError({code:ls.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=t;if(a==="unary")_z(e,t,s,o);else if(a==="clientStream")Fz(e,t,s,o);else if(a==="serverStream")Mz(e,t,s,o);else if(a==="bidi")Lz(e,t,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let t=e.address(),r="null";t&&(typeof t=="string"?r=t:r=t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,A,c,l;if(!this.started){s.destroy();return}let u=(0,Pn.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),h={ref:u,streamTracker:new Pn.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,h);let d=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+d),this.sessionChildrenTracker.refChild(u));let E=null,I=null,m=!1;if(this.maxConnectionAgeMs!==Uf){let v=this.maxConnectionAgeMs/10,k=Math.random()*v*2-v;E=(A=(a=setTimeout(()=>{var T,_;m=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+d);try{s.goaway(ho.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==Uf&&(I=(_=(T=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||_===void 0?void 0:_.call(T))},this.maxConnectionAgeMs+k)).unref)===null||A===void 0?void 0:A.call(a)}let D=(l=(c=setInterval(()=>{var v,k;let T=(k=(v=setTimeout(()=>{m=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+d),s.close()},this.keepaliveTimeoutMs)).unref)===null||k===void 0?void 0:k.call(v);try{s.ping((_,L,Q)=>{clearTimeout(T)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||l===void 0?void 0:l.call(c);s.on("close",()=>{this.channelzEnabled&&(m||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+d),this.sessionChildrenTracker.unrefChild(u),(0,Pn.unregisterChannelzRef)(u)),E&&clearTimeout(E),I&&clearTimeout(I),D&&clearTimeout(D),this.sessions.delete(s)})})}};xf.Server=sQ;function _z(n,e,t,r){return B(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new fa.ServerUnaryCallImpl(n,t,i);e.func(s,(o,a,A,c)=>{n.sendUnaryMessage(o,a,A,c)})}catch(i){n.sendError(i)}})}function Fz(n,e,t,r){let i=new fa.ServerReadableStreamImpl(n,t,e.deserialize,r);function s(o,a,A,c){i.destroy(),n.sendUnaryMessage(o,a,A,c)}n.cancelled||(i.on("error",s),e.func(i,s))}function Mz(n,e,t,r){return B(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new fa.ServerWritableStreamImpl(n,t,e.serialize,i);e.func(s)}catch(i){n.sendError(i)}})}function Lz(n,e,t,r){let i=new fa.ServerDuplexStreamImpl(n,t,e.serialize,e.deserialize,r);n.cancelled||e.func(i)}});var QF=S(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.StatusBuilder=void 0;var oQ=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};Of.StatusBuilder=oQ});var aQ=S(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.isDuration=go.durationToMs=go.msToDuration=void 0;function Uz(n){return{seconds:n/1e3|0,nanos:n%1e3*1e6|0}}go.msToDuration=Uz;function xz(n){return n.seconds*1e3+n.nanos/1e6|0}go.durationToMs=xz;function Oz(n){return typeof n.seconds=="number"&&typeof n.nanos=="number"}go.isDuration=Oz});var fQ=S(fo=>{"use strict";var AQ;Object.defineProperty(fo,"__esModule",{value:!0});fo.setup=fo.OutlierDetectionLoadBalancer=fo.OutlierDetectionLoadBalancingConfig=void 0;var Vf=fr(),SF=Re(),pa=aQ(),bF=pQ(),vF=Ys(),Pz=Cg(),Vz=zs(),wF=pi(),Gz=Rf(),qz=gt(),Yz="outlier_detection";function Ht(n){qz.trace(SF.LogVerbosity.DEBUG,Yz,n)}var gQ="outlier_detection",Hz=((AQ=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&AQ!==void 0?AQ:"true")==="true",Jz={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},Wz={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function fc(n,e,t,r){if(e in n&&typeof n[e]!==t){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${t}, got ${typeof n[e]}`)}}function cQ(n,e,t){let r=t?`${t}.${e}`:e;if(e in n){if(!(0,pa.isDuration)(n[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof n[e]}`);if(!(n[e].seconds>=0&&n[e].seconds<=315576e6&&n[e].nanos>=0&&n[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function Pf(n,e,t){let r=t?`${t}.${e}`:e;if(fc(n,e,"number",t),e in n&&!(n[e]>=0&&n[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var zu=class n{constructor(e,t,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},Jz),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},Wz),o):null}getLoadBalancerName(){return gQ}toJsonObject(){return{interval:(0,pa.msToDuration)(this.intervalMs),base_ejection_time:(0,pa.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,pa.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new n(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(cQ(e,"interval"),cQ(e,"base_ejection_time"),cQ(e,"max_ejection_time"),Pf(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");fc(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Pf(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),fc(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),fc(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Pf(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Pf(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),fc(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),fc(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new n(e.interval?(0,pa.durationToMs)(e.interval):null,e.base_ejection_time?(0,pa.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,pa.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(vF.validateLoadBalancingConfig))}};fo.OutlierDetectionLoadBalancingConfig=zu;var uQ=class extends Gz.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?Vf.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,Vf.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,Vf.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function lQ(){return{success:0,failure:0}}var hQ=class{constructor(){this.activeBucket=lQ(),this.inactiveBucket=lQ()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=lQ()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},dQ=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===Vz.PickResultType.COMPLETE){let r=t.subchannel,i=r.getMapEntry();if(i){let s=t.onCallEnded;return this.countCalls&&(s=o=>{var a;o===SF.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=t.onCallEnded)===null||a===void 0||a.call(t,o)}),Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel()})}else return t}},Gf=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new Pz.ChildLoadBalancerHandler((0,bF.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),s=this.addressMap.get((0,wF.subchannelAddressToString)(t)),o=new uQ(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===Vf.ConnectivityState.READY?e.updateState(t,new dQ(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;Ht("Running success rate check");let r=t.request_volume,i=0,s=[];for(let[u,h]of this.addressMap){let d=h.counter.getLastSuccesses(),E=h.counter.getLastFailures();Ht("Stats for "+u+": successes="+d+" failures="+E+" targetRequestVolume="+r),d+E>=r&&(i+=1,s.push(d/(d+E)))}if(Ht("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<t.minimum_hosts)return;let o=s.reduce((u,h)=>u+h)/s.length,a=0;for(let u of s){let h=u-o;a+=h*h}let A=a/s.length,c=Math.sqrt(A),l=o-c*(t.stdev_factor/1e3);Ht("stdev="+c+" ejectionThreshold="+l);for(let[u,h]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let d=h.counter.getLastSuccesses(),E=h.counter.getLastFailures();if(d+E<r)continue;let I=d/(d+E);if(Ht("Checking candidate "+u+" successRate="+I),I<l){let m=Math.random()*100;Ht("Candidate "+u+" randomNumber="+m+" enforcement_percentage="+t.enforcement_percentage),m<t.enforcement_percentage&&(Ht("Ejecting candidate "+u),this.eject(h,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;Ht("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(Ht("Candidate successes="+o+" failures="+a),o+a<t.request_volume)continue;if(a*100/(a+o)>t.threshold){let c=Math.random()*100;Ht("Candidate "+i+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(Ht("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(t=this.ejectionTimer).unref)===null||r===void 0||r.call(t)}runChecks(){let e=new Date;if(Ht("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(Ht("Unejecting "+t),this.uneject(r))}}}updateAddressList(e,t,r){if(!(t instanceof zu))return;let i=new Set;for(let o of e)i.add((0,wF.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(Ht("Adding map entry for "+o),this.addressMap.set(o,{counter:new hQ,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(Ht("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,vF.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){Ht("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else Ht("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{Ht("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return gQ}};fo.OutlierDetectionLoadBalancer=Gf;function zz(){Hz&&(0,bF.registerLoadBalancerType)(gQ,Gf,zu)}fo.setup=zz});var pQ=S(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.OutlierDetectionLoadBalancingConfig=de.BaseSubchannelWrapper=de.registerAdminService=de.FilterStackFactory=de.BaseFilter=de.PickResultType=de.QueuePicker=de.UnavailablePicker=de.ChildLoadBalancerHandler=de.subchannelAddressToString=de.validateLoadBalancingConfig=de.getFirstUsableConfig=de.registerLoadBalancerType=de.createChildChannelControlHelper=de.BackoffTimeout=de.durationToMs=de.uriToString=de.createResolver=de.registerResolver=de.log=de.trace=void 0;var DF=gt();Object.defineProperty(de,"trace",{enumerable:!0,get:function(){return DF.trace}});Object.defineProperty(de,"log",{enumerable:!0,get:function(){return DF.log}});var RF=gi();Object.defineProperty(de,"registerResolver",{enumerable:!0,get:function(){return RF.registerResolver}});Object.defineProperty(de,"createResolver",{enumerable:!0,get:function(){return RF.createResolver}});var jz=$n();Object.defineProperty(de,"uriToString",{enumerable:!0,get:function(){return jz.uriToString}});var Kz=aQ();Object.defineProperty(de,"durationToMs",{enumerable:!0,get:function(){return Kz.durationToMs}});var Xz=pu();Object.defineProperty(de,"BackoffTimeout",{enumerable:!0,get:function(){return Xz.BackoffTimeout}});var qf=Ys();Object.defineProperty(de,"createChildChannelControlHelper",{enumerable:!0,get:function(){return qf.createChildChannelControlHelper}});Object.defineProperty(de,"registerLoadBalancerType",{enumerable:!0,get:function(){return qf.registerLoadBalancerType}});Object.defineProperty(de,"getFirstUsableConfig",{enumerable:!0,get:function(){return qf.getFirstUsableConfig}});Object.defineProperty(de,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return qf.validateLoadBalancingConfig}});var $z=pi();Object.defineProperty(de,"subchannelAddressToString",{enumerable:!0,get:function(){return $z.subchannelAddressToString}});var Zz=Cg();Object.defineProperty(de,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Zz.ChildLoadBalancerHandler}});var EQ=zs();Object.defineProperty(de,"UnavailablePicker",{enumerable:!0,get:function(){return EQ.UnavailablePicker}});Object.defineProperty(de,"QueuePicker",{enumerable:!0,get:function(){return EQ.QueuePicker}});Object.defineProperty(de,"PickResultType",{enumerable:!0,get:function(){return EQ.PickResultType}});var ej=gf();Object.defineProperty(de,"BaseFilter",{enumerable:!0,get:function(){return ej.BaseFilter}});var tj=Ry();Object.defineProperty(de,"FilterStackFactory",{enumerable:!0,get:function(){return tj.FilterStackFactory}});var nj=Ig();Object.defineProperty(de,"registerAdminService",{enumerable:!0,get:function(){return nj.registerAdminService}});var rj=Rf();Object.defineProperty(de,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return rj.BaseSubchannelWrapper}});var ij=fQ();Object.defineProperty(de,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return ij.OutlierDetectionLoadBalancingConfig}})});var TF=S(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.setup=void 0;var sj=gi(),CQ=class{constructor(e,t,r){this.listener=t,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function oj(){(0,sj.registerResolver)("unix",CQ)}Yf.setup=oj});var MF=S(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.setup=void 0;var kF=F("net"),Hf=Re(),mQ=yn(),NF=gi(),_F=$n(),aj=gt(),Aj="ip_resolver";function FF(n){aj.trace(Hf.LogVerbosity.DEBUG,Aj,n)}var IQ="ipv4",BQ="ipv6",cj=443,Jf=class{constructor(e,t,r){var i;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,FF("Resolver constructed for target "+(0,_F.uriToString)(e));let s=[];if(!(e.scheme===IQ||e.scheme===BQ)){this.error={code:Hf.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new mQ.Metadata};return}let o=e.path.split(",");for(let a of o){let A=(0,_F.splitHostPort)(a);if(A===null){this.error={code:Hf.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new mQ.Metadata};return}if(e.scheme===IQ&&!(0,kF.isIPv4)(A.host)||e.scheme===BQ&&!(0,kF.isIPv6)(A.host)){this.error={code:Hf.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new mQ.Metadata};return}s.push({host:A.host,port:(i=A.port)!==null&&i!==void 0?i:cj})}this.addresses=s,FF("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function lj(){(0,NF.registerResolver)(IQ,Jf),(0,NF.registerResolver)(BQ,Jf)}Wf.setup=lj});var xF=S(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.setup=Ri.PickFirstLoadBalancer=Ri.shuffled=Ri.PickFirstLoadBalancingConfig=void 0;var LF=Ys(),ln=fr(),zf=zs(),uj=gt(),hj=Re(),dj="pick_first";function yQ(n){uj.trace(hj.LogVerbosity.DEBUG,dj,n)}var ju="pick_first",gj=250,Ku=class n{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return ju}toJsonObject(){return{[ju]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new n(e.shuffleAddressList===!0)}};Ri.PickFirstLoadBalancingConfig=Ku;var QQ=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:zf.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function UF(n){let e=n.slice();for(let t=e.length-1;t>1;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}Ri.shuffled=UF;var jf=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=ln.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.onSubchannelStateUpdate(t,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(ln.ConnectivityState.READY,new QQ(this.currentPick)):this.children.length===0?this.updateState(ln.ConnectivityState.IDLE,new zf.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(ln.ConnectivityState.TRANSIENT_FAILURE,new zf.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(ln.ConnectivityState.CONNECTING,new zf.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==ln.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===ln.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===ln.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let i=r.subchannel.getConnectivityState();if(i===ln.ConnectivityState.IDLE||i===ln.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===ln.ConnectivityState.IDLE&&(yQ("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},gj)).unref)===null||r===void 0?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(yQ("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){yQ(ln.ConnectivityState[this.currentState]+" -> "+ln.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of t)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===ln.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===ln.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof Ku&&(t.getShuffleAddressList()&&(e=UF(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===ln.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return ju}};Ri.PickFirstLoadBalancer=jf;function fj(){(0,LF.registerLoadBalancerType)(ju,jf,Ku),(0,LF.registerDefaultLoadBalancerType)(ju)}Ri.setup=fj});var PF=S(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.setup=pc.RoundRobinLoadBalancer=void 0;var pj=Ys(),un=fr(),Kf=zs(),Ej=pi(),Cj=gt(),mj=Re(),Ij="round_robin";function OF(n){Cj.trace(mj.LogVerbosity.DEBUG,Ij,n)}var Xf="round_robin",wQ=class n{getLoadBalancerName(){return Xf}constructor(){}toJsonObject(){return{[Xf]:{}}}static createFromJson(e){return new n}},SQ=class{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:Kf.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},$f=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=un.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.calculateAndUpdateState(),(i===un.ConnectivityState.TRANSIENT_FAILURE||i===un.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(un.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===un.ConnectivityState.READY),t=0;this.currentReadyPicker!==null&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(un.ConnectivityState.READY,new SQ(e,t))}else this.countSubchannelsWithState(un.ConnectivityState.CONNECTING)>0?this.updateState(un.ConnectivityState.CONNECTING,new Kf.QueuePicker(this)):this.countSubchannelsWithState(un.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(un.ConnectivityState.TRANSIENT_FAILURE,new Kf.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(un.ConnectivityState.IDLE,new Kf.QueuePicker(this))}updateState(e,t){OF(un.ConnectivityState[this.currentState]+" -> "+un.ConnectivityState[e]),e===un.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),OF("Connect to address list "+e.map(r=>(0,Ej.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===un.ConnectivityState.IDLE||i===un.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Xf}};pc.RoundRobinLoadBalancer=$f;function Bj(){(0,pj.registerLoadBalancerType)(Xf,$f,wQ)}pc.setup=Bj});var YF=S(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.experimental=X.addAdminServicesToServer=X.getChannelzHandlers=X.getChannelzServiceDefinition=X.InterceptorConfigurationError=X.InterceptingCall=X.RequesterBuilder=X.ListenerBuilder=X.StatusBuilder=X.getClientChannel=X.ServerCredentials=X.Server=X.setLogVerbosity=X.setLogger=X.load=X.loadObject=X.CallCredentials=X.ChannelCredentials=X.waitForClientReady=X.closeClient=X.Channel=X.makeGenericClientConstructor=X.makeClientConstructor=X.loadPackageDefinition=X.Client=X.compressionAlgorithms=X.propagate=X.connectivityState=X.status=X.logVerbosity=X.Metadata=X.credentials=void 0;var Zf=BI();Object.defineProperty(X,"CallCredentials",{enumerable:!0,get:function(){return Zf.CallCredentials}});var yj=ZI();Object.defineProperty(X,"Channel",{enumerable:!0,get:function(){return yj.ChannelImplementation}});var Qj=Ty();Object.defineProperty(X,"compressionAlgorithms",{enumerable:!0,get:function(){return Qj.CompressionAlgorithms}});var wj=fr();Object.defineProperty(X,"connectivityState",{enumerable:!0,get:function(){return wj.ConnectivityState}});var ep=ug();Object.defineProperty(X,"ChannelCredentials",{enumerable:!0,get:function(){return ep.ChannelCredentials}});var VF=$I();Object.defineProperty(X,"Client",{enumerable:!0,get:function(){return VF.Client}});var bQ=Re();Object.defineProperty(X,"logVerbosity",{enumerable:!0,get:function(){return bQ.LogVerbosity}});Object.defineProperty(X,"status",{enumerable:!0,get:function(){return bQ.Status}});Object.defineProperty(X,"propagate",{enumerable:!0,get:function(){return bQ.Propagate}});var GF=gt(),vQ=tB();Object.defineProperty(X,"loadPackageDefinition",{enumerable:!0,get:function(){return vQ.loadPackageDefinition}});Object.defineProperty(X,"makeClientConstructor",{enumerable:!0,get:function(){return vQ.makeClientConstructor}});Object.defineProperty(X,"makeGenericClientConstructor",{enumerable:!0,get:function(){return vQ.makeClientConstructor}});var Sj=yn();Object.defineProperty(X,"Metadata",{enumerable:!0,get:function(){return Sj.Metadata}});var bj=yF();Object.defineProperty(X,"Server",{enumerable:!0,get:function(){return bj.Server}});var vj=rQ();Object.defineProperty(X,"ServerCredentials",{enumerable:!0,get:function(){return vj.ServerCredentials}});var Dj=QF();Object.defineProperty(X,"StatusBuilder",{enumerable:!0,get:function(){return Dj.StatusBuilder}});X.credentials={combineChannelCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),combineCallCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),createInsecure:ep.ChannelCredentials.createInsecure,createSsl:ep.ChannelCredentials.createSsl,createFromSecureContext:ep.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:Zf.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:Zf.CallCredentials.createFromGoogleCredential,createEmpty:Zf.CallCredentials.createEmpty};var Rj=n=>n.close();X.closeClient=Rj;var Tj=(n,e,t)=>n.waitForReady(e,t);X.waitForClientReady=Tj;var kj=(n,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};X.loadObject=kj;var Nj=(n,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};X.load=Nj;var _j=n=>{GF.setLogger(n)};X.setLogger=_j;var Fj=n=>{GF.setLoggerVerbosity(n)};X.setLogVerbosity=Fj;var Mj=n=>VF.Client.prototype.getChannel.call(n);X.getClientChannel=Mj;var tp=jI();Object.defineProperty(X,"ListenerBuilder",{enumerable:!0,get:function(){return tp.ListenerBuilder}});Object.defineProperty(X,"RequesterBuilder",{enumerable:!0,get:function(){return tp.RequesterBuilder}});Object.defineProperty(X,"InterceptingCall",{enumerable:!0,get:function(){return tp.InterceptingCall}});Object.defineProperty(X,"InterceptorConfigurationError",{enumerable:!0,get:function(){return tp.InterceptorConfigurationError}});var qF=da();Object.defineProperty(X,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return qF.getChannelzServiceDefinition}});Object.defineProperty(X,"getChannelzHandlers",{enumerable:!0,get:function(){return qF.getChannelzHandlers}});var Lj=Ig();Object.defineProperty(X,"addAdminServicesToServer",{enumerable:!0,get:function(){return Lj.addAdminServicesToServer}});var Uj=pQ();X.experimental=Uj;var xj=Ey(),Oj=TF(),Pj=MF(),Vj=xF(),Gj=PF(),qj=fQ(),Yj=da();xj.setup(),Oj.setup(),Pj.setup(),Vj.setup(),Gj.setup(),qj.setup(),Yj.setup()});var je=S((ame,y1)=>{"use strict";y1.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}});var Ge=S((Ame,Q1)=>{"use strict";var St=class extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},wb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},Sb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},bb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},vb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Db=class n extends St{constructor(e,t,r,i){super(e),Error.captureStackTrace(this,n),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=t,this.statusCode=t,this.headers=r}},Rb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Tb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},kb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},Nb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},_b=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Fb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Mb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Lb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},Ub=class n extends St{constructor(e,t){super(e),Error.captureStackTrace(this,n),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}},$E=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},xb=class extends St{constructor(e){super(e),Error.captureStackTrace(this,$E),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Ob=class n extends Error{constructor(e,t,r){super(e),Error.captureStackTrace(this,n),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}},Pb=class n extends St{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Vb=class n extends St{constructor(e,t,{headers:r,data:i}){super(e),Error.captureStackTrace(this,n),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=i,this.headers=r}};Q1.exports={HTTPParserError:Ob,UndiciError:St,HeadersTimeoutError:Sb,HeadersOverflowError:bb,BodyTimeoutError:vb,RequestContentLengthMismatchError:_b,ConnectTimeoutError:wb,ResponseStatusCodeError:Db,InvalidArgumentError:Rb,InvalidReturnValueError:Tb,RequestAbortedError:kb,ClientDestroyedError:Mb,ClientClosedError:Lb,InformationalError:Nb,SocketError:Ub,NotSupportedError:$E,ResponseContentLengthMismatchError:Fb,BalancedPoolMissingUpstreamError:xb,ResponseExceededMaxSizeError:Pb,RequestRetryError:Vb}});var S1=S((cme,w1)=>{"use strict";var ZE={},Gb=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let n=0;n<Gb.length;++n){let e=Gb[n],t=e.toLowerCase();ZE[e]=ZE[t]=t}Object.setPrototypeOf(ZE,null);w1.exports={wellknownHeaderNames:Gb,headerNameLowerCasedRecord:ZE}});var ve=S((lme,L1)=>{"use strict";var R1=F("assert"),{kDestroyed:T1,kBodyUsed:b1}=je(),{IncomingMessage:qte}=F("http"),Cl=F("stream"),Yte=F("net"),{InvalidArgumentError:en}=Ge(),{Blob:v1}=F("buffer"),eC=F("util"),{stringify:Hte}=F("querystring"),{headerNameLowerCasedRecord:Jte}=S1(),[qb,D1]=process.versions.node.split(".").map(n=>Number(n));function Wte(){}function Yb(n){return n&&typeof n=="object"&&typeof n.pipe=="function"&&typeof n.on=="function"}function k1(n){return v1&&n instanceof v1||n&&typeof n=="object"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}function zte(n,e){if(n.includes("?")||n.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let t=Hte(e);return t&&(n+="?"+t),n}function N1(n){if(typeof n=="string"){if(n=new URL(n),!/^https?:/.test(n.origin||n.protocol))throw new en("Invalid URL protocol: the URL must start with `http:` or `https:`.");return n}if(!n||typeof n!="object")throw new en("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(n.origin||n.protocol))throw new en("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(n instanceof URL)){if(n.port!=null&&n.port!==""&&!Number.isFinite(parseInt(n.port)))throw new en("Invalid URL: port must be a valid integer or a string representation of an integer.");if(n.path!=null&&typeof n.path!="string")throw new en("Invalid URL path: the path must be a string or null/undefined.");if(n.pathname!=null&&typeof n.pathname!="string")throw new en("Invalid URL pathname: the pathname must be a string or null/undefined.");if(n.hostname!=null&&typeof n.hostname!="string")throw new en("Invalid URL hostname: the hostname must be a string or null/undefined.");if(n.origin!=null&&typeof n.origin!="string")throw new en("Invalid URL origin: the origin must be a string or null/undefined.");let e=n.port!=null?n.port:n.protocol==="https:"?443:80,t=n.origin!=null?n.origin:`${n.protocol}//${n.hostname}:${e}`,r=n.path!=null?n.path:`${n.pathname||""}${n.search||""}`;t.endsWith("/")&&(t=t.substring(0,t.length-1)),r&&!r.startsWith("/")&&(r=`/${r}`),n=new URL(t+r)}return n}function jte(n){if(n=N1(n),n.pathname!=="/"||n.search||n.hash)throw new en("invalid url");return n}function Kte(n){if(n[0]==="["){let t=n.indexOf("]");return R1(t!==-1),n.substring(1,t)}let e=n.indexOf(":");return e===-1?n:n.substring(0,e)}function Xte(n){if(!n)return null;R1.strictEqual(typeof n,"string");let e=Kte(n);return Yte.isIP(e)?"":e}function $te(n){return JSON.parse(JSON.stringify(n))}function Zte(n){return n!=null&&typeof n[Symbol.asyncIterator]=="function"}function ene(n){return n!=null&&(typeof n[Symbol.iterator]=="function"||typeof n[Symbol.asyncIterator]=="function")}function tne(n){if(n==null)return 0;if(Yb(n)){let e=n._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(k1(n))return n.size!=null?n.size:null;if(F1(n))return n.byteLength}return null}function Hb(n){return!n||!!(n.destroyed||n[T1])}function _1(n){let e=n&&n._readableState;return Hb(n)&&e&&!e.endEmitted}function nne(n,e){n==null||!Yb(n)||Hb(n)||(typeof n.destroy=="function"?(Object.getPrototypeOf(n).constructor===qte&&(n.socket=null),n.destroy(e)):e&&process.nextTick((t,r)=>{t.emit("error",r)},n,e),n.destroyed!==!0&&(n[T1]=!0))}var rne=/timeout=(\d+)/;function ine(n){let e=n.toString().match(rne);return e?parseInt(e[1],10)*1e3:null}function sne(n){return Jte[n]||n.toLowerCase()}function one(n,e={}){if(!Array.isArray(n))return n;for(let t=0;t<n.length;t+=2){let r=n[t].toString().toLowerCase(),i=e[r];i?(Array.isArray(i)||(i=[i],e[r]=i),i.push(n[t+1].toString("utf8"))):Array.isArray(n[t+1])?e[r]=n[t+1].map(s=>s.toString("utf8")):e[r]=n[t+1].toString("utf8")}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}function ane(n){let e=[],t=!1,r=-1;for(let i=0;i<n.length;i+=2){let s=n[i+0].toString(),o=n[i+1].toString("utf8");s.length===14&&(s==="content-length"||s.toLowerCase()==="content-length")?(e.push(s,o),t=!0):s.length===19&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")?r=e.push(s,o)-1:e.push(s,o)}return t&&r!==-1&&(e[r]=Buffer.from(e[r]).toString("latin1")),e}function F1(n){return n instanceof Uint8Array||Buffer.isBuffer(n)}function Ane(n,e,t){if(!n||typeof n!="object")throw new en("handler must be an object");if(typeof n.onConnect!="function")throw new en("invalid onConnect method");if(typeof n.onError!="function")throw new en("invalid onError method");if(typeof n.onBodySent!="function"&&n.onBodySent!==void 0)throw new en("invalid onBodySent method");if(t||e==="CONNECT"){if(typeof n.onUpgrade!="function")throw new en("invalid onUpgrade method")}else{if(typeof n.onHeaders!="function")throw new en("invalid onHeaders method");if(typeof n.onData!="function")throw new en("invalid onData method");if(typeof n.onComplete!="function")throw new en("invalid onComplete method")}}function cne(n){return!!(n&&(Cl.isDisturbed?Cl.isDisturbed(n)||n[b1]:n[b1]||n.readableDidRead||n._readableState&&n._readableState.dataEmitted||_1(n)))}function lne(n){return!!(n&&(Cl.isErrored?Cl.isErrored(n):/state: 'errored'/.test(eC.inspect(n))))}function une(n){return!!(n&&(Cl.isReadable?Cl.isReadable(n):/state: 'readable'/.test(eC.inspect(n))))}function hne(n){return{localAddress:n.localAddress,localPort:n.localPort,remoteAddress:n.remoteAddress,remotePort:n.remotePort,remoteFamily:n.remoteFamily,timeout:n.timeout,bytesWritten:n.bytesWritten,bytesRead:n.bytesRead}}function dne(n){return ai(this,null,function*(){try{for(var e=Ln(n),t,r,i;t=!(r=yield new mA(e.next())).done;t=!1){let s=r.value;yield Buffer.isBuffer(s)?s:Buffer.from(s)}}catch{i=[r]}finally{try{t&&(r=e.return)&&(yield new mA(r.call(e)))}finally{if(i)throw i[0]}}})}var Xh;function gne(n){if(Xh||(Xh=F("stream/web").ReadableStream),Xh.from)return Xh.from(dne(n));let e;return new Xh({start(){return B(this,null,function*(){e=n[Symbol.asyncIterator]()})},pull(r){return B(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)queueMicrotask(()=>{r.close()});else{let o=Buffer.isBuffer(s)?s:Buffer.from(s);r.enqueue(new Uint8Array(o))}return r.desiredSize>0})},cancel(r){return B(this,null,function*(){yield e.return()})}},0)}function fne(n){return n&&typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&n[Symbol.toStringTag]==="FormData"}function pne(n){if(n){if(typeof n.throwIfAborted=="function")n.throwIfAborted();else if(n.aborted){let e=new Error("The operation was aborted");throw e.name="AbortError",e}}}function Ene(n,e){return"addEventListener"in n?(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)):(n.addListener("abort",e),()=>n.removeListener("abort",e))}var Cne=!!String.prototype.toWellFormed;function mne(n){return Cne?`${n}`.toWellFormed():eC.toUSVString?eC.toUSVString(n):`${n}`}function Ine(n){if(n==null||n==="")return{start:0,end:null,size:null};let e=n?n.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}var M1=Object.create(null);M1.enumerable=!0;L1.exports={kEnumerableProperty:M1,nop:Wte,isDisturbed:cne,isErrored:lne,isReadable:une,toUSVString:mne,isReadableAborted:_1,isBlobLike:k1,parseOrigin:jte,parseURL:N1,getServerName:Xte,isStream:Yb,isIterable:ene,isAsyncIterable:Zte,isDestroyed:Hb,headerNameToString:sne,parseRawHeaders:ane,parseHeaders:one,parseKeepAliveTimeout:ine,destroy:nne,bodyLength:tne,deepClone:$te,ReadableStreamFrom:gne,isBuffer:F1,validateHandler:Ane,getSocketInfo:hne,isFormDataLike:fne,buildURL:zte,throwIfAborted:pne,addAbortListener:Ene,parseRangeHeader:Ine,nodeMajor:qb,nodeMinor:D1,nodeHasAutoSelectFamily:qb>18||qb===18&&D1>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}});var O1=S((hme,x1)=>{"use strict";var Jb=Date.now(),Go,qo=[];function Bne(){Jb=Date.now();let n=qo.length,e=0;for(;e<n;){let t=qo[e];t.state===0?t.state=Jb+t.delay:t.state>0&&Jb>=t.state&&(t.state=-1,t.callback(t.opaque)),t.state===-1?(t.state=-2,e!==n-1?qo[e]=qo.pop():qo.pop(),n-=1):e+=1}qo.length>0&&U1()}function U1(){Go&&Go.refresh?Go.refresh():(clearTimeout(Go),Go=setTimeout(Bne,1e3),Go.unref&&Go.unref())}var tC=class{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){this.state===-2&&(qo.push(this),(!Go||qo.length===1)&&U1()),this.state=0}clear(){this.state=-1}};x1.exports={setTimeout(n,e,t){return e<1e3?setTimeout(n,e,t):new tC(n,e,t)},clearTimeout(n){n instanceof tC?n.clear():clearTimeout(n)}}});var Yo=S((dme,W1)=>{"use strict";var{MessageChannel:yne,receiveMessageOnPort:Qne}=F("worker_threads"),P1=["GET","HEAD","POST"],wne=new Set(P1),Sne=[101,204,205,304],V1=[301,302,303,307,308],bne=new Set(V1),G1=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],vne=new Set(G1),q1=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Dne=new Set(q1),Rne=["follow","manual","error"],Y1=["GET","HEAD","OPTIONS","TRACE"],Tne=new Set(Y1),kne=["navigate","same-origin","no-cors","cors"],Nne=["omit","same-origin","include"],_ne=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Fne=["content-encoding","content-language","content-location","content-type","content-length"],Mne=["half"],H1=["CONNECT","TRACE","TRACK"],Lne=new Set(H1),J1=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Une=new Set(J1),xne=globalThis.DOMException??(()=>{try{atob("~")}catch(n){return Object.getPrototypeOf(n).constructor}})(),ml,One=globalThis.structuredClone??function(e,t=void 0){if(arguments.length===0)throw new TypeError("missing argument");return ml||(ml=new yne),ml.port1.unref(),ml.port2.unref(),ml.port1.postMessage(e,t?.transfer),Qne(ml.port2).message};W1.exports={DOMException:xne,structuredClone:One,subresource:J1,forbiddenMethods:H1,requestBodyHeader:Fne,referrerPolicy:q1,requestRedirect:Rne,requestMode:kne,requestCredentials:Nne,requestCache:_ne,redirectStatus:V1,corsSafeListedMethods:P1,nullBodyStatus:Sne,safeMethods:Y1,badPorts:G1,requestDuplex:Mne,subresourceSet:Une,badPortsSet:vne,redirectStatusSet:bne,corsSafeListedMethodsSet:wne,safeMethodsSet:Tne,forbiddenMethodsSet:Lne,referrerPolicySet:Dne}});var Il=S((gme,z1)=>{"use strict";var Wb=Symbol.for("undici.globalOrigin.1");function Pne(){return globalThis[Wb]}function Vne(n){if(n===void 0){Object.defineProperty(globalThis,Wb,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(n);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,Wb,{value:e,writable:!0,enumerable:!1,configurable:!1})}z1.exports={getGlobalOrigin:Pne,setGlobalOrigin:Vne}});var Rr=S((fme,nO)=>{"use strict";var{redirectStatusSet:Gne,referrerPolicySet:qne,badPortsSet:Yne}=Yo(),{getGlobalOrigin:Hne}=Il(),{performance:Jne}=F("perf_hooks"),{isBlobLike:Wne,toUSVString:zne,ReadableStreamFrom:jne}=ve(),Bl=F("assert"),{isUint8Array:Kne}=F("util/types"),j1=[],nC;try{nC=F("crypto");let n=["sha256","sha384","sha512"];j1=nC.getHashes().filter(e=>n.includes(e))}catch{}function K1(n){let e=n.urlList,t=e.length;return t===0?null:e[t-1].toString()}function Xne(n,e){if(!Gne.has(n.status))return null;let t=n.headersList.get("location");return t!==null&&$1(t)&&(t=new URL(t,K1(n))),t&&!t.hash&&(t.hash=e),t}function Zh(n){return n.urlList[n.urlList.length-1]}function $ne(n){let e=Zh(n);return tO(e)&&Yne.has(e.port)?"blocked":"allowed"}function Zne(n){return n instanceof Error||n?.constructor?.name==="Error"||n?.constructor?.name==="DOMException"}function ere(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(!(t===9||t>=32&&t<=126||t>=128&&t<=255))return!1}return!0}function tre(n){switch(n){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return n>=33&&n<=126}}function X1(n){if(n.length===0)return!1;for(let e=0;e<n.length;++e)if(!tre(n.charCodeAt(e)))return!1;return!0}function nre(n){return X1(n)}function $1(n){return!(n.startsWith("	")||n.startsWith(" ")||n.endsWith("	")||n.endsWith(" ")||n.includes("\0")||n.includes("\r")||n.includes(`
`))}function rre(n,e){let{headersList:t}=e,r=(t.get("referrer-policy")??"").split(","),i="";if(r.length>0)for(let s=r.length;s!==0;s--){let o=r[s-1].trim();if(qne.has(o)){i=o;break}}i!==""&&(n.referrerPolicy=i)}function ire(){return"allowed"}function sre(){return"success"}function ore(){return"success"}function are(n){let e=null;e=n.mode,n.headersList.set("sec-fetch-mode",e)}function Are(n){let e=n.origin;if(n.responseTainting==="cors"||n.mode==="websocket")e&&n.headersList.append("origin",e);else if(n.method!=="GET"&&n.method!=="HEAD"){switch(n.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":n.origin&&Kb(n.origin)&&!Kb(Zh(n))&&(e=null);break;case"same-origin":rC(n,Zh(n))||(e=null);break;default:}e&&n.headersList.append("origin",e)}}function cre(n){return Jne.now()}function lre(n){return{startTime:n.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:n.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function ure(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function hre(n){return{referrerPolicy:n.referrerPolicy}}function dre(n){let e=n.referrerPolicy;Bl(e);let t=null;if(n.referrer==="client"){let a=Hne();if(!a||a.origin==="null")return"no-referrer";t=new URL(a)}else n.referrer instanceof URL&&(t=n.referrer);let r=zb(t),i=zb(t,!0);r.toString().length>4096&&(r=i);let s=rC(n,r),o=$h(r)&&!$h(n.url);switch(e){case"origin":return i??zb(t,!0);case"unsafe-url":return r;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?r:i;case"strict-origin-when-cross-origin":{let a=Zh(n);return rC(r,a)?r:$h(r)&&!$h(a)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return o?"no-referrer":i}}function zb(n,e){return Bl(n instanceof URL),n.protocol==="file:"||n.protocol==="about:"||n.protocol==="blank:"?"no-referrer":(n.username="",n.password="",n.hash="",e&&(n.pathname="",n.search=""),n)}function $h(n){if(!(n instanceof URL))return!1;if(n.href==="about:blank"||n.href==="about:srcdoc"||n.protocol==="data:"||n.protocol==="file:")return!0;return e(n.origin);function e(t){if(t==null||t==="null")return!1;let r=new URL(t);return!!(r.protocol==="https:"||r.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(r.hostname)||r.hostname==="localhost"||r.hostname.includes("localhost.")||r.hostname.endsWith(".localhost"))}}function gre(n,e){if(nC===void 0)return!0;let t=Z1(e);if(t==="no metadata"||t.length===0)return!0;let r=pre(t),i=Ere(t,r);for(let s of i){let o=s.algo,a=s.hash,A=nC.createHash(o).update(n).digest("base64");if(A[A.length-1]==="="&&(A[A.length-2]==="="?A=A.slice(0,-2):A=A.slice(0,-1)),Cre(A,a))return!0}return!1}var fre=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function Z1(n){let e=[],t=!0;for(let r of n.split(" ")){t=!1;let i=fre.exec(r);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();j1.includes(s)&&e.push(i.groups)}return t===!0?"no metadata":e}function pre(n){let e=n[0].algo;if(e[3]==="5")return e;for(let t=1;t<n.length;++t){let r=n[t];if(r.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;r.algo[3]==="3"&&(e="sha384")}}return e}function Ere(n,e){if(n.length===1)return n;let t=0;for(let r=0;r<n.length;++r)n[r].algo===e&&(n[t++]=n[r]);return n.length=t,n}function Cre(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t]){if(n[t]==="+"&&e[t]==="-"||n[t]==="/"&&e[t]==="_")continue;return!1}return!0}function mre(n){}function rC(n,e){return n.origin===e.origin&&n.origin==="null"||n.protocol===e.protocol&&n.hostname===e.hostname&&n.port===e.port}function Ire(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function Bre(n){return n.controller.state==="aborted"}function yre(n){return n.controller.state==="aborted"||n.controller.state==="terminated"}var Xb={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(Xb,null);function Qre(n){return Xb[n.toLowerCase()]??n}function wre(n){let e=JSON.stringify(n);if(e===void 0)throw new TypeError("Value is not JSON serializable");return Bl(typeof e=="string"),e}var Sre=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function bre(n,e,t){let r={index:0,kind:t,target:n},i={next(){if(Object.getPrototypeOf(this)!==i)throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let{index:s,kind:o,target:a}=r,A=a(),c=A.length;if(s>=c)return{value:void 0,done:!0};let l=A[s];return r.index=s+1,vre(l,o)},[Symbol.toStringTag]:`${e} Iterator`};return Object.setPrototypeOf(i,Sre),Object.setPrototypeOf({},i)}function vre(n,e){let t;switch(e){case"key":{t=n[0];break}case"value":{t=n[1];break}case"key+value":{t=n;break}}return{value:t,done:!1}}function Dre(n,e,t){return B(this,null,function*(){let r=e,i=t,s;try{s=n.stream.getReader()}catch(o){i(o);return}try{let o=yield eO(s);r(o)}catch(o){i(o)}})}var jb=globalThis.ReadableStream;function Rre(n){return jb||(jb=F("stream/web").ReadableStream),n instanceof jb||n[Symbol.toStringTag]==="ReadableStream"&&typeof n.tee=="function"}var Tre=65535;function kre(n){return n.length<Tre?String.fromCharCode(...n):n.reduce((e,t)=>e+String.fromCharCode(t),"")}function Nre(n){try{n.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}}function _re(n){for(let e=0;e<n.length;e++)Bl(n.charCodeAt(e)<=255);return n}function eO(n){return B(this,null,function*(){let e=[],t=0;for(;;){let{done:r,value:i}=yield n.read();if(r)return Buffer.concat(e,t);if(!Kne(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),t+=i.length}})}function Fre(n){Bl("protocol"in n);let e=n.protocol;return e==="about:"||e==="blob:"||e==="data:"}function Kb(n){return typeof n=="string"?n.startsWith("https:"):n.protocol==="https:"}function tO(n){Bl("protocol"in n);let e=n.protocol;return e==="http:"||e==="https:"}var Mre=Object.hasOwn||((n,e)=>Object.prototype.hasOwnProperty.call(n,e));nO.exports={isAborted:Bre,isCancelled:yre,createDeferredPromise:Ire,ReadableStreamFrom:jne,toUSVString:zne,tryUpgradeRequestToAPotentiallyTrustworthyURL:mre,coarsenedSharedCurrentTime:cre,determineRequestsReferrer:dre,makePolicyContainer:ure,clonePolicyContainer:hre,appendFetchMetadata:are,appendRequestOriginHeader:Are,TAOCheck:ore,corsCheck:sre,crossOriginResourcePolicyCheck:ire,createOpaqueTimingInfo:lre,setRequestReferrerPolicyOnRedirect:rre,isValidHTTPToken:X1,requestBadPort:$ne,requestCurrentURL:Zh,responseURL:K1,responseLocationURL:Xne,isBlobLike:Wne,isURLPotentiallyTrustworthy:$h,isValidReasonPhrase:ere,sameOrigin:rC,normalizeMethod:Qre,serializeJavascriptValueToJSONString:wre,makeIterator:bre,isValidHeaderName:nre,isValidHeaderValue:$1,hasOwn:Mre,isErrorLike:Zne,fullyReadBody:Dre,bytesMatch:gre,isReadableStreamLike:Rre,readableStreamClose:Nre,isomorphicEncode:_re,isomorphicDecode:kre,urlIsLocal:Fre,urlHasHttpsScheme:Kb,urlIsHttpHttpsScheme:tO,readAllBytes:eO,normalizeMethodRecord:Xb,parseMetadata:Z1}});var ms=S((Eme,rO)=>{"use strict";rO.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}});var Dn=S((Cme,sO)=>{"use strict";var{types:Vi}=F("util"),{hasOwn:iO,toUSVString:Lre}=Rr(),H={};H.converters={};H.util={};H.errors={};H.errors.exception=function(n){return new TypeError(`${n.header}: ${n.message}`)};H.errors.conversionFailed=function(n){let e=n.types.length===1?"":" one of",t=`${n.argument} could not be converted to${e}: ${n.types.join(", ")}.`;return H.errors.exception({header:n.prefix,message:t})};H.errors.invalidArgument=function(n){return H.errors.exception({header:n.prefix,message:`"${n.value}" is an invalid ${n.type}.`})};H.brandCheck=function(n,e,t=void 0){if(t?.strict!==!1&&!(n instanceof e))throw new TypeError("Illegal invocation");return n?.[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]};H.argumentLengthCheck=function({length:n},e,t){if(n<e)throw H.errors.exception(P({message:`${e} argument${e!==1?"s":""} required, but${n?" only":""} ${n} found.`},t))};H.illegalConstructor=function(){throw H.errors.exception({header:"TypeError",message:"Illegal constructor"})};H.util.Type=function(n){switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return n===null?"Null":"Object"}};H.util.ConvertToInt=function(n,e,t,r={}){let i,s;e===64?(i=Math.pow(2,53)-1,t==="unsigned"?s=0:s=Math.pow(-2,53)+1):t==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let o=Number(n);if(o===0&&(o=0),r.enforceRange===!0){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw H.errors.exception({header:"Integer conversion",message:`Could not convert ${n} to an integer.`});if(o=H.util.IntegerPart(o),o<s||o>i)throw H.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return!Number.isNaN(o)&&r.clamp===!0?(o=Math.min(Math.max(o,s),i),Math.floor(o)%2===0?o=Math.floor(o):o=Math.ceil(o),o):Number.isNaN(o)||o===0&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=H.util.IntegerPart(o),o=o%Math.pow(2,e),t==="signed"&&o>=Math.pow(2,e)-1?o-Math.pow(2,e):o)};H.util.IntegerPart=function(n){let e=Math.floor(Math.abs(n));return n<0?-1*e:e};H.sequenceConverter=function(n){return e=>{if(H.util.Type(e)!=="Object")throw H.errors.exception({header:"Sequence",message:`Value of type ${H.util.Type(e)} is not an Object.`});let t=e?.[Symbol.iterator]?.(),r=[];if(t===void 0||typeof t.next!="function")throw H.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:i,value:s}=t.next();if(i)break;r.push(n(s))}return r}};H.recordConverter=function(n,e){return t=>{if(H.util.Type(t)!=="Object")throw H.errors.exception({header:"Record",message:`Value of type ${H.util.Type(t)} is not an Object.`});let r={};if(!Vi.isProxy(t)){let s=Object.keys(t);for(let o of s){let a=n(o),A=e(t[o]);r[a]=A}return r}let i=Reflect.ownKeys(t);for(let s of i)if(Reflect.getOwnPropertyDescriptor(t,s)?.enumerable){let a=n(s),A=e(t[s]);r[a]=A}return r}};H.interfaceConverter=function(n){return(e,t={})=>{if(t.strict!==!1&&!(e instanceof n))throw H.errors.exception({header:n.name,message:`Expected ${e} to be an instance of ${n.name}.`});return e}};H.dictionaryConverter=function(n){return e=>{let t=H.util.Type(e),r={};if(t==="Null"||t==="Undefined")return r;if(t!=="Object")throw H.errors.exception({header:"Dictionary",message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let i of n){let{key:s,defaultValue:o,required:a,converter:A}=i;if(a===!0&&!iO(e,s))throw H.errors.exception({header:"Dictionary",message:`Missing required key "${s}".`});let c=e[s],l=iO(i,"defaultValue");if(l&&c!==null&&(c=c??o),a||l||c!==void 0){if(c=A(c),i.allowedValues&&!i.allowedValues.includes(c))throw H.errors.exception({header:"Dictionary",message:`${c} is not an accepted type. Expected one of ${i.allowedValues.join(", ")}.`});r[s]=c}}return r}};H.nullableConverter=function(n){return e=>e===null?e:n(e)};H.converters.DOMString=function(n,e={}){if(n===null&&e.legacyNullToEmptyString)return"";if(typeof n=="symbol")throw new TypeError("Could not convert argument of type symbol to string.");return String(n)};H.converters.ByteString=function(n){let e=H.converters.DOMString(n);for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${t} has a value of ${e.charCodeAt(t)} which is greater than 255.`);return e};H.converters.USVString=Lre;H.converters.boolean=function(n){return!!n};H.converters.any=function(n){return n};H.converters["long long"]=function(n){return H.util.ConvertToInt(n,64,"signed")};H.converters["unsigned long long"]=function(n){return H.util.ConvertToInt(n,64,"unsigned")};H.converters["unsigned long"]=function(n){return H.util.ConvertToInt(n,32,"unsigned")};H.converters["unsigned short"]=function(n,e){return H.util.ConvertToInt(n,16,"unsigned",e)};H.converters.ArrayBuffer=function(n,e={}){if(H.util.Type(n)!=="Object"||!Vi.isAnyArrayBuffer(n))throw H.errors.conversionFailed({prefix:`${n}`,argument:`${n}`,types:["ArrayBuffer"]});if(e.allowShared===!1&&Vi.isSharedArrayBuffer(n))throw H.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return n};H.converters.TypedArray=function(n,e,t={}){if(H.util.Type(n)!=="Object"||!Vi.isTypedArray(n)||n.constructor.name!==e.name)throw H.errors.conversionFailed({prefix:`${e.name}`,argument:`${n}`,types:[e.name]});if(t.allowShared===!1&&Vi.isSharedArrayBuffer(n.buffer))throw H.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return n};H.converters.DataView=function(n,e={}){if(H.util.Type(n)!=="Object"||!Vi.isDataView(n))throw H.errors.exception({header:"DataView",message:"Object is not a DataView."});if(e.allowShared===!1&&Vi.isSharedArrayBuffer(n.buffer))throw H.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return n};H.converters.BufferSource=function(n,e={}){if(Vi.isAnyArrayBuffer(n))return H.converters.ArrayBuffer(n,e);if(Vi.isTypedArray(n))return H.converters.TypedArray(n,n.constructor);if(Vi.isDataView(n))return H.converters.DataView(n,e);throw new TypeError(`Could not convert ${n} to a BufferSource.`)};H.converters["sequence<ByteString>"]=H.sequenceConverter(H.converters.ByteString);H.converters["sequence<sequence<ByteString>>"]=H.sequenceConverter(H.converters["sequence<ByteString>"]);H.converters["record<ByteString, ByteString>"]=H.recordConverter(H.converters.ByteString,H.converters.ByteString);sO.exports={webidl:H}});var ni=S((Ime,uO)=>{"use strict";var sC=F("assert"),{atob:Ure}=F("buffer"),{isomorphicDecode:xre}=Rr(),Ore=new TextEncoder,iC=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,Pre=/(\u000A|\u000D|\u0009|\u0020)/,Vre=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function Gre(n){sC(n.protocol==="data:");let e=AO(n,!0);e=e.slice(5);let t={position:0},r=yl(",",e,t),i=r.length;if(r=Jre(r,!0,!0),t.position>=e.length)return"failure";t.position++;let s=e.slice(i+1),o=cO(s);if(/;(\u0020){0,}base64$/i.test(r)){let A=xre(o);if(o=Yre(A),o==="failure")return"failure";r=r.slice(0,-6),r=r.replace(/(\u0020)+$/,""),r=r.slice(0,-1)}r.startsWith(";")&&(r="text/plain"+r);let a=Zb(r);return a==="failure"&&(a=Zb("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function AO(n,e=!1){if(!e)return n.href;let t=n.href,r=n.hash.length;return r===0?t:t.substring(0,t.length-r)}function oC(n,e,t){let r="";for(;t.position<e.length&&n(e[t.position]);)r+=e[t.position],t.position++;return r}function yl(n,e,t){let r=e.indexOf(n,t.position),i=t.position;return r===-1?(t.position=e.length,e.slice(i)):(t.position=r,e.slice(i,t.position))}function cO(n){let e=Ore.encode(n);return qre(e)}function qre(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];if(r!==37)e.push(r);else if(r===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(n[t+1],n[t+2])))e.push(37);else{let i=String.fromCharCode(n[t+1],n[t+2]),s=Number.parseInt(i,16);e.push(s),t+=2}}return Uint8Array.from(e)}function Zb(n){n=$b(n,!0,!0);let e={position:0},t=yl("/",n,e);if(t.length===0||!iC.test(t)||e.position>n.length)return"failure";e.position++;let r=yl(";",n,e);if(r=$b(r,!1,!0),r.length===0||!iC.test(r))return"failure";let i=t.toLowerCase(),s=r.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<n.length;){e.position++,oC(c=>Pre.test(c),n,e);let a=oC(c=>c!==";"&&c!=="=",n,e);if(a=a.toLowerCase(),e.position<n.length){if(n[e.position]===";")continue;e.position++}if(e.position>n.length)break;let A=null;if(n[e.position]==='"')A=lO(n,e,!0),yl(";",n,e);else if(A=yl(";",n,e),A=$b(A,!1,!0),A.length===0)continue;a.length!==0&&iC.test(a)&&(A.length===0||Vre.test(A))&&!o.parameters.has(a)&&o.parameters.set(a,A)}return o}function Yre(n){if(n=n.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,""),n.length%4===0&&(n=n.replace(/=?=$/,"")),n.length%4===1||/[^+/0-9A-Za-z]/.test(n))return"failure";let e=Ure(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function lO(n,e,t){let r=e.position,i="";for(sC(n[e.position]==='"'),e.position++;i+=oC(o=>o!=='"'&&o!=="\\",n,e),!(e.position>=n.length);){let s=n[e.position];if(e.position++,s==="\\"){if(e.position>=n.length){i+="\\";break}i+=n[e.position],e.position++}else{sC(s==='"');break}}return t?i:n.slice(r,e.position)}function Hre(n){sC(n!=="failure");let{parameters:e,essence:t}=n,r=t;for(let[i,s]of e.entries())r+=";",r+=i,r+="=",iC.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),r+=s;return r}function oO(n){return n==="\r"||n===`
`||n==="	"||n===" "}function $b(n,e=!0,t=!0){let r=0,i=n.length-1;if(e)for(;r<n.length&&oO(n[r]);r++);if(t)for(;i>0&&oO(n[i]);i--);return n.slice(r,i+1)}function aO(n){return n==="\r"||n===`
`||n==="	"||n==="\f"||n===" "}function Jre(n,e=!0,t=!0){let r=0,i=n.length-1;if(e)for(;r<n.length&&aO(n[r]);r++);if(t)for(;i>0&&aO(n[i]);i--);return n.slice(r,i+1)}uO.exports={dataURLProcessor:Gre,URLSerializer:AO,collectASequenceOfCodePoints:oC,collectASequenceOfCodePointsFast:yl,stringPercentDecode:cO,parseMIMEType:Zb,collectAnHTTPQuotedString:lO,serializeAMimeType:Hre}});var aC=S((Bme,pO)=>{"use strict";var{Blob:gO,File:hO}=F("buffer"),{types:ev}=F("util"),{kState:ir}=ms(),{isBlobLike:fO}=Rr(),{webidl:Ne}=Dn(),{parseMIMEType:Wre,serializeAMimeType:zre}=ni(),{kEnumerableProperty:dO}=ve(),jre=new TextEncoder,ed=class n extends gO{constructor(e,t,r={}){Ne.argumentLengthCheck(arguments,2,{header:"File constructor"}),e=Ne.converters["sequence<BlobPart>"](e),t=Ne.converters.USVString(t),r=Ne.converters.FilePropertyBag(r);let i=t,s=r.type,o;e:{if(s){if(s=Wre(s),s==="failure"){s="";break e}s=zre(s).toLowerCase()}o=r.lastModified}super(Kre(e,r),{type:s}),this[ir]={name:i,lastModified:o,type:s}}get name(){return Ne.brandCheck(this,n),this[ir].name}get lastModified(){return Ne.brandCheck(this,n),this[ir].lastModified}get type(){return Ne.brandCheck(this,n),this[ir].type}},tv=class n{constructor(e,t,r={}){let i=t,s=r.type,o=r.lastModified??Date.now();this[ir]={blobLike:e,name:i,type:s,lastModified:o}}stream(...e){return Ne.brandCheck(this,n),this[ir].blobLike.stream(...e)}arrayBuffer(...e){return Ne.brandCheck(this,n),this[ir].blobLike.arrayBuffer(...e)}slice(...e){return Ne.brandCheck(this,n),this[ir].blobLike.slice(...e)}text(...e){return Ne.brandCheck(this,n),this[ir].blobLike.text(...e)}get size(){return Ne.brandCheck(this,n),this[ir].blobLike.size}get type(){return Ne.brandCheck(this,n),this[ir].blobLike.type}get name(){return Ne.brandCheck(this,n),this[ir].name}get lastModified(){return Ne.brandCheck(this,n),this[ir].lastModified}get[Symbol.toStringTag](){return"File"}};Object.defineProperties(ed.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:dO,lastModified:dO});Ne.converters.Blob=Ne.interfaceConverter(gO);Ne.converters.BlobPart=function(n,e){if(Ne.util.Type(n)==="Object"){if(fO(n))return Ne.converters.Blob(n,{strict:!1});if(ArrayBuffer.isView(n)||ev.isAnyArrayBuffer(n))return Ne.converters.BufferSource(n,e)}return Ne.converters.USVString(n,e)};Ne.converters["sequence<BlobPart>"]=Ne.sequenceConverter(Ne.converters.BlobPart);Ne.converters.FilePropertyBag=Ne.dictionaryConverter([{key:"lastModified",converter:Ne.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Ne.converters.DOMString,defaultValue:""},{key:"endings",converter:n=>(n=Ne.converters.DOMString(n),n=n.toLowerCase(),n!=="native"&&(n="transparent"),n),defaultValue:"transparent"}]);function Kre(n,e){let t=[];for(let r of n)if(typeof r=="string"){let i=r;e.endings==="native"&&(i=Xre(i)),t.push(jre.encode(i))}else ev.isAnyArrayBuffer(r)||ev.isTypedArray(r)?r.buffer?t.push(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)):t.push(new Uint8Array(r)):fO(r)&&t.push(r);return t}function Xre(n){let e=`
`;return process.platform==="win32"&&(e=`\r
`),n.replace(/\r?\n/g,e)}function $re(n){return hO&&n instanceof hO||n instanceof ed||n&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&n[Symbol.toStringTag]==="File"}pO.exports={File:ed,FileLike:tv,isFileLike:$re}});var cC=S((yme,BO)=>{"use strict";var{isBlobLike:AC,toUSVString:Zre,makeIterator:nv}=Rr(),{kState:dn}=ms(),{File:IO,FileLike:EO,isFileLike:eie}=aC(),{webidl:Fe}=Dn(),{Blob:tie,File:rv}=F("buffer"),CO=rv??IO,Ql=class n{constructor(e){if(e!==void 0)throw Fe.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[dn]=[]}append(e,t,r=void 0){if(Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,2,{header:"FormData.append"}),arguments.length===3&&!AC(t))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Fe.converters.USVString(e),t=AC(t)?Fe.converters.Blob(t,{strict:!1}):Fe.converters.USVString(t),r=arguments.length===3?Fe.converters.USVString(r):void 0;let i=mO(e,t,r);this[dn].push(i)}delete(e){Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),e=Fe.converters.USVString(e),this[dn]=this[dn].filter(t=>t.name!==e)}get(e){Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,1,{header:"FormData.get"}),e=Fe.converters.USVString(e);let t=this[dn].findIndex(r=>r.name===e);return t===-1?null:this[dn][t].value}getAll(e){return Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),e=Fe.converters.USVString(e),this[dn].filter(t=>t.name===e).map(t=>t.value)}has(e){return Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,1,{header:"FormData.has"}),e=Fe.converters.USVString(e),this[dn].findIndex(t=>t.name===e)!==-1}set(e,t,r=void 0){if(Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,2,{header:"FormData.set"}),arguments.length===3&&!AC(t))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Fe.converters.USVString(e),t=AC(t)?Fe.converters.Blob(t,{strict:!1}):Fe.converters.USVString(t),r=arguments.length===3?Zre(r):void 0;let i=mO(e,t,r),s=this[dn].findIndex(o=>o.name===e);s!==-1?this[dn]=[...this[dn].slice(0,s),i,...this[dn].slice(s+1).filter(o=>o.name!==e)]:this[dn].push(i)}entries(){return Fe.brandCheck(this,n),nv(()=>this[dn].map(e=>[e.name,e.value]),"FormData","key+value")}keys(){return Fe.brandCheck(this,n),nv(()=>this[dn].map(e=>[e.name,e.value]),"FormData","key")}values(){return Fe.brandCheck(this,n),nv(()=>this[dn].map(e=>[e.name,e.value]),"FormData","value")}forEach(e,t=globalThis){if(Fe.brandCheck(this,n),Fe.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(t,[i,r,this])}};Ql.prototype[Symbol.iterator]=Ql.prototype.entries;Object.defineProperties(Ql.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function mO(n,e,t){if(n=Buffer.from(n).toString("utf8"),typeof e=="string")e=Buffer.from(e).toString("utf8");else if(eie(e)||(e=e instanceof tie?new CO([e],"blob",{type:e.type}):new EO(e,"blob",{type:e.type})),t!==void 0){let r={type:e.type,lastModified:e.lastModified};e=rv&&e instanceof rv||e instanceof IO?new CO([e],t,r):new EO(e,t,r)}return{name:n,value:e}}BO.exports={FormData:Ql}});var td=S((Qme,TO)=>{"use strict";var nie=qq(),wl=ve(),{ReadableStreamFrom:rie,isBlobLike:yO,isReadableStreamLike:iie,readableStreamClose:sie,createDeferredPromise:oie,fullyReadBody:aie}=Rr(),{FormData:QO}=cC(),{kState:Bs}=ms(),{webidl:iv}=Dn(),{DOMException:bO,structuredClone:Aie}=Yo(),{Blob:cie,File:lie}=F("buffer"),{kBodyUsed:uie}=je(),sv=F("assert"),{isErrored:hie}=ve(),{isUint8Array:vO,isArrayBuffer:die}=F("util/types"),{File:gie}=aC(),{parseMIMEType:fie,serializeAMimeType:pie}=ni(),Is=globalThis.ReadableStream,wO=lie??gie,lC=new TextEncoder,Eie=new TextDecoder;function DO(n,e=!1){Is||(Is=F("stream/web").ReadableStream);let t=null;if(n instanceof Is)t=n;else if(yO(n))t=n.stream();else{let A;t=new Is({pull(c){return B(this,null,function*(){c.enqueue(typeof i=="string"?lC.encode(i):i),queueMicrotask(()=>sie(c))})},start(){},type:void 0})}sv(iie(t));let r=null,i=null,s=null,o=null;if(typeof n=="string")i=n,o="text/plain;charset=UTF-8";else if(n instanceof URLSearchParams)i=n.toString(),o="application/x-www-form-urlencoded;charset=UTF-8";else if(die(n))i=new Uint8Array(n.slice());else if(ArrayBuffer.isView(n))i=new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength));else if(wl.isFormDataLike(n)){let A=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`,c=`--${A}\r
Content-Disposition: form-data`;let l=m=>m.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),u=m=>m.replace(/\r?\n|\r/g,`\r
`),h=[],d=new Uint8Array([13,10]);s=0;let E=!1;for(let[m,D]of n)if(typeof D=="string"){let v=lC.encode(c+`; name="${l(u(m))}"\r
\r
${u(D)}\r
`);h.push(v),s+=v.byteLength}else{let v=lC.encode(`${c}; name="${l(u(m))}"`+(D.name?`; filename="${l(D.name)}"`:"")+`\r
Content-Type: ${D.type||"application/octet-stream"}\r
\r
`);h.push(v,D,d),typeof D.size=="number"?s+=v.byteLength+D.size+d.byteLength:E=!0}let I=lC.encode(`--${A}--`);h.push(I),s+=I.byteLength,E&&(s=null),i=n,r=function(){return ai(this,null,function*(){for(let m of h)m.stream?yield*ta(m.stream()):yield m})},o="multipart/form-data; boundary="+A}else if(yO(n))i=n,s=n.size,n.type&&(o=n.type);else if(typeof n[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(wl.isDisturbed(n)||n.locked)throw new TypeError("Response body object should not be disturbed or locked");t=n instanceof Is?n:rie(n)}if((typeof i=="string"||wl.isBuffer(i))&&(s=Buffer.byteLength(i)),r!=null){let c,A;t=new Is({start(){return B(this,null,function*(){A=r(n)[Symbol.asyncIterator]()})},pull(l){return B(this,null,function*(){let{value:u,done:h}=yield A.next();return h?queueMicrotask(()=>{l.close()}):hie(t)||l.enqueue(new Uint8Array(u)),l.desiredSize>0})},cancel(l){return B(this,null,function*(){yield A.return()})},type:void 0})}return[{stream:t,source:i,length:s},o]}function Cie(n,e=!1){return Is||(Is=F("stream/web").ReadableStream),n instanceof Is&&(sv(!wl.isDisturbed(n),"The body has already been consumed."),sv(!n.locked,"The stream is locked.")),DO(n,e)}function mie(n){let[e,t]=n.stream.tee(),r=Aie(t,{transfer:[t]}),[,i]=r.tee();return n.stream=e,{stream:i,length:n.length,source:n.source}}function SO(n){return ai(this,null,function*(){if(n)if(vO(n))yield n;else{let e=n.stream;if(wl.isDisturbed(e))throw new TypeError("The body has already been consumed.");if(e.locked)throw new TypeError("The stream is locked.");e[uie]=!0,yield*ta(e)}})}function ov(n){if(n.aborted)throw new bO("The operation was aborted.","AbortError")}function Iie(n){return{blob(){return uC(this,r=>{let i=wie(this);return i==="failure"?i="":i&&(i=pie(i)),new cie([r],{type:i})},n)},arrayBuffer(){return uC(this,r=>new Uint8Array(r).buffer,n)},text(){return uC(this,RO,n)},json(){return uC(this,Qie,n)},formData(){return B(this,null,function*(){iv.brandCheck(this,n),ov(this[Bs]);let r=this.headers.get("Content-Type");if(/multipart\/form-data/.test(r)){let h={};for(let[m,D]of this.headers)h[m.toLowerCase()]=D;let d=new QO,E;try{E=new nie({headers:h,preservePath:!0})}catch(m){throw new bO(`${m}`,"AbortError")}E.on("field",(m,D)=>{d.append(m,D)}),E.on("file",(m,D,v,k,T)=>{let _=[];if(k==="base64"||k.toLowerCase()==="base64"){let L="";D.on("data",Q=>{L+=Q.toString().replace(/[\r\n]/gm,"");let C=L.length-L.length%4;_.push(Buffer.from(L.slice(0,C),"base64")),L=L.slice(C)}),D.on("end",()=>{_.push(Buffer.from(L,"base64")),d.append(m,new wO(_,v,{type:T}))})}else D.on("data",L=>{_.push(L)}),D.on("end",()=>{d.append(m,new wO(_,v,{type:T}))})});let I=new Promise((m,D)=>{E.on("finish",m),E.on("error",v=>D(new TypeError(v)))});if(this.body!==null)try{for(var i=Ln(SO(this[Bs].body)),s,o,a;s=!(o=yield i.next()).done;s=!1){let m=o.value;E.write(m)}}catch{a=[o]}finally{try{s&&(o=i.return)&&(yield o.call(i))}finally{if(a)throw a[0]}}return E.end(),yield I,d}else if(/application\/x-www-form-urlencoded/.test(r)){let h;try{let E="",I=new TextDecoder("utf-8",{ignoreBOM:!0});try{for(var A=Ln(SO(this[Bs].body)),c,l,u;c=!(l=yield A.next()).done;c=!1){let m=l.value;if(!vO(m))throw new TypeError("Expected Uint8Array chunk");E+=I.decode(m,{stream:!0})}}catch{u=[l]}finally{try{c&&(l=A.return)&&(yield l.call(A))}finally{if(u)throw u[0]}}E+=I.decode(),h=new URLSearchParams(E)}catch(E){throw Object.assign(new TypeError,{cause:E})}let d=new QO;for(let[E,I]of h)d.append(E,I);return d}else throw yield Promise.resolve(),ov(this[Bs]),iv.errors.exception({header:`${n.name}.formData`,message:"Could not parse content as FormData."})})}}}function Bie(n){Object.assign(n.prototype,Iie(n))}function uC(n,e,t){return B(this,null,function*(){if(iv.brandCheck(n,t),ov(n[Bs]),yie(n[Bs].body))throw new TypeError("Body is unusable");let r=oie(),i=o=>r.reject(o),s=o=>{try{r.resolve(e(o))}catch(a){i(a)}};return n[Bs].body==null?(s(new Uint8Array),r.promise):(yield aie(n[Bs].body,s,i),r.promise)})}function yie(n){return n!=null&&(n.stream.locked||wl.isDisturbed(n.stream))}function RO(n){return n.length===0?"":(n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3)),Eie.decode(n))}function Qie(n){return JSON.parse(RO(n))}function wie(n){let{headersList:e}=n[Bs],t=e.get("content-type");return t===null?"failure":fie(t)}TO.exports={extractBody:DO,safelyExtractBody:Cie,cloneBody:mie,mixinBody:Bie}});var FO=S((Sme,_O)=>{"use strict";var{InvalidArgumentError:Ke,NotSupportedError:Sie}=Ge(),ys=F("assert"),{kHTTP2BuildRequest:bie,kHTTP2CopyHeaders:vie,kHTTP1BuildRequest:Die}=je(),qn=ve(),kO=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,NO=/[^\t\x20-\x7e\x80-\xff]/,Rie=/[^\u0021-\u00ff]/,ri=Symbol("handler"),Mt={},av;try{let n=F("diagnostics_channel");Mt.create=n.channel("undici:request:create"),Mt.bodySent=n.channel("undici:request:bodySent"),Mt.headers=n.channel("undici:request:headers"),Mt.trailers=n.channel("undici:request:trailers"),Mt.error=n.channel("undici:request:error")}catch{Mt.create={hasSubscribers:!1},Mt.bodySent={hasSubscribers:!1},Mt.headers={hasSubscribers:!1},Mt.trailers={hasSubscribers:!1},Mt.error={hasSubscribers:!1}}var Av=class n{constructor(e,{path:t,method:r,body:i,headers:s,query:o,idempotent:a,blocking:A,upgrade:c,headersTimeout:l,bodyTimeout:u,reset:h,throwOnError:d,expectContinue:E},I){if(typeof t!="string")throw new Ke("path must be a string");if(t[0]!=="/"&&!(t.startsWith("http://")||t.startsWith("https://"))&&r!=="CONNECT")throw new Ke("path must be an absolute URL or start with a slash");if(Rie.exec(t)!==null)throw new Ke("invalid request path");if(typeof r!="string")throw new Ke("method must be a string");if(kO.exec(r)===null)throw new Ke("invalid request method");if(c&&typeof c!="string")throw new Ke("upgrade must be a string");if(l!=null&&(!Number.isFinite(l)||l<0))throw new Ke("invalid headersTimeout");if(u!=null&&(!Number.isFinite(u)||u<0))throw new Ke("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Ke("invalid reset");if(E!=null&&typeof E!="boolean")throw new Ke("invalid expectContinue");if(this.headersTimeout=l,this.bodyTimeout=u,this.throwOnError=d===!0,this.method=r,this.abort=null,i==null)this.body=null;else if(qn.isStream(i)){this.body=i;let m=this.body._readableState;(!m||!m.autoDestroy)&&(this.endHandler=function(){qn.destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=D=>{this.abort?this.abort(D):this.error=D},this.body.on("error",this.errorHandler)}else if(qn.isBuffer(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(qn.isFormDataLike(i)||qn.isIterable(i)||qn.isBlobLike(i))this.body=i;else throw new Ke("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=c||null,this.path=o?qn.buildURL(t,o):t,this.origin=e,this.idempotent=a??(r==="HEAD"||r==="GET"),this.blocking=A??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=E??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ke("headers array must be even");for(let m=0;m<s.length;m+=2)nd(this,s[m],s[m+1])}else if(s&&typeof s=="object"){let m=Object.keys(s);for(let D=0;D<m.length;D++){let v=m[D];nd(this,v,s[v])}}else if(s!=null)throw new Ke("headers must be an object or an array");if(qn.isFormDataLike(this.body)){if(qn.nodeMajor<16||qn.nodeMajor===16&&qn.nodeMinor<8)throw new Ke("Form-Data bodies are only supported in node v16.8 and newer.");av||(av=td().extractBody);let[m,D]=av(i);this.contentType==null&&(this.contentType=D,this.headers+=`content-type: ${D}\r
`),this.body=m.stream,this.contentLength=m.length}else qn.isBlobLike(i)&&this.contentType==null&&i.type&&(this.contentType=i.type,this.headers+=`content-type: ${i.type}\r
`);qn.validateHandler(I,r,c),this.servername=qn.getServerName(this.host),this[ri]=I,Mt.create.hasSubscribers&&Mt.create.publish({request:this})}onBodySent(e){if(this[ri].onBodySent)try{return this[ri].onBodySent(e)}catch(t){this.abort(t)}}onRequestSent(){if(Mt.bodySent.hasSubscribers&&Mt.bodySent.publish({request:this}),this[ri].onRequestSent)try{return this[ri].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(ys(!this.aborted),ys(!this.completed),this.error)e(this.error);else return this.abort=e,this[ri].onConnect(e)}onHeaders(e,t,r,i){ys(!this.aborted),ys(!this.completed),Mt.headers.hasSubscribers&&Mt.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:i}});try{return this[ri].onHeaders(e,t,r,i)}catch(s){this.abort(s)}}onData(e){ys(!this.aborted),ys(!this.completed);try{return this[ri].onData(e)}catch(t){return this.abort(t),!1}}onUpgrade(e,t,r){return ys(!this.aborted),ys(!this.completed),this[ri].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),ys(!this.aborted),this.completed=!0,Mt.trailers.hasSubscribers&&Mt.trailers.publish({request:this,trailers:e});try{return this[ri].onComplete(e)}catch(t){this.onError(t)}}onError(e){if(this.onFinally(),Mt.error.hasSubscribers&&Mt.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[ri].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return nd(this,e,t),this}static[Die](e,t,r){return new n(e,t,r)}static[bie](e,t,r){let i=t.headers;t=te(P({},t),{headers:null});let s=new n(e,t,r);if(s.headers={},Array.isArray(i)){if(i.length%2!==0)throw new Ke("headers array must be even");for(let o=0;o<i.length;o+=2)nd(s,i[o],i[o+1],!0)}else if(i&&typeof i=="object"){let o=Object.keys(i);for(let a=0;a<o.length;a++){let A=o[a];nd(s,A,i[A],!0)}}else if(i!=null)throw new Ke("headers must be an object or an array");return s}static[vie](e){let t=e.split(`\r
`),r={};for(let i of t){let[s,o]=i.split(": ");o==null||o.length===0||(r[s]?r[s]+=`,${o}`:r[s]=o)}return r}};function eA(n,e,t){if(e&&typeof e=="object")throw new Ke(`invalid ${n} header`);if(e=e!=null?`${e}`:"",NO.exec(e)!==null)throw new Ke(`invalid ${n} header`);return t?e:`${n}: ${e}\r
`}function nd(n,e,t,r=!1){if(t&&typeof t=="object"&&!Array.isArray(t))throw new Ke(`invalid ${e} header`);if(t===void 0)return;if(n.host===null&&e.length===4&&e.toLowerCase()==="host"){if(NO.exec(t)!==null)throw new Ke(`invalid ${e} header`);n.host=t}else if(n.contentLength===null&&e.length===14&&e.toLowerCase()==="content-length"){if(n.contentLength=parseInt(t,10),!Number.isFinite(n.contentLength))throw new Ke("invalid content-length header")}else if(n.contentType===null&&e.length===12&&e.toLowerCase()==="content-type")n.contentType=t,r?n.headers[e]=eA(e,t,r):n.headers+=eA(e,t);else{if(e.length===17&&e.toLowerCase()==="transfer-encoding")throw new Ke("invalid transfer-encoding header");if(e.length===10&&e.toLowerCase()==="connection"){let i=typeof t=="string"?t.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ke("invalid connection header");i==="close"&&(n.reset=!0)}else{if(e.length===10&&e.toLowerCase()==="keep-alive")throw new Ke("invalid keep-alive header");if(e.length===7&&e.toLowerCase()==="upgrade")throw new Ke("invalid upgrade header");if(e.length===6&&e.toLowerCase()==="expect")throw new Sie("expect header not supported");if(kO.exec(e)===null)throw new Ke("invalid header key");if(Array.isArray(t))for(let i=0;i<t.length;i++)r?n.headers[e]?n.headers[e]+=`,${eA(e,t[i],r)}`:n.headers[e]=eA(e,t[i],r):n.headers+=eA(e,t[i]);else r?n.headers[e]=eA(e,t,r):n.headers+=eA(e,t)}}}_O.exports=Av});var hC=S((vme,MO)=>{"use strict";var Tie=F("events"),cv=class extends Tie{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}};MO.exports=cv});var id=S((Dme,LO)=>{"use strict";var kie=hC(),{ClientDestroyedError:lv,ClientClosedError:Nie,InvalidArgumentError:Sl}=Ge(),{kDestroy:_ie,kClose:Fie,kDispatch:uv,kInterceptors:tA}=je(),bl=Symbol("destroyed"),rd=Symbol("closed"),Qs=Symbol("onDestroyed"),vl=Symbol("onClosed"),dC=Symbol("Intercepted Dispatch"),hv=class extends kie{constructor(){super(),this[bl]=!1,this[Qs]=null,this[rd]=!1,this[vl]=[]}get destroyed(){return this[bl]}get closed(){return this[rd]}get interceptors(){return this[tA]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if(typeof this[tA][t]!="function")throw new Sl("interceptor must be an function")}this[tA]=e}close(e){if(e===void 0)return new Promise((r,i)=>{this.close((s,o)=>s?i(s):r(o))});if(typeof e!="function")throw new Sl("invalid callback");if(this[bl]){queueMicrotask(()=>e(new lv,null));return}if(this[rd]){this[vl]?this[vl].push(e):queueMicrotask(()=>e(null,null));return}this[rd]=!0,this[vl].push(e);let t=()=>{let r=this[vl];this[vl]=null;for(let i=0;i<r.length;i++)r[i](null,null)};this[Fie]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((i,s)=>{this.destroy(e,(o,a)=>o?s(o):i(a))});if(typeof t!="function")throw new Sl("invalid callback");if(this[bl]){this[Qs]?this[Qs].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new lv),this[bl]=!0,this[Qs]=this[Qs]||[],this[Qs].push(t);let r=()=>{let i=this[Qs];this[Qs]=null;for(let s=0;s<i.length;s++)i[s](null,null)};this[_ie](e).then(()=>{queueMicrotask(r)})}[dC](e,t){if(!this[tA]||this[tA].length===0)return this[dC]=this[uv],this[uv](e,t);let r=this[uv].bind(this);for(let i=this[tA].length-1;i>=0;i--)r=this[tA][i](r);return this[dC]=r,r(e,t)}dispatch(e,t){if(!t||typeof t!="object")throw new Sl("handler must be an object");try{if(!e||typeof e!="object")throw new Sl("opts must be an object.");if(this[bl]||this[Qs])throw new lv;if(this[rd])throw new Nie;return this[dC](e,t)}catch(r){if(typeof t.onError!="function")throw new Sl("invalid onError method");return t.onError(r),!1}}};LO.exports=hv});var sd=S((kme,OO)=>{"use strict";var Mie=F("net"),UO=F("assert"),xO=ve(),{InvalidArgumentError:Lie,ConnectTimeoutError:Uie}=Ge(),dv,gv;global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?gv=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(t=>{if(this._sessionCache.size<this._maxCachedSessions)return;let r=this._sessionCache.get(t);r!==void 0&&r.deref()===void 0&&this._sessionCache.delete(t)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:gv=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:r}=this._sessionCache.keys().next();this._sessionCache.delete(r)}this._sessionCache.set(e,t)}}};function xie(s){var o=s,{allowH2:n,maxCachedSessions:e,socketPath:t,timeout:r}=o,i=Mn(o,["allowH2","maxCachedSessions","socketPath","timeout"]);if(e!=null&&(!Number.isInteger(e)||e<0))throw new Lie("maxCachedSessions must be a positive integer or zero");let a=P({path:t},i),A=new gv(e??100);return r=r??1e4,n=n??!1,function({hostname:l,host:u,protocol:h,port:d,servername:E,localAddress:I,httpSocket:m},D){let v;if(h==="https:"){dv||(dv=F("tls")),E=E||a.servername||xO.getServerName(u)||null;let T=E||l,_=A.get(T)||null;UO(T),v=dv.connect(te(P({highWaterMark:16384},a),{servername:E,session:_,localAddress:I,ALPNProtocols:n?["http/1.1","h2"]:["http/1.1"],socket:m,port:d||443,host:l})),v.on("session",function(L){A.set(T,L)})}else UO(!m,"httpSocket can only be sent on TLS update"),v=Mie.connect(te(P({highWaterMark:64*1024},a),{localAddress:I,port:d||80,host:l}));if(a.keepAlive==null||a.keepAlive){let T=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;v.setKeepAlive(!0,T)}let k=Oie(()=>Pie(v),r);return v.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(k(),D){let T=D;D=null,T(null,this)}}).on("error",function(T){if(k(),D){let _=D;D=null,_(T)}}),v}}function Oie(n,e){if(!e)return()=>{};let t=null,r=null,i=setTimeout(()=>{t=setImmediate(()=>{process.platform==="win32"?r=setImmediate(()=>n()):n()})},e);return()=>{clearTimeout(i),clearImmediate(t),clearImmediate(r)}}function Pie(n){xO.destroy(n,new Uie)}OO.exports=xie});var PO=S(gC=>{"use strict";Object.defineProperty(gC,"__esModule",{value:!0});gC.enumToMap=void 0;function Vie(n){let e={};return Object.keys(n).forEach(t=>{let r=n[t];typeof r=="number"&&(e[t]=r)}),e}gC.enumToMap=Vie});var VO=S(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.SPECIAL_HEADERS=V.HEADER_STATE=V.MINOR=V.MAJOR=V.CONNECTION_TOKEN_CHARS=V.HEADER_CHARS=V.TOKEN=V.STRICT_TOKEN=V.HEX=V.URL_CHAR=V.STRICT_URL_CHAR=V.USERINFO_CHARS=V.MARK=V.ALPHANUM=V.NUM=V.HEX_MAP=V.NUM_MAP=V.ALPHA=V.FINISH=V.H_METHOD_MAP=V.METHOD_MAP=V.METHODS_RTSP=V.METHODS_ICE=V.METHODS_HTTP=V.METHODS=V.LENIENT_FLAGS=V.FLAGS=V.TYPE=V.ERROR=void 0;var Gie=PO(),qie;(function(n){n[n.OK=0]="OK",n[n.INTERNAL=1]="INTERNAL",n[n.STRICT=2]="STRICT",n[n.LF_EXPECTED=3]="LF_EXPECTED",n[n.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",n[n.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",n[n.INVALID_METHOD=6]="INVALID_METHOD",n[n.INVALID_URL=7]="INVALID_URL",n[n.INVALID_CONSTANT=8]="INVALID_CONSTANT",n[n.INVALID_VERSION=9]="INVALID_VERSION",n[n.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",n[n.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",n[n.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",n[n.INVALID_STATUS=13]="INVALID_STATUS",n[n.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",n[n.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",n[n.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",n[n.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",n[n.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",n[n.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",n[n.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",n[n.PAUSED=21]="PAUSED",n[n.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",n[n.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",n[n.USER=24]="USER"})(qie=V.ERROR||(V.ERROR={}));var Yie;(function(n){n[n.BOTH=0]="BOTH",n[n.REQUEST=1]="REQUEST",n[n.RESPONSE=2]="RESPONSE"})(Yie=V.TYPE||(V.TYPE={}));var Hie;(function(n){n[n.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",n[n.CHUNKED=8]="CHUNKED",n[n.UPGRADE=16]="UPGRADE",n[n.CONTENT_LENGTH=32]="CONTENT_LENGTH",n[n.SKIPBODY=64]="SKIPBODY",n[n.TRAILING=128]="TRAILING",n[n.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Hie=V.FLAGS||(V.FLAGS={}));var Jie;(function(n){n[n.HEADERS=1]="HEADERS",n[n.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",n[n.KEEP_ALIVE=4]="KEEP_ALIVE"})(Jie=V.LENIENT_FLAGS||(V.LENIENT_FLAGS={}));var oe;(function(n){n[n.DELETE=0]="DELETE",n[n.GET=1]="GET",n[n.HEAD=2]="HEAD",n[n.POST=3]="POST",n[n.PUT=4]="PUT",n[n.CONNECT=5]="CONNECT",n[n.OPTIONS=6]="OPTIONS",n[n.TRACE=7]="TRACE",n[n.COPY=8]="COPY",n[n.LOCK=9]="LOCK",n[n.MKCOL=10]="MKCOL",n[n.MOVE=11]="MOVE",n[n.PROPFIND=12]="PROPFIND",n[n.PROPPATCH=13]="PROPPATCH",n[n.SEARCH=14]="SEARCH",n[n.UNLOCK=15]="UNLOCK",n[n.BIND=16]="BIND",n[n.REBIND=17]="REBIND",n[n.UNBIND=18]="UNBIND",n[n.ACL=19]="ACL",n[n.REPORT=20]="REPORT",n[n.MKACTIVITY=21]="MKACTIVITY",n[n.CHECKOUT=22]="CHECKOUT",n[n.MERGE=23]="MERGE",n[n["M-SEARCH"]=24]="M-SEARCH",n[n.NOTIFY=25]="NOTIFY",n[n.SUBSCRIBE=26]="SUBSCRIBE",n[n.UNSUBSCRIBE=27]="UNSUBSCRIBE",n[n.PATCH=28]="PATCH",n[n.PURGE=29]="PURGE",n[n.MKCALENDAR=30]="MKCALENDAR",n[n.LINK=31]="LINK",n[n.UNLINK=32]="UNLINK",n[n.SOURCE=33]="SOURCE",n[n.PRI=34]="PRI",n[n.DESCRIBE=35]="DESCRIBE",n[n.ANNOUNCE=36]="ANNOUNCE",n[n.SETUP=37]="SETUP",n[n.PLAY=38]="PLAY",n[n.PAUSE=39]="PAUSE",n[n.TEARDOWN=40]="TEARDOWN",n[n.GET_PARAMETER=41]="GET_PARAMETER",n[n.SET_PARAMETER=42]="SET_PARAMETER",n[n.REDIRECT=43]="REDIRECT",n[n.RECORD=44]="RECORD",n[n.FLUSH=45]="FLUSH"})(oe=V.METHODS||(V.METHODS={}));V.METHODS_HTTP=[oe.DELETE,oe.GET,oe.HEAD,oe.POST,oe.PUT,oe.CONNECT,oe.OPTIONS,oe.TRACE,oe.COPY,oe.LOCK,oe.MKCOL,oe.MOVE,oe.PROPFIND,oe.PROPPATCH,oe.SEARCH,oe.UNLOCK,oe.BIND,oe.REBIND,oe.UNBIND,oe.ACL,oe.REPORT,oe.MKACTIVITY,oe.CHECKOUT,oe.MERGE,oe["M-SEARCH"],oe.NOTIFY,oe.SUBSCRIBE,oe.UNSUBSCRIBE,oe.PATCH,oe.PURGE,oe.MKCALENDAR,oe.LINK,oe.UNLINK,oe.PRI,oe.SOURCE];V.METHODS_ICE=[oe.SOURCE];V.METHODS_RTSP=[oe.OPTIONS,oe.DESCRIBE,oe.ANNOUNCE,oe.SETUP,oe.PLAY,oe.PAUSE,oe.TEARDOWN,oe.GET_PARAMETER,oe.SET_PARAMETER,oe.REDIRECT,oe.RECORD,oe.FLUSH,oe.GET,oe.POST];V.METHOD_MAP=Gie.enumToMap(oe);V.H_METHOD_MAP={};Object.keys(V.METHOD_MAP).forEach(n=>{/^H/.test(n)&&(V.H_METHOD_MAP[n]=V.METHOD_MAP[n])});var Wie;(function(n){n[n.SAFE=0]="SAFE",n[n.SAFE_WITH_CB=1]="SAFE_WITH_CB",n[n.UNSAFE=2]="UNSAFE"})(Wie=V.FINISH||(V.FINISH={}));V.ALPHA=[];for(let n=65;n<=90;n++)V.ALPHA.push(String.fromCharCode(n)),V.ALPHA.push(String.fromCharCode(n+32));V.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};V.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};V.NUM=["0","1","2","3","4","5","6","7","8","9"];V.ALPHANUM=V.ALPHA.concat(V.NUM);V.MARK=["-","_",".","!","~","*","'","(",")"];V.USERINFO_CHARS=V.ALPHANUM.concat(V.MARK).concat(["%",";",":","&","=","+","$",","]);V.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(V.ALPHANUM);V.URL_CHAR=V.STRICT_URL_CHAR.concat(["	","\f"]);for(let n=128;n<=255;n++)V.URL_CHAR.push(n);V.HEX=V.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);V.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(V.ALPHANUM);V.TOKEN=V.STRICT_TOKEN.concat([" "]);V.HEADER_CHARS=["	"];for(let n=32;n<=255;n++)n!==127&&V.HEADER_CHARS.push(n);V.CONNECTION_TOKEN_CHARS=V.HEADER_CHARS.filter(n=>n!==44);V.MAJOR=V.NUM_MAP;V.MINOR=V.MAJOR;var Dl;(function(n){n[n.GENERAL=0]="GENERAL",n[n.CONNECTION=1]="CONNECTION",n[n.CONTENT_LENGTH=2]="CONTENT_LENGTH",n[n.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",n[n.UPGRADE=4]="UPGRADE",n[n.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",n[n.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(Dl=V.HEADER_STATE||(V.HEADER_STATE={}));V.SPECIAL_HEADERS={connection:Dl.CONNECTION,"content-length":Dl.CONTENT_LENGTH,"proxy-connection":Dl.CONNECTION,"transfer-encoding":Dl.TRANSFER_ENCODING,upgrade:Dl.UPGRADE}});var Ev=S((Mme,YO)=>{"use strict";var ws=ve(),{kBodyUsed:od}=je(),pv=F("assert"),{InvalidArgumentError:zie}=Ge(),jie=F("events"),Kie=[300,301,302,303,307,308],GO=Symbol("body"),fC=class{constructor(e){this[GO]=e,this[od]=!1}[Symbol.asyncIterator](){return ai(this,null,function*(){pv(!this[od],"disturbed"),this[od]=!0,yield*ta(this[GO])})}},fv=class{constructor(e,t,r,i){if(t!=null&&(!Number.isInteger(t)||t<0))throw new zie("maxRedirections must be a positive number");ws.validateHandler(i,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts=te(P({},r),{maxRedirections:0}),this.maxRedirections=t,this.handler=i,this.history=[],ws.isStream(this.opts.body)?(ws.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){pv(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[od]=!1,jie.prototype.on.call(this.opts.body,"data",function(){this[od]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new fC(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&ws.isIterable(this.opts.body)&&(this.opts.body=new fC(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,i){if(this.location=this.history.length>=this.maxRedirections||ws.isDisturbed(this.opts.body)?null:Xie(e,t),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,i);let{origin:s,pathname:o,search:a}=ws.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${o}${a}`:o;this.opts.headers=$ie(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=A,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function Xie(n,e){if(Kie.indexOf(n)===-1)return null;for(let t=0;t<e.length;t+=2)if(e[t].toString().toLowerCase()==="location")return e[t+1]}function qO(n,e,t){if(n.length===4)return ws.headerNameToString(n)==="host";if(e&&ws.headerNameToString(n).startsWith("content-"))return!0;if(t&&(n.length===13||n.length===6||n.length===19)){let r=ws.headerNameToString(n);return r==="authorization"||r==="cookie"||r==="proxy-authorization"}return!1}function $ie(n,e,t){let r=[];if(Array.isArray(n))for(let i=0;i<n.length;i+=2)qO(n[i],e,t)||r.push(n[i],n[i+1]);else if(n&&typeof n=="object")for(let i of Object.keys(n))qO(i,e,t)||r.push(i,n[i]);else pv(n==null,"headers must be an object or an array");return r}YO.exports=fv});var pC=S((Ume,HO)=>{"use strict";var Zie=Ev();function ese({maxRedirections:n}){return e=>function(r,i){let{maxRedirections:s=n}=r;if(!s)return e(r,i);let o=new Zie(e,s,r,i);return r=te(P({},r),{maxRedirections:0}),e(r,o)}}HO.exports=ese});var Cv=S((Ome,JO)=>{"use strict";JO.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="});var zO=S((Pme,WO)=>{"use strict";WO.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="});var dd=S((Vme,g2)=>{"use strict";var $=F("assert"),$O=F("net"),tse=F("http"),{pipeline:nse}=F("stream"),se=ve(),mv=O1(),Bv=FO(),rse=id(),{RequestContentLengthMismatchError:Ss,ResponseContentLengthMismatchError:ise,InvalidArgumentError:bt,RequestAbortedError:Rv,HeadersTimeoutError:sse,HeadersOverflowError:ose,SocketError:Tl,InformationalError:Hi,BodyTimeoutError:ase,HTTPParserError:Ase,ResponseExceededMaxSizeError:cse,ClientDestroyedError:lse}=Ge(),use=sd(),{kUrl:tn,kReset:Rn,kServerName:Ho,kClient:Ji,kBusy:yv,kParser:Et,kConnect:hse,kBlocking:kl,kResuming:nA,kRunning:ut,kPending:iA,kSize:rA,kWriting:bs,kQueue:tt,kConnected:dse,kConnecting:Rl,kNeedDrain:Wo,kNoRef:ad,kKeepAliveDefaultTimeout:Qv,kHostHeader:ZO,kPendingIdx:sr,kRunningIdx:nt,kError:nn,kPipelining:zo,kSocket:Ct,kKeepAliveTimeoutValue:ld,kMaxHeadersSize:mC,kKeepAliveMaxTimeout:e2,kKeepAliveTimeoutThreshold:t2,kHeadersTimeout:n2,kBodyTimeout:r2,kStrictContentLength:ud,kConnector:Ad,kMaxRedirections:gse,kMaxRequests:hd,kCounter:i2,kClose:fse,kDestroy:pse,kDispatch:Ese,kInterceptors:Cse,kLocalAddress:cd,kMaxResponseSize:s2,kHTTPConnVersion:Wi,kHost:o2,kHTTP2Session:or,kHTTP2SessionState:BC,kHTTP2BuildRequest:mse,kHTTP2CopyHeaders:Ise,kHTTP1BuildRequest:Bse}=je(),yC;try{yC=F("http2")}catch{yC={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:yse,HTTP2_HEADER_METHOD:Qse,HTTP2_HEADER_PATH:wse,HTTP2_HEADER_SCHEME:Sse,HTTP2_HEADER_CONTENT_LENGTH:bse,HTTP2_HEADER_EXPECT:vse,HTTP2_HEADER_STATUS:jO}}=yC,KO=!1,EC=Buffer[Symbol.species],Jo=Symbol("kClosedResolve"),gn={};try{let n=F("diagnostics_channel");gn.sendHeaders=n.channel("undici:client:sendHeaders"),gn.beforeConnect=n.channel("undici:client:beforeConnect"),gn.connectError=n.channel("undici:client:connectError"),gn.connected=n.channel("undici:client:connected")}catch{gn.sendHeaders={hasSubscribers:!1},gn.beforeConnect={hasSubscribers:!1},gn.connectError={hasSubscribers:!1},gn.connected={hasSubscribers:!1}}var wv=class extends rse{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:i,socketTimeout:s,requestTimeout:o,connectTimeout:a,bodyTimeout:A,idleTimeout:c,keepAlive:l,keepAliveTimeout:u,maxKeepAliveTimeout:h,keepAliveMaxTimeout:d,keepAliveTimeoutThreshold:E,socketPath:I,pipelining:m,tls:D,strictContentLength:v,maxCachedSessions:k,maxRedirections:T,connect:_,maxRequestsPerClient:L,localAddress:Q,maxResponseSize:C,autoSelectFamily:y,autoSelectFamilyAttemptTimeout:w,allowH2:f,maxConcurrentStreams:b}={}){if(super(),l!==void 0)throw new bt("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new bt("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(o!==void 0)throw new bt("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(c!==void 0)throw new bt("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new bt("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(r!=null&&!Number.isFinite(r))throw new bt("invalid maxHeaderSize");if(I!=null&&typeof I!="string")throw new bt("invalid socketPath");if(a!=null&&(!Number.isFinite(a)||a<0))throw new bt("invalid connectTimeout");if(u!=null&&(!Number.isFinite(u)||u<=0))throw new bt("invalid keepAliveTimeout");if(d!=null&&(!Number.isFinite(d)||d<=0))throw new bt("invalid keepAliveMaxTimeout");if(E!=null&&!Number.isFinite(E))throw new bt("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new bt("headersTimeout must be a positive integer or zero");if(A!=null&&(!Number.isInteger(A)||A<0))throw new bt("bodyTimeout must be a positive integer or zero");if(_!=null&&typeof _!="function"&&typeof _!="object")throw new bt("connect must be a function or an object");if(T!=null&&(!Number.isInteger(T)||T<0))throw new bt("maxRedirections must be a positive number");if(L!=null&&(!Number.isInteger(L)||L<0))throw new bt("maxRequestsPerClient must be a positive number");if(Q!=null&&(typeof Q!="string"||$O.isIP(Q)===0))throw new bt("localAddress must be valid string IP address");if(C!=null&&(!Number.isInteger(C)||C<-1))throw new bt("maxResponseSize must be a positive number");if(w!=null&&(!Number.isInteger(w)||w<-1))throw new bt("autoSelectFamilyAttemptTimeout must be a positive number");if(f!=null&&typeof f!="boolean")throw new bt("allowH2 must be a valid boolean value");if(b!=null&&(typeof b!="number"||b<1))throw new bt("maxConcurrentStreams must be a possitive integer, greater than 0");typeof _!="function"&&(_=use(P(P(te(P({},D),{maxCachedSessions:k,allowH2:f,socketPath:I,timeout:a}),se.nodeHasAutoSelectFamily&&y?{autoSelectFamily:y,autoSelectFamilyAttemptTimeout:w}:void 0),_))),this[Cse]=t&&t.Client&&Array.isArray(t.Client)?t.Client:[Nse({maxRedirections:T})],this[tn]=se.parseOrigin(e),this[Ad]=_,this[Ct]=null,this[zo]=m??1,this[mC]=r||tse.maxHeaderSize,this[Qv]=u??4e3,this[e2]=d??6e5,this[t2]=E??1e3,this[ld]=this[Qv],this[Ho]=null,this[cd]=Q??null,this[nA]=0,this[Wo]=0,this[ZO]=`host: ${this[tn].hostname}${this[tn].port?`:${this[tn].port}`:""}\r
`,this[r2]=A??3e5,this[n2]=i??3e5,this[ud]=v??!0,this[gse]=T,this[hd]=L,this[Jo]=null,this[s2]=C>-1?C:-1,this[Wi]="h1",this[or]=null,this[BC]=f?{openStreams:0,maxConcurrentStreams:b??100}:null,this[o2]=`${this[tn].hostname}${this[tn].port?`:${this[tn].port}`:""}`,this[tt]=[],this[nt]=0,this[sr]=0}get pipelining(){return this[zo]}set pipelining(e){this[zo]=e,ar(this,!0)}get[iA](){return this[tt].length-this[sr]}get[ut](){return this[sr]-this[nt]}get[rA](){return this[tt].length-this[nt]}get[dse](){return!!this[Ct]&&!this[Rl]&&!this[Ct].destroyed}get[yv](){let e=this[Ct];return e&&(e[Rn]||e[bs]||e[kl])||this[rA]>=(this[zo]||1)||this[iA]>0}[hse](e){l2(this),this.once("connect",e)}[Ese](e,t){let r=e.origin||this[tn].origin,i=this[Wi]==="h2"?Bv[mse](r,e,t):Bv[Bse](r,e,t);return this[tt].push(i),this[nA]||(se.bodyLength(i.body)==null&&se.isIterable(i.body)?(this[nA]=1,process.nextTick(ar,this)):ar(this,!0)),this[nA]&&this[Wo]!==2&&this[yv]&&(this[Wo]=2),this[Wo]<2}[fse](){return B(this,null,function*(){return new Promise(e=>{this[rA]?this[Jo]=e:e(null)})})}[pse](e){return B(this,null,function*(){return new Promise(t=>{let r=this[tt].splice(this[sr]);for(let s=0;s<r.length;s++){let o=r[s];Tn(this,o,e)}let i=()=>{this[Jo]&&(this[Jo](),this[Jo]=null),t()};this[or]!=null&&(se.destroy(this[or],e),this[or]=null,this[BC]=null),this[Ct]?se.destroy(this[Ct].on("close",i),e):queueMicrotask(i),ar(this)})})}};function Dse(n){$(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Ct][nn]=n,SC(this[Ji],n)}function Rse(n,e,t){let r=new Hi(`HTTP/2: "frameError" received - type ${n}, code ${e}`);t===0&&(this[Ct][nn]=r,SC(this[Ji],r))}function Tse(){se.destroy(this,new Tl("other side closed")),se.destroy(this[Ct],new Tl("other side closed"))}function kse(n){let e=this[Ji],t=new Hi(`HTTP/2: "GOAWAY" frame received with code ${n}`);if(e[Ct]=null,e[or]=null,e.destroyed){$(this[iA]===0);let r=e[tt].splice(e[nt]);for(let i=0;i<r.length;i++){let s=r[i];Tn(this,s,t)}}else if(e[ut]>0){let r=e[tt][e[nt]];e[tt][e[nt]++]=null,Tn(e,r,t)}e[sr]=e[nt],$(e[ut]===0),e.emit("disconnect",e[tn],[e],t),ar(e)}var Gi=VO(),Nse=pC(),_se=Buffer.alloc(0);function Fse(){return B(this,null,function*(){let n=process.env.JEST_WORKER_ID?Cv():void 0,e;try{e=yield WebAssembly.compile(Buffer.from(zO(),"base64"))}catch{e=yield WebAssembly.compile(Buffer.from(n||Cv(),"base64"))}return yield WebAssembly.instantiate(e,{env:{wasm_on_url:(t,r,i)=>0,wasm_on_status:(t,r,i)=>{$.strictEqual(Vt.ptr,t);let s=r-Yi+qi.byteOffset;return Vt.onStatus(new EC(qi.buffer,s,i))||0},wasm_on_message_begin:t=>($.strictEqual(Vt.ptr,t),Vt.onMessageBegin()||0),wasm_on_header_field:(t,r,i)=>{$.strictEqual(Vt.ptr,t);let s=r-Yi+qi.byteOffset;return Vt.onHeaderField(new EC(qi.buffer,s,i))||0},wasm_on_header_value:(t,r,i)=>{$.strictEqual(Vt.ptr,t);let s=r-Yi+qi.byteOffset;return Vt.onHeaderValue(new EC(qi.buffer,s,i))||0},wasm_on_headers_complete:(t,r,i,s)=>($.strictEqual(Vt.ptr,t),Vt.onHeadersComplete(r,!!i,!!s)||0),wasm_on_body:(t,r,i)=>{$.strictEqual(Vt.ptr,t);let s=r-Yi+qi.byteOffset;return Vt.onBody(new EC(qi.buffer,s,i))||0},wasm_on_message_complete:t=>($.strictEqual(Vt.ptr,t),Vt.onMessageComplete()||0)}})})}var Iv=null,Sv=Fse();Sv.catch();var Vt=null,qi=null,CC=0,Yi=null,Nl=1,IC=2,bv=3,vv=class{constructor(e,t,{exports:r}){$(Number.isFinite(e[mC])&&e[mC]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(Gi.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[mC],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[s2]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(mv.clearTimeout(this.timeout),e?(this.timeout=mv.setTimeout(Mse,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||($(this.ptr!=null),$(Vt==null),this.llhttp.llhttp_resume(this.ptr),$(this.timeoutType===IC),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||_se),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){$(this.ptr!=null),$(Vt==null),$(!this.paused);let{socket:t,llhttp:r}=this;e.length>CC&&(Yi&&r.free(Yi),CC=Math.ceil(e.length/4096)*4096,Yi=r.malloc(CC)),new Uint8Array(r.memory.buffer,Yi,CC).set(e);try{let i;try{qi=e,Vt=this,i=r.llhttp_execute(this.ptr,Yi,e.length)}catch(o){throw o}finally{Vt=null,qi=null}let s=r.llhttp_get_error_pos(this.ptr)-Yi;if(i===Gi.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===Gi.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(s));else if(i!==Gi.ERROR.OK){let o=r.llhttp_get_error_reason(this.ptr),a="";if(o){let A=new Uint8Array(r.memory.buffer,o).indexOf(0);a="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,o,A).toString()+")"}throw new Ase(a,Gi.ERROR[i],e.slice(s))}}catch(i){se.destroy(t,i)}}destroy(){$(this.ptr!=null),$(Vt==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,mv.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed||!t[tt][t[nt]])return-1}onHeaderField(e){let t=this.headers.length;t&1?this.headers[t-1]=Buffer.concat([this.headers[t-1],e]):this.headers.push(e),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(t&1)===1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];r.length===10&&r.toString().toLowerCase()==="keep-alive"?this.keepAlive+=e.toString():r.length===10&&r.toString().toLowerCase()==="connection"?this.connection+=e.toString():r.length===14&&r.toString().toLowerCase()==="content-length"&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&se.destroy(this.socket,new ose)}onUpgrade(e){let{upgrade:t,client:r,socket:i,headers:s,statusCode:o}=this;$(t);let a=r[tt][r[nt]];$(a),$(!i.destroyed),$(i===r[Ct]),$(!this.paused),$(a.upgrade||a.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,$(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[Et].destroy(),i[Et]=null,i[Ji]=null,i[nn]=null,i.removeListener("error",A2).removeListener("readable",a2).removeListener("end",c2).removeListener("close",Dv),r[Ct]=null,r[tt][r[nt]++]=null,r.emit("disconnect",r[tn],[r],new Hi("upgrade"));try{a.onUpgrade(o,s,i)}catch(A){se.destroy(i,A)}ar(r)}onHeadersComplete(e,t,r){let{client:i,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return-1;let A=i[tt][i[nt]];if(!A)return-1;if($(!this.upgrade),$(this.statusCode<200),e===100)return se.destroy(s,new Tl("bad response",se.getSocketInfo(s))),-1;if(t&&!A.upgrade)return se.destroy(s,new Tl("bad upgrade",se.getSocketInfo(s))),-1;if($.strictEqual(this.timeoutType,Nl),this.statusCode=e,this.shouldKeepAlive=r||A.method==="HEAD"&&!s[Rn]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let l=A.bodyTimeout!=null?A.bodyTimeout:i[r2];this.setTimeout(l,IC)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(A.method==="CONNECT")return $(i[ut]===1),this.upgrade=!0,2;if(t)return $(i[ut]===1),this.upgrade=!0,2;if($(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[zo]){let l=this.keepAlive?se.parseKeepAliveTimeout(this.keepAlive):null;if(l!=null){let u=Math.min(l-i[t2],i[e2]);u<=0?s[Rn]=!0:i[ld]=u}else i[ld]=i[Qv]}else s[Rn]=!0;let c=A.onHeaders(e,o,this.resume,a)===!1;return A.aborted?-1:A.method==="HEAD"||e<200?1:(s[kl]&&(s[kl]=!1,ar(i)),c?Gi.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:i,maxResponseSize:s}=this;if(r.destroyed)return-1;let o=t[tt][t[nt]];if($(o),$.strictEqual(this.timeoutType,IC),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),$(i>=200),s>-1&&this.bytesRead+e.length>s)return se.destroy(r,new cse),-1;if(this.bytesRead+=e.length,o.onData(e)===!1)return Gi.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:i,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:A}=this;if(t.destroyed&&(!r||A))return-1;if(i)return;let c=e[tt][e[nt]];if($(c),$(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",$(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(r<200)){if(c.method!=="HEAD"&&o&&a!==parseInt(o,10))return se.destroy(t,new ise),-1;if(c.onComplete(s),e[tt][e[nt]++]=null,t[bs])return $.strictEqual(e[ut],0),se.destroy(t,new Hi("reset")),Gi.ERROR.PAUSED;if(A){if(t[Rn]&&e[ut]===0)return se.destroy(t,new Hi("reset")),Gi.ERROR.PAUSED;e[zo]===1?setImmediate(ar,e):ar(e)}else return se.destroy(t,new Hi("reset")),Gi.ERROR.PAUSED}}};function Mse(n){let{socket:e,timeoutType:t,client:r}=n;t===Nl?(!e[bs]||e.writableNeedDrain||r[ut]>1)&&($(!n.paused,"cannot be paused while waiting for headers"),se.destroy(e,new sse)):t===IC?n.paused||se.destroy(e,new ase):t===bv&&($(r[ut]===0&&r[ld]),se.destroy(e,new Hi("socket idle timeout")))}function a2(){let{[Et]:n}=this;n&&n.readMore()}function A2(n){let{[Ji]:e,[Et]:t}=this;if($(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),e[Wi]!=="h2"&&n.code==="ECONNRESET"&&t.statusCode&&!t.shouldKeepAlive){t.onMessageComplete();return}this[nn]=n,SC(this[Ji],n)}function SC(n,e){if(n[ut]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){$(n[sr]===n[nt]);let t=n[tt].splice(n[nt]);for(let r=0;r<t.length;r++){let i=t[r];Tn(n,i,e)}$(n[rA]===0)}}function c2(){let{[Et]:n,[Ji]:e}=this;if(e[Wi]!=="h2"&&n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}se.destroy(this,new Tl("other side closed",se.getSocketInfo(this)))}function Dv(){let{[Ji]:n,[Et]:e}=this;n[Wi]==="h1"&&e&&(!this[nn]&&e.statusCode&&!e.shouldKeepAlive&&e.onMessageComplete(),this[Et].destroy(),this[Et]=null);let t=this[nn]||new Tl("closed",se.getSocketInfo(this));if(n[Ct]=null,n.destroyed){$(n[iA]===0);let r=n[tt].splice(n[nt]);for(let i=0;i<r.length;i++){let s=r[i];Tn(n,s,t)}}else if(n[ut]>0&&t.code!=="UND_ERR_INFO"){let r=n[tt][n[nt]];n[tt][n[nt]++]=null,Tn(n,r,t)}n[sr]=n[nt],$(n[ut]===0),n.emit("disconnect",n[tn],[n],t),ar(n)}function l2(n){return B(this,null,function*(){$(!n[Rl]),$(!n[Ct]);let{host:e,hostname:t,protocol:r,port:i}=n[tn];if(t[0]==="["){let s=t.indexOf("]");$(s!==-1);let o=t.substring(1,s);$($O.isIP(o)),t=o}n[Rl]=!0,gn.beforeConnect.hasSubscribers&&gn.beforeConnect.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,servername:n[Ho],localAddress:n[cd]},connector:n[Ad]});try{let s=yield new Promise((a,A)=>{n[Ad]({host:e,hostname:t,protocol:r,port:i,servername:n[Ho],localAddress:n[cd]},(c,l)=>{c?A(c):a(l)})});if(n.destroyed){se.destroy(s.on("error",()=>{}),new lse);return}if(n[Rl]=!1,$(s),s.alpnProtocol==="h2"){KO||(KO=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let a=yC.connect(n[tn],{createConnection:()=>s,peerMaxConcurrentStreams:n[BC].maxConcurrentStreams});n[Wi]="h2",a[Ji]=n,a[Ct]=s,a.on("error",Dse),a.on("frameError",Rse),a.on("end",Tse),a.on("goaway",kse),a.on("close",Dv),a.unref(),n[or]=a,s[or]=a}else Iv||(Iv=yield Sv,Sv=null),s[ad]=!1,s[bs]=!1,s[Rn]=!1,s[kl]=!1,s[Et]=new vv(n,s,Iv);s[i2]=0,s[hd]=n[hd],s[Ji]=n,s[nn]=null,s.on("error",A2).on("readable",a2).on("end",c2).on("close",Dv),n[Ct]=s,gn.connected.hasSubscribers&&gn.connected.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,servername:n[Ho],localAddress:n[cd]},connector:n[Ad],socket:s}),n.emit("connect",n[tn],[n])}catch(s){if(n.destroyed)return;if(n[Rl]=!1,gn.connectError.hasSubscribers&&gn.connectError.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,servername:n[Ho],localAddress:n[cd]},connector:n[Ad],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for($(n[ut]===0);n[iA]>0&&n[tt][n[sr]].servername===n[Ho];){let o=n[tt][n[sr]++];Tn(n,o,s)}else SC(n,s);n.emit("connectionError",n[tn],[n],s)}ar(n)})}function XO(n){n[Wo]=0,n.emit("drain",n[tn],[n])}function ar(n,e){n[nA]!==2&&(n[nA]=2,Lse(n,e),n[nA]=0,n[nt]>256&&(n[tt].splice(0,n[nt]),n[sr]-=n[nt],n[nt]=0))}function Lse(n,e){for(;;){if(n.destroyed){$(n[iA]===0);return}if(n[Jo]&&!n[rA]){n[Jo](),n[Jo]=null;return}let t=n[Ct];if(t&&!t.destroyed&&t.alpnProtocol!=="h2"){if(n[rA]===0?!t[ad]&&t.unref&&(t.unref(),t[ad]=!0):t[ad]&&t.ref&&(t.ref(),t[ad]=!1),n[rA]===0)t[Et].timeoutType!==bv&&t[Et].setTimeout(n[ld],bv);else if(n[ut]>0&&t[Et].statusCode<200&&t[Et].timeoutType!==Nl){let i=n[tt][n[nt]],s=i.headersTimeout!=null?i.headersTimeout:n[n2];t[Et].setTimeout(s,Nl)}}if(n[yv])n[Wo]=2;else if(n[Wo]===2){e?(n[Wo]=1,process.nextTick(XO,n)):XO(n);continue}if(n[iA]===0||n[ut]>=(n[zo]||1))return;let r=n[tt][n[sr]];if(n[tn].protocol==="https:"&&n[Ho]!==r.servername){if(n[ut]>0)return;if(n[Ho]=r.servername,t&&t.servername!==r.servername){se.destroy(t,new Hi("servername changed"));return}}if(n[Rl])return;if(!t&&!n[or]){l2(n);return}if(t.destroyed||t[bs]||t[Rn]||t[kl]||n[ut]>0&&!r.idempotent||n[ut]>0&&(r.upgrade||r.method==="CONNECT")||n[ut]>0&&se.bodyLength(r.body)!==0&&(se.isStream(r.body)||se.isAsyncIterable(r.body)))return;!r.aborted&&Use(n,r)?n[sr]++:n[tt].splice(n[sr],1)}}function u2(n){return n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"&&n!=="TRACE"&&n!=="CONNECT"}function Use(n,e){if(n[Wi]==="h2"){xse(n,n[or],e);return}let{body:t,method:r,path:i,host:s,upgrade:o,headers:a,blocking:A,reset:c}=e,l=r==="PUT"||r==="POST"||r==="PATCH";t&&typeof t.read=="function"&&t.read(0);let u=se.bodyLength(t),h=u;if(h===null&&(h=e.contentLength),h===0&&!l&&(h=null),u2(r)&&h>0&&e.contentLength!==null&&e.contentLength!==h){if(n[ud])return Tn(n,e,new Ss),!1;process.emitWarning(new Ss)}let d=n[Ct];try{e.onConnect(I=>{e.aborted||e.completed||(Tn(n,e,I||new Rv),se.destroy(d,new Hi("aborted")))})}catch(I){Tn(n,e,I)}if(e.aborted)return!1;r==="HEAD"&&(d[Rn]=!0),(o||r==="CONNECT")&&(d[Rn]=!0),c!=null&&(d[Rn]=c),n[hd]&&d[i2]++>=n[hd]&&(d[Rn]=!0),A&&(d[kl]=!0);let E=`${r} ${i} HTTP/1.1\r
`;return typeof s=="string"?E+=`host: ${s}\r
`:E+=n[ZO],o?E+=`connection: upgrade\r
upgrade: ${o}\r
`:n[zo]&&!d[Rn]?E+=`connection: keep-alive\r
`:E+=`connection: close\r
`,a&&(E+=a),gn.sendHeaders.hasSubscribers&&gn.sendHeaders.publish({request:e,headers:E,socket:d}),!t||u===0?(h===0?d.write(`${E}content-length: 0\r
\r
`,"latin1"):($(h===null,"no body must not have content length"),d.write(`${E}\r
`,"latin1")),e.onRequestSent()):se.isBuffer(t)?($(h===t.byteLength,"buffer body must have content length"),d.cork(),d.write(`${E}content-length: ${h}\r
\r
`,"latin1"),d.write(t),d.uncork(),e.onBodySent(t),e.onRequestSent(),l||(d[Rn]=!0)):se.isBlobLike(t)?typeof t.stream=="function"?QC({body:t.stream(),client:n,request:e,socket:d,contentLength:h,header:E,expectsPayload:l}):d2({body:t,client:n,request:e,socket:d,contentLength:h,header:E,expectsPayload:l}):se.isStream(t)?h2({body:t,client:n,request:e,socket:d,contentLength:h,header:E,expectsPayload:l}):se.isIterable(t)?QC({body:t,client:n,request:e,socket:d,contentLength:h,header:E,expectsPayload:l}):$(!1),!0}function xse(n,e,t){let{body:r,method:i,path:s,host:o,upgrade:a,expectContinue:A,signal:c,headers:l}=t,u;if(typeof l=="string"?u=Bv[Ise](l.trim()):u=l,a)return Tn(n,t,new Error("Upgrade not supported for H2")),!1;try{t.onConnect(v=>{t.aborted||t.completed||Tn(n,t,v||new Rv)})}catch(v){Tn(n,t,v)}if(t.aborted)return!1;let h,d=n[BC];if(u[yse]=o||n[o2],u[Qse]=i,i==="CONNECT")return e.ref(),h=e.request(u,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++d.openStreams):h.once("ready",()=>{t.onUpgrade(null,null,h),++d.openStreams}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),!0;u[wse]=s,u[Sse]="https";let E=i==="PUT"||i==="POST"||i==="PATCH";r&&typeof r.read=="function"&&r.read(0);let I=se.bodyLength(r);if(I==null&&(I=t.contentLength),(I===0||!E)&&(I=null),u2(i)&&I>0&&t.contentLength!=null&&t.contentLength!==I){if(n[ud])return Tn(n,t,new Ss),!1;process.emitWarning(new Ss)}I!=null&&($(r,"no body must not have content length"),u[bse]=`${I}`),e.ref();let m=i==="GET"||i==="HEAD";return A?(u[vse]="100-continue",h=e.request(u,{endStream:m,signal:c}),h.once("continue",D)):(h=e.request(u,{endStream:m,signal:c}),D()),++d.openStreams,h.once("response",v=>{let _=v,{[jO]:k}=_,T=Mn(_,[mR(jO)]);t.onHeaders(Number(k),T,h.resume.bind(h),"")===!1&&h.pause()}),h.once("end",()=>{t.onComplete([])}),h.on("data",v=>{t.onData(v)===!1&&h.pause()}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),h.once("error",function(v){n[or]&&!n[or].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,se.destroy(h,v))}),h.once("frameError",(v,k)=>{let T=new Hi(`HTTP/2: "frameError" received - type ${v}, code ${k}`);Tn(n,t,T),n[or]&&!n[or].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,se.destroy(h,T))}),!0;function D(){r?se.isBuffer(r)?($(I===r.byteLength,"buffer body must have content length"),h.cork(),h.write(r),h.uncork(),h.end(),t.onBodySent(r),t.onRequestSent()):se.isBlobLike(r)?typeof r.stream=="function"?QC({client:n,request:t,contentLength:I,h2stream:h,expectsPayload:E,body:r.stream(),socket:n[Ct],header:""}):d2({body:r,client:n,request:t,contentLength:I,expectsPayload:E,h2stream:h,header:"",socket:n[Ct]}):se.isStream(r)?h2({body:r,client:n,request:t,contentLength:I,expectsPayload:E,socket:n[Ct],h2stream:h,header:""}):se.isIterable(r)?QC({body:r,client:n,request:t,contentLength:I,expectsPayload:E,header:"",h2stream:h,socket:n[Ct]}):$(!1):t.onRequestSent()}}function h2({h2stream:n,body:e,client:t,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){if($(s!==0||t[ut]===0,"stream body cannot be pipelined"),t[Wi]==="h2"){let I=function(m){r.onBodySent(m)},E=nse(e,n,m=>{m?(se.destroy(e,m),se.destroy(n,m)):r.onRequestSent()});E.on("data",I),E.once("end",()=>{E.removeListener("data",I),se.destroy(E)});return}let A=!1,c=new wC({socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o}),l=function(E){if(!A)try{!c.write(E)&&this.pause&&this.pause()}catch(I){se.destroy(this,I)}},u=function(){A||e.resume&&e.resume()},h=function(){if(A)return;let E=new Rv;queueMicrotask(()=>d(E))},d=function(E){if(!A){if(A=!0,$(i.destroyed||i[bs]&&t[ut]<=1),i.off("drain",u).off("error",d),e.removeListener("data",l).removeListener("end",d).removeListener("error",d).removeListener("close",h),!E)try{c.end()}catch(I){E=I}c.destroy(E),E&&(E.code!=="UND_ERR_INFO"||E.message!=="reset")?se.destroy(e,E):se.destroy(e)}};e.on("data",l).on("end",d).on("error",d).on("close",h),e.resume&&e.resume(),i.on("drain",u).on("error",d)}function d2(A){return B(this,arguments,function*({h2stream:n,body:e,client:t,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){$(s===e.size,"blob body must have content length");let c=t[Wi]==="h2";try{if(s!=null&&s!==e.size)throw new Ss;let l=Buffer.from(yield e.arrayBuffer());c?(n.cork(),n.write(l),n.uncork()):(i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(l),i.uncork()),r.onBodySent(l),r.onRequestSent(),a||(i[Rn]=!0),ar(t)}catch(l){se.destroy(c?n:i,l)}})}function QC(A){return B(this,arguments,function*({h2stream:n,body:e,client:t,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){$(s!==0||t[ut]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let _=c;c=null,_()}}let u=()=>new Promise((_,L)=>{$(c===null),i[nn]?L(i[nn]):c=_});if(t[Wi]==="h2"){n.on("close",l).on("drain",l);try{try{for(var d=Ln(e),E,I,m;E=!(I=yield d.next()).done;E=!1){let _=I.value;if(i[nn])throw i[nn];let L=n.write(_);r.onBodySent(_),L||(yield u())}}catch{m=[I]}finally{try{E&&(I=d.return)&&(yield I.call(d))}finally{if(m)throw m[0]}}}catch(_){n.destroy(_)}finally{r.onRequestSent(),n.end(),n.off("close",l).off("drain",l)}return}i.on("close",l).on("drain",l);let h=new wC({socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o});try{try{for(var D=Ln(e),v,k,T;v=!(k=yield D.next()).done;v=!1){let _=k.value;if(i[nn])throw i[nn];h.write(_)||(yield u())}}catch{T=[k]}finally{try{v&&(k=D.return)&&(yield k.call(D))}finally{if(T)throw T[0]}}h.end()}catch(_){h.destroy(_)}finally{i.off("close",l).off("drain",l)}})}var wC=class{constructor({socket:e,request:t,contentLength:r,client:i,expectsPayload:s,header:o}){this.socket=e,this.request=t,this.contentLength=r,this.client=i,this.bytesWritten=0,this.expectsPayload=s,this.header=o,e[bs]=!0}write(e){let{socket:t,request:r,contentLength:i,client:s,bytesWritten:o,expectsPayload:a,header:A}=this;if(t[nn])throw t[nn];if(t.destroyed)return!1;let c=Buffer.byteLength(e);if(!c)return!0;if(i!==null&&o+c>i){if(s[ud])throw new Ss;process.emitWarning(new Ss)}t.cork(),o===0&&(a||(t[Rn]=!0),i===null?t.write(`${A}transfer-encoding: chunked\r
`,"latin1"):t.write(`${A}content-length: ${i}\r
\r
`,"latin1")),i===null&&t.write(`\r
${c.toString(16)}\r
`,"latin1"),this.bytesWritten+=c;let l=t.write(e);return t.uncork(),r.onBodySent(e),l||t[Et].timeout&&t[Et].timeoutType===Nl&&t[Et].timeout.refresh&&t[Et].timeout.refresh(),l}end(){let{socket:e,contentLength:t,client:r,bytesWritten:i,expectsPayload:s,header:o,request:a}=this;if(a.onRequestSent(),e[bs]=!1,e[nn])throw e[nn];if(!e.destroyed){if(i===0?s?e.write(`${o}content-length: 0\r
\r
`,"latin1"):e.write(`${o}\r
`,"latin1"):t===null&&e.write(`\r
0\r
\r
`,"latin1"),t!==null&&i!==t){if(r[ud])throw new Ss;process.emitWarning(new Ss)}e[Et].timeout&&e[Et].timeoutType===Nl&&e[Et].timeout.refresh&&e[Et].timeout.refresh(),ar(r)}}destroy(e){let{socket:t,client:r}=this;t[bs]=!1,e&&($(r[ut]<=1,"pipeline should only contain this request"),se.destroy(t,e))}};function Tn(n,e,t){try{e.onError(t),$(e.aborted)}catch(r){n.emit("error",r)}}g2.exports=wv});var p2=S((Yme,f2)=>{"use strict";var bC=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};f2.exports=class{constructor(){this.head=this.tail=new bC}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new bC),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),t}}});var C2=S((Hme,E2)=>{"use strict";var{kFree:Ose,kConnected:Pse,kPending:Vse,kQueued:Gse,kRunning:qse,kSize:Yse}=je(),sA=Symbol("pool"),Tv=class{constructor(e){this[sA]=e}get connected(){return this[sA][Pse]}get free(){return this[sA][Ose]}get pending(){return this[sA][Vse]}get queued(){return this[sA][Gse]}get running(){return this[sA][qse]}get size(){return this[sA][Yse]}};E2.exports=Tv});var Lv=S((Jme,D2)=>{"use strict";var Hse=id(),Jse=p2(),{kConnected:kv,kSize:m2,kRunning:I2,kPending:B2,kQueued:gd,kBusy:Wse,kFree:zse,kUrl:jse,kClose:Kse,kDestroy:Xse,kDispatch:$se}=je(),Zse=C2(),Yn=Symbol("clients"),kn=Symbol("needDrain"),fd=Symbol("queue"),Nv=Symbol("closed resolve"),_v=Symbol("onDrain"),y2=Symbol("onConnect"),Q2=Symbol("onDisconnect"),w2=Symbol("onConnectionError"),Fv=Symbol("get dispatcher"),b2=Symbol("add client"),v2=Symbol("remove client"),S2=Symbol("stats"),Mv=class extends Hse{constructor(){super(),this[fd]=new Jse,this[Yn]=[],this[gd]=0;let e=this;this[_v]=function(r,i){let s=e[fd],o=!1;for(;!o;){let a=s.shift();if(!a)break;e[gd]--,o=!this.dispatch(a.opts,a.handler)}this[kn]=o,!this[kn]&&e[kn]&&(e[kn]=!1,e.emit("drain",r,[e,...i])),e[Nv]&&s.isEmpty()&&Promise.all(e[Yn].map(a=>a.close())).then(e[Nv])},this[y2]=(t,r)=>{e.emit("connect",t,[e,...r])},this[Q2]=(t,r,i)=>{e.emit("disconnect",t,[e,...r],i)},this[w2]=(t,r,i)=>{e.emit("connectionError",t,[e,...r],i)},this[S2]=new Zse(this)}get[Wse](){return this[kn]}get[kv](){return this[Yn].filter(e=>e[kv]).length}get[zse](){return this[Yn].filter(e=>e[kv]&&!e[kn]).length}get[B2](){let e=this[gd];for(let{[B2]:t}of this[Yn])e+=t;return e}get[I2](){let e=0;for(let{[I2]:t}of this[Yn])e+=t;return e}get[m2](){let e=this[gd];for(let{[m2]:t}of this[Yn])e+=t;return e}get stats(){return this[S2]}[Kse](){return B(this,null,function*(){return this[fd].isEmpty()?Promise.all(this[Yn].map(e=>e.close())):new Promise(e=>{this[Nv]=e})})}[Xse](e){return B(this,null,function*(){for(;;){let t=this[fd].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[Yn].map(t=>t.destroy(e)))})}[$se](e,t){let r=this[Fv]();return r?r.dispatch(e,t)||(r[kn]=!0,this[kn]=!this[Fv]()):(this[kn]=!0,this[fd].push({opts:e,handler:t}),this[gd]++),!this[kn]}[b2](e){return e.on("drain",this[_v]).on("connect",this[y2]).on("disconnect",this[Q2]).on("connectionError",this[w2]),this[Yn].push(e),this[kn]&&process.nextTick(()=>{this[kn]&&this[_v](e[jse],[this,e])}),this}[v2](e){e.close(()=>{let t=this[Yn].indexOf(e);t!==-1&&this[Yn].splice(t,1)}),this[kn]=this[Yn].some(t=>!t[kn]&&t.closed!==!0&&t.destroyed!==!0)}};D2.exports={PoolBase:Mv,kClients:Yn,kNeedDrain:kn,kAddClient:b2,kRemoveClient:v2,kGetDispatcher:Fv}});var _l=S((zme,N2)=>{"use strict";var{PoolBase:eoe,kClients:R2,kNeedDrain:toe,kAddClient:noe,kGetDispatcher:roe}=Lv(),ioe=dd(),{InvalidArgumentError:Uv}=Ge(),xv=ve(),{kUrl:T2,kInterceptors:soe}=je(),ooe=sd(),Ov=Symbol("options"),Pv=Symbol("connections"),k2=Symbol("factory");function aoe(n,e){return new ioe(n,e)}var Vv=class extends eoe{constructor(e,d={}){var E=d,{connections:t,factory:r=aoe,connect:i,connectTimeout:s,tls:o,maxCachedSessions:a,socketPath:A,autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l,allowH2:u}=E,h=Mn(E,["connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2"]);if(super(),t!=null&&(!Number.isFinite(t)||t<0))throw new Uv("invalid connections");if(typeof r!="function")throw new Uv("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new Uv("connect must be a function or an object");typeof i!="function"&&(i=ooe(P(P(te(P({},o),{maxCachedSessions:a,allowH2:u,socketPath:A,timeout:s}),xv.nodeHasAutoSelectFamily&&c?{autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l}:void 0),i))),this[soe]=h.interceptors&&h.interceptors.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[Pv]=t||null,this[T2]=xv.parseOrigin(e),this[Ov]=te(P({},xv.deepClone(h)),{connect:i,allowH2:u}),this[Ov].interceptors=h.interceptors?P({},h.interceptors):void 0,this[k2]=r}[roe](){let e=this[R2].find(t=>!t[toe]);return e||((!this[Pv]||this[R2].length<this[Pv])&&(e=this[k2](this[T2],this[Ov]),this[noe](e)),e)}};N2.exports=Vv});var x2=S((Kme,U2)=>{"use strict";var{BalancedPoolMissingUpstreamError:Aoe,InvalidArgumentError:coe}=Ge(),{PoolBase:loe,kClients:Nn,kNeedDrain:pd,kAddClient:uoe,kRemoveClient:hoe,kGetDispatcher:doe}=Lv(),goe=_l(),{kUrl:Gv,kInterceptors:foe}=je(),{parseOrigin:_2}=ve(),F2=Symbol("factory"),vC=Symbol("options"),M2=Symbol("kGreatestCommonDivisor"),oA=Symbol("kCurrentWeight"),aA=Symbol("kIndex"),Tr=Symbol("kWeight"),DC=Symbol("kMaxWeightPerServer"),RC=Symbol("kErrorPenalty");function L2(n,e){return e===0?n:L2(e,n%e)}function poe(n,e){return new goe(n,e)}var qv=class extends loe{constructor(e=[],i={}){var s=i,{factory:t=poe}=s,r=Mn(s,["factory"]);if(super(),this[vC]=r,this[aA]=-1,this[oA]=0,this[DC]=this[vC].maxWeightPerServer||100,this[RC]=this[vC].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof t!="function")throw new coe("factory must be a function.");this[foe]=r.interceptors&&r.interceptors.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[F2]=t;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let t=_2(e).origin;if(this[Nn].find(i=>i[Gv].origin===t&&i.closed!==!0&&i.destroyed!==!0))return this;let r=this[F2](t,Object.assign({},this[vC]));this[uoe](r),r.on("connect",()=>{r[Tr]=Math.min(this[DC],r[Tr]+this[RC])}),r.on("connectionError",()=>{r[Tr]=Math.max(1,r[Tr]-this[RC]),this._updateBalancedPoolStats()}),r.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(r[Tr]=Math.max(1,r[Tr]-this[RC]),this._updateBalancedPoolStats())});for(let i of this[Nn])i[Tr]=this[DC];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[M2]=this[Nn].map(e=>e[Tr]).reduce(L2,0)}removeUpstream(e){let t=_2(e).origin,r=this[Nn].find(i=>i[Gv].origin===t&&i.closed!==!0&&i.destroyed!==!0);return r&&this[hoe](r),this}get upstreams(){return this[Nn].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[Gv].origin)}[doe](){if(this[Nn].length===0)throw new Aoe;if(!this[Nn].find(s=>!s[pd]&&s.closed!==!0&&s.destroyed!==!0)||this[Nn].map(s=>s[pd]).reduce((s,o)=>s&&o,!0))return;let r=0,i=this[Nn].findIndex(s=>!s[pd]);for(;r++<this[Nn].length;){this[aA]=(this[aA]+1)%this[Nn].length;let s=this[Nn][this[aA]];if(s[Tr]>this[Nn][i][Tr]&&!s[pd]&&(i=this[aA]),this[aA]===0&&(this[oA]=this[oA]-this[M2],this[oA]<=0&&(this[oA]=this[DC])),s[Tr]>=this[oA]&&!s[pd])return s}return this[oA]=this[Nn][i][Tr],this[aA]=i,this[Nn][i]}};U2.exports=qv});var Yv=S(($me,V2)=>{"use strict";var{kConnected:O2,kSize:P2}=je(),TC=class{constructor(e){this.value=e}deref(){return this.value[O2]===0&&this.value[P2]===0?void 0:this.value}},kC=class{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{e[O2]===0&&e[P2]===0&&this.finalizer(t)})}};V2.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:TC,FinalizationRegistry:kC}:{WeakRef:global.WeakRef||TC,FinalizationRegistry:global.FinalizationRegistry||kC}}});var Ed=S((Zme,j2)=>{"use strict";var{InvalidArgumentError:NC}=Ge(),{kClients:jo,kRunning:G2,kClose:Eoe,kDestroy:Coe,kDispatch:moe,kInterceptors:Ioe}=je(),Boe=id(),yoe=_l(),Qoe=dd(),woe=ve(),Soe=pC(),{WeakRef:boe,FinalizationRegistry:voe}=Yv()(),q2=Symbol("onConnect"),Y2=Symbol("onDisconnect"),H2=Symbol("onConnectionError"),Doe=Symbol("maxRedirections"),J2=Symbol("onDrain"),W2=Symbol("factory"),z2=Symbol("finalizer"),Hv=Symbol("options");function Roe(n,e){return e&&e.connections===1?new Qoe(n,e):new yoe(n,e)}var Jv=class extends Boe{constructor(s={}){var o=s,{factory:e=Roe,maxRedirections:t=0,connect:r}=o,i=Mn(o,["factory","maxRedirections","connect"]);if(super(),typeof e!="function")throw new NC("factory must be a function.");if(r!=null&&typeof r!="function"&&typeof r!="object")throw new NC("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new NC("maxRedirections must be a positive number");r&&typeof r!="function"&&(r=P({},r)),this[Ioe]=i.interceptors&&i.interceptors.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[Soe({maxRedirections:t})],this[Hv]=te(P({},woe.deepClone(i)),{connect:r}),this[Hv].interceptors=i.interceptors?P({},i.interceptors):void 0,this[Doe]=t,this[W2]=e,this[jo]=new Map,this[z2]=new voe(A=>{let c=this[jo].get(A);c!==void 0&&c.deref()===void 0&&this[jo].delete(A)});let a=this;this[J2]=(A,c)=>{a.emit("drain",A,[a,...c])},this[q2]=(A,c)=>{a.emit("connect",A,[a,...c])},this[Y2]=(A,c,l)=>{a.emit("disconnect",A,[a,...c],l)},this[H2]=(A,c,l)=>{a.emit("connectionError",A,[a,...c],l)}}get[G2](){let e=0;for(let t of this[jo].values()){let r=t.deref();r&&(e+=r[G2])}return e}[moe](e,t){let r;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))r=String(e.origin);else throw new NC("opts.origin must be a non-empty string or URL.");let i=this[jo].get(r),s=i?i.deref():null;return s||(s=this[W2](e.origin,this[Hv]).on("drain",this[J2]).on("connect",this[q2]).on("disconnect",this[Y2]).on("connectionError",this[H2]),this[jo].set(r,new boe(s)),this[z2].register(s,r)),s.dispatch(e,t)}[Eoe](){return B(this,null,function*(){let e=[];for(let t of this[jo].values()){let r=t.deref();r&&e.push(r.close())}yield Promise.all(e)})}[Coe](e){return B(this,null,function*(){let t=[];for(let r of this[jo].values()){let i=r.deref();i&&t.push(i.destroy(e))}yield Promise.all(t)})}};j2.exports=Jv});var iP=S((nIe,rP)=>{"use strict";var Z2=F("assert"),{Readable:Toe}=F("stream"),{RequestAbortedError:eP,NotSupportedError:koe,InvalidArgumentError:Noe}=Ge(),MC=ve(),{ReadableStreamFrom:_oe,toUSVString:Foe}=ve(),Wv,Ar=Symbol("kConsume"),_C=Symbol("kReading"),Ko=Symbol("kBody"),K2=Symbol("abort"),tP=Symbol("kContentType"),X2=()=>{};rP.exports=class extends Toe{constructor({resume:e,abort:t,contentType:r="",highWaterMark:i=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:i}),this._readableState.dataEmitted=!1,this[K2]=t,this[Ar]=null,this[Ko]=null,this[tP]=r,this[_C]=!1}destroy(e){return this.destroyed?this:(!e&&!this._readableState.endEmitted&&(e=new eP),e&&this[K2](),super.destroy(e))}emit(e,...t){return e==="data"?this._readableState.dataEmitted=!0:e==="error"&&(this._readableState.errorEmitted=!0),super.emit(e,...t)}on(e,...t){return(e==="data"||e==="readable")&&(this[_C]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return(e==="data"||e==="readable")&&(this[_C]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[Ar]&&e!==null&&this.readableLength===0?(nP(this[Ar],e),this[_C]?super.push(e):!0):super.push(e)}text(){return B(this,null,function*(){return FC(this,"text")})}json(){return B(this,null,function*(){return FC(this,"json")})}blob(){return B(this,null,function*(){return FC(this,"blob")})}arrayBuffer(){return B(this,null,function*(){return FC(this,"arrayBuffer")})}formData(){return B(this,null,function*(){throw new koe})}get bodyUsed(){return MC.isDisturbed(this)}get body(){return this[Ko]||(this[Ko]=_oe(this),this[Ar]&&(this[Ko].getReader(),Z2(this[Ko].locked))),this[Ko]}dump(e){let t=e&&Number.isFinite(e.limit)?e.limit:262144,r=e&&e.signal;if(r)try{if(typeof r!="object"||!("aborted"in r))throw new Noe("signal must be an AbortSignal");MC.throwIfAborted(r)}catch(i){return Promise.reject(i)}return this.closed?Promise.resolve(null):new Promise((i,s)=>{let o=r?MC.addAbortListener(r,()=>{this.destroy()}):X2;this.on("close",function(){o(),r&&r.aborted?s(r.reason||Object.assign(new Error("The operation was aborted"),{name:"AbortError"})):i(null)}).on("error",X2).on("data",function(a){t-=a.length,t<=0&&this.destroy()}).resume()})}};function Moe(n){return n[Ko]&&n[Ko].locked===!0||n[Ar]}function Loe(n){return MC.isDisturbed(n)||Moe(n)}function FC(n,e){return B(this,null,function*(){if(Loe(n))throw new TypeError("unusable");return Z2(!n[Ar]),new Promise((t,r)=>{n[Ar]={type:e,stream:n,resolve:t,reject:r,length:0,body:[]},n.on("error",function(i){zv(this[Ar],i)}).on("close",function(){this[Ar].body!==null&&zv(this[Ar],new eP)}),process.nextTick(Uoe,n[Ar])})})}function Uoe(n){if(n.body===null)return;let{_readableState:e}=n.stream;for(let t of e.buffer)nP(n,t);for(e.endEmitted?$2(this[Ar]):n.stream.on("end",function(){$2(this[Ar])}),n.stream.resume();n.stream.read()!=null;);}function $2(n){let{type:e,body:t,resolve:r,stream:i,length:s}=n;try{if(e==="text")r(Foe(Buffer.concat(t)));else if(e==="json")r(JSON.parse(Buffer.concat(t)));else if(e==="arrayBuffer"){let o=new Uint8Array(s),a=0;for(let A of t)o.set(A,a),a+=A.byteLength;r(o.buffer)}else e==="blob"&&(Wv||(Wv=F("buffer").Blob),r(new Wv(t,{type:i[tP]})));zv(n)}catch(o){i.destroy(o)}}function nP(n,e){n.length+=e.length,n.body.push(e)}function zv(n,e){n.body!==null&&(e?n.reject(e):n.resolve(),n.type=null,n.stream=null,n.resolve=null,n.reject=null,n.length=0,n.body=null)}});var jv=S((iIe,oP)=>{"use strict";var xoe=F("assert"),{ResponseStatusCodeError:LC}=Ge(),{toUSVString:sP}=ve();function Ooe(o){return B(this,arguments,function*({callback:n,body:e,contentType:t,statusCode:r,statusMessage:i,headers:s}){xoe(e);let a=[],A=0;try{for(var c=Ln(e),l,u,h;l=!(u=yield c.next()).done;l=!1){let d=u.value;if(a.push(d),A+=d.length,A>128*1024){a=null;break}}}catch{h=[u]}finally{try{l&&(u=c.return)&&(yield u.call(c))}finally{if(h)throw h[0]}}if(r===204||!t||!a){process.nextTick(n,new LC(`Response status code ${r}${i?`: ${i}`:""}`,r,s));return}try{if(t.startsWith("application/json")){let d=JSON.parse(sP(Buffer.concat(a)));process.nextTick(n,new LC(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}if(t.startsWith("text/")){let d=sP(Buffer.concat(a));process.nextTick(n,new LC(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}}catch{}process.nextTick(n,new LC(`Response status code ${r}${i?`: ${i}`:""}`,r,s))})}oP.exports={getResolveErrorBodyCallback:Ooe}});var Ml=S((oIe,AP)=>{"use strict";var{addAbortListener:Poe}=ve(),{RequestAbortedError:Voe}=Ge(),Fl=Symbol("kListener"),Xo=Symbol("kSignal");function aP(n){n.abort?n.abort():n.onError(new Voe)}function Goe(n,e){if(n[Xo]=null,n[Fl]=null,!!e){if(e.aborted){aP(n);return}n[Xo]=e,n[Fl]=()=>{aP(n)},Poe(n[Xo],n[Fl])}}function qoe(n){n[Xo]&&("removeEventListener"in n[Xo]?n[Xo].removeEventListener("abort",n[Fl]):n[Xo].removeListener("abort",n[Fl]),n[Xo]=null,n[Fl]=null)}AP.exports={addSignal:Goe,removeSignal:qoe}});var uP=S((aIe,Kv)=>{"use strict";var Yoe=iP(),{InvalidArgumentError:Ll,RequestAbortedError:Hoe}=Ge(),zi=ve(),{getResolveErrorBodyCallback:Joe}=jv(),{AsyncResource:Woe}=F("async_hooks"),{addSignal:zoe,removeSignal:cP}=Ml(),UC=class extends Woe{constructor(e,t){if(!e||typeof e!="object")throw new Ll("invalid opts");let{signal:r,method:i,opaque:s,body:o,onInfo:a,responseHeaders:A,throwOnError:c,highWaterMark:l}=e;try{if(typeof t!="function")throw new Ll("invalid callback");if(l&&(typeof l!="number"||l<0))throw new Ll("invalid highWaterMark");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Ll("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Ll("invalid method");if(a&&typeof a!="function")throw new Ll("invalid onInfo callback");super("UNDICI_REQUEST")}catch(u){throw zi.isStream(o)&&zi.destroy(o.on("error",zi.nop),u),u}this.responseHeaders=A||null,this.opaque=s||null,this.callback=t,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=c,this.highWaterMark=l,zi.isStream(o)&&o.on("error",u=>{this.onError(u)}),zoe(this,r)}onConnect(e,t){if(!this.callback)throw new Hoe;this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:o,abort:a,context:A,responseHeaders:c,highWaterMark:l}=this,u=c==="raw"?zi.parseRawHeaders(t):zi.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}let d=(c==="raw"?zi.parseHeaders(t):u)["content-type"],E=new Yoe({resume:r,abort:a,contentType:d,highWaterMark:l});this.callback=null,this.res=E,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(Joe,null,{callback:s,body:E,contentType:d,statusCode:e,statusMessage:i,headers:u}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:u,trailers:this.trailers,opaque:o,body:E,context:A}))}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;cP(this),zi.parseHeaders(e,this.trailers),t.push(null)}onError(e){let{res:t,callback:r,body:i,opaque:s}=this;cP(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:s})})),t&&(this.res=null,queueMicrotask(()=>{zi.destroy(t,e)})),i&&(this.body=null,zi.destroy(i,e))}};function lP(n,e){if(e===void 0)return new Promise((t,r)=>{lP.call(this,n,(i,s)=>i?r(i):t(s))});try{this.dispatch(n,new UC(n,e))}catch(t){if(typeof e!="function")throw t;let r=n&&n.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}Kv.exports=lP;Kv.exports.RequestHandler=UC});var fP=S((AIe,gP)=>{"use strict";var{finished:joe,PassThrough:Koe}=F("stream"),{InvalidArgumentError:Ul,InvalidReturnValueError:Xoe,RequestAbortedError:$oe}=Ge(),ii=ve(),{getResolveErrorBodyCallback:Zoe}=jv(),{AsyncResource:eae}=F("async_hooks"),{addSignal:tae,removeSignal:hP}=Ml(),Xv=class extends eae{constructor(e,t,r){if(!e||typeof e!="object")throw new Ul("invalid opts");let{signal:i,method:s,opaque:o,body:a,onInfo:A,responseHeaders:c,throwOnError:l}=e;try{if(typeof r!="function")throw new Ul("invalid callback");if(typeof t!="function")throw new Ul("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new Ul("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new Ul("invalid method");if(A&&typeof A!="function")throw new Ul("invalid onInfo callback");super("UNDICI_STREAM")}catch(u){throw ii.isStream(a)&&ii.destroy(a.on("error",ii.nop),u),u}this.responseHeaders=c||null,this.opaque=o||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=A||null,this.throwOnError=l||!1,ii.isStream(a)&&a.on("error",u=>{this.onError(u)}),tae(this,i)}onConnect(e,t){if(!this.callback)throw new $oe;this.abort=e,this.context=t}onHeaders(e,t,r,i){let{factory:s,opaque:o,context:a,callback:A,responseHeaders:c}=this,l=c==="raw"?ii.parseRawHeaders(t):ii.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:l});return}this.factory=null;let u;if(this.throwOnError&&e>=400){let E=(c==="raw"?ii.parseHeaders(t):l)["content-type"];u=new Koe,this.callback=null,this.runInAsyncScope(Zoe,null,{callback:A,body:u,contentType:E,statusCode:e,statusMessage:i,headers:l})}else{if(s===null)return;if(u=this.runInAsyncScope(s,null,{statusCode:e,headers:l,opaque:o,context:a}),!u||typeof u.write!="function"||typeof u.end!="function"||typeof u.on!="function")throw new Xoe("expected Writable");joe(u,{readable:!1},d=>{let{callback:E,res:I,opaque:m,trailers:D,abort:v}=this;this.res=null,(d||!I.readable)&&ii.destroy(I,d),this.callback=null,this.runInAsyncScope(E,null,d||null,{opaque:m,trailers:D}),d&&v()})}return u.on("drain",r),this.res=u,(u.writableNeedDrain!==void 0?u.writableNeedDrain:u._writableState&&u._writableState.needDrain)!==!0}onData(e){let{res:t}=this;return t?t.write(e):!0}onComplete(e){let{res:t}=this;hP(this),t&&(this.trailers=ii.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:i,body:s}=this;hP(this),this.factory=null,t?(this.res=null,ii.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),s&&(this.body=null,ii.destroy(s,e))}};function dP(n,e,t){if(t===void 0)return new Promise((r,i)=>{dP.call(this,n,e,(s,o)=>s?i(s):r(o))});try{this.dispatch(n,new Xv(n,e,t))}catch(r){if(typeof t!="function")throw r;let i=n&&n.opaque;queueMicrotask(()=>t(r,{opaque:i}))}}gP.exports=dP});var CP=S((cIe,EP)=>{"use strict";var{Readable:pP,Duplex:nae,PassThrough:rae}=F("stream"),{InvalidArgumentError:Cd,InvalidReturnValueError:iae,RequestAbortedError:xC}=Ge(),kr=ve(),{AsyncResource:sae}=F("async_hooks"),{addSignal:oae,removeSignal:aae}=Ml(),Aae=F("assert"),xl=Symbol("resume"),$v=class extends pP{constructor(){super({autoDestroy:!0}),this[xl]=null}_read(){let{[xl]:e}=this;e&&(this[xl]=null,e())}_destroy(e,t){this._read(),t(e)}},Zv=class extends pP{constructor(e){super({autoDestroy:!0}),this[xl]=e}_read(){this[xl]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new xC),t(e)}},eD=class extends sae{constructor(e,t){if(!e||typeof e!="object")throw new Cd("invalid opts");if(typeof t!="function")throw new Cd("invalid handler");let{signal:r,method:i,opaque:s,onInfo:o,responseHeaders:a}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Cd("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Cd("invalid method");if(o&&typeof o!="function")throw new Cd("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=a||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new $v().on("error",kr.nop),this.ret=new nae({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:A}=this;A&&A.resume&&A.resume()},write:(A,c,l)=>{let{req:u}=this;u.push(A,c)||u._readableState.destroyed?l():u[xl]=l},destroy:(A,c)=>{let{body:l,req:u,res:h,ret:d,abort:E}=this;!A&&!d._readableState.endEmitted&&(A=new xC),E&&A&&E(),kr.destroy(l,A),kr.destroy(u,A),kr.destroy(h,A),aae(this),c(A)}}).on("prefinish",()=>{let{req:A}=this;A.push(null)}),this.res=null,oae(this,r)}onConnect(e,t){let{ret:r,res:i}=this;if(Aae(!i,"pipeline cannot be retried"),r.destroyed)throw new xC;this.abort=e,this.context=t}onHeaders(e,t,r){let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let A=this.responseHeaders==="raw"?kr.parseRawHeaders(t):kr.parseHeaders(t);this.onInfo({statusCode:e,headers:A})}return}this.res=new Zv(r);let a;try{this.handler=null;let A=this.responseHeaders==="raw"?kr.parseRawHeaders(t):kr.parseHeaders(t);a=this.runInAsyncScope(s,null,{statusCode:e,headers:A,opaque:i,body:this.res,context:o})}catch(A){throw this.res.on("error",kr.nop),A}if(!a||typeof a.on!="function")throw new iae("expected Readable");a.on("data",A=>{let{ret:c,body:l}=this;!c.push(A)&&l.pause&&l.pause()}).on("error",A=>{let{ret:c}=this;kr.destroy(c,A)}).on("end",()=>{let{ret:A}=this;A.push(null)}).on("close",()=>{let{ret:A}=this;A._readableState.ended||kr.destroy(A,new xC)}),this.body=a}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,kr.destroy(t,e)}};function cae(n,e){try{let t=new eD(n,e);return this.dispatch(te(P({},n),{body:t.req}),t),t.ret}catch(t){return new rae().destroy(t)}}EP.exports=cae});var QP=S((uIe,yP)=>{"use strict";var{InvalidArgumentError:tD,RequestAbortedError:lae,SocketError:uae}=Ge(),{AsyncResource:hae}=F("async_hooks"),mP=ve(),{addSignal:dae,removeSignal:IP}=Ml(),gae=F("assert"),nD=class extends hae{constructor(e,t){if(!e||typeof e!="object")throw new tD("invalid opts");if(typeof t!="function")throw new tD("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new tD("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=t,this.abort=null,this.context=null,dae(this,r)}onConnect(e,t){if(!this.callback)throw new lae;this.abort=e,this.context=null}onHeaders(){throw new uae("bad upgrade",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;gae.strictEqual(e,101),IP(this),this.callback=null;let a=this.responseHeaders==="raw"?mP.parseRawHeaders(t):mP.parseHeaders(t);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;IP(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function BP(n,e){if(e===void 0)return new Promise((t,r)=>{BP.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new nD(n,e);this.dispatch(te(P({},n),{method:n.method||"GET",upgrade:n.protocol||"Websocket"}),t)}catch(t){if(typeof e!="function")throw t;let r=n&&n.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}yP.exports=BP});var DP=S((dIe,vP)=>{"use strict";var{AsyncResource:fae}=F("async_hooks"),{InvalidArgumentError:rD,RequestAbortedError:pae,SocketError:Eae}=Ge(),wP=ve(),{addSignal:Cae,removeSignal:SP}=Ml(),iD=class extends fae{constructor(e,t){if(!e||typeof e!="object")throw new rD("invalid opts");if(typeof t!="function")throw new rD("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new rD("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=t,this.abort=null,Cae(this,r)}onConnect(e,t){if(!this.callback)throw new pae;this.abort=e,this.context=t}onHeaders(){throw new Eae("bad connect",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;SP(this),this.callback=null;let a=t;a!=null&&(a=this.responseHeaders==="raw"?wP.parseRawHeaders(t):wP.parseHeaders(t)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;SP(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function bP(n,e){if(e===void 0)return new Promise((t,r)=>{bP.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new iD(n,e);this.dispatch(te(P({},n),{method:"CONNECT"}),t)}catch(t){if(typeof e!="function")throw t;let r=n&&n.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}vP.exports=bP});var RP=S((fIe,Ol)=>{"use strict";Ol.exports.request=uP();Ol.exports.stream=fP();Ol.exports.pipeline=CP();Ol.exports.upgrade=QP();Ol.exports.connect=DP()});var oD=S((pIe,TP)=>{"use strict";var{UndiciError:mae}=Ge(),sD=class n extends mae{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};TP.exports={MockNotMatchedError:sD}});var Pl=S((EIe,kP)=>{"use strict";kP.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var md=S((CIe,qP)=>{"use strict";var{MockNotMatchedError:AA}=oD(),{kDispatches:OC,kMockAgent:Iae,kOriginalDispatch:Bae,kOrigin:yae,kGetNetConnect:Qae}=Pl(),{buildURL:wae,nop:Sae}=ve(),{STATUS_CODES:bae}=F("http"),{types:{isPromise:vae}}=F("util");function vs(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):typeof n=="function"?n(e)===!0:!1}function _P(n){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function FP(n,e){if(Array.isArray(n)){for(let t=0;t<n.length;t+=2)if(n[t].toLocaleLowerCase()===e.toLocaleLowerCase())return n[t+1];return}else return typeof n.get=="function"?n.get(e):_P(n)[e.toLocaleLowerCase()]}function MP(n){let e=n.slice(),t=[];for(let r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return Object.fromEntries(t)}function LP(n,e){if(typeof n.headers=="function")return Array.isArray(e)&&(e=MP(e)),n.headers(e?_P(e):{});if(typeof n.headers>"u")return!0;if(typeof e!="object"||typeof n.headers!="object")return!1;for(let[t,r]of Object.entries(n.headers)){let i=FP(e,t);if(!vs(r,i))return!1}return!0}function NP(n){if(typeof n!="string")return n;let e=n.split("?");if(e.length!==2)return n;let t=new URLSearchParams(e.pop());return t.sort(),[...e,t.toString()].join("?")}function Dae(n,{path:e,method:t,body:r,headers:i}){let s=vs(n.path,e),o=vs(n.method,t),a=typeof n.body<"u"?vs(n.body,r):!0,A=LP(n,i);return s&&o&&a&&A}function UP(n){return Buffer.isBuffer(n)?n:typeof n=="object"?JSON.stringify(n):n.toString()}function xP(n,e){let t=e.query?wae(e.path,e.query):e.path,r=typeof t=="string"?NP(t):t,i=n.filter(({consumed:s})=>!s).filter(({path:s})=>vs(NP(s),r));if(i.length===0)throw new AA(`Mock dispatch not matched for path '${r}'`);if(i=i.filter(({method:s})=>vs(s,e.method)),i.length===0)throw new AA(`Mock dispatch not matched for method '${e.method}'`);if(i=i.filter(({body:s})=>typeof s<"u"?vs(s,e.body):!0),i.length===0)throw new AA(`Mock dispatch not matched for body '${e.body}'`);if(i=i.filter(s=>LP(s,e.headers)),i.length===0)throw new AA(`Mock dispatch not matched for headers '${typeof e.headers=="object"?JSON.stringify(e.headers):e.headers}'`);return i[0]}function Rae(n,e,t){let r={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof t=="function"?{callback:t}:P({},t),s=te(P(P({},r),e),{pending:!0,data:P({error:null},i)});return n.push(s),s}function aD(n,e){let t=n.findIndex(r=>r.consumed?Dae(r,e):!1);t!==-1&&n.splice(t,1)}function OP(n){let{path:e,method:t,body:r,headers:i,query:s}=n;return{path:e,method:t,body:r,headers:i,query:s}}function AD(n){return Object.entries(n).reduce((e,[t,r])=>[...e,Buffer.from(`${t}`),Array.isArray(r)?r.map(i=>Buffer.from(`${i}`)):Buffer.from(`${r}`)],[])}function PP(n){return bae[n]||"unknown"}function Tae(n){return B(this,null,function*(){let e=[];try{for(var t=Ln(n),r,i,s;r=!(i=yield t.next()).done;r=!1){let o=i.value;e.push(o)}}catch{s=[i]}finally{try{r&&(i=t.return)&&(yield i.call(t))}finally{if(s)throw s[0]}}return Buffer.concat(e).toString("utf8")})}function VP(n,e){let t=OP(n),r=xP(this[OC],t);r.timesInvoked++,r.data.callback&&(r.data=P(P({},r.data),r.data.callback(n)));let{data:{statusCode:i,data:s,headers:o,trailers:a,error:A},delay:c,persist:l}=r,{timesInvoked:u,times:h}=r;if(r.consumed=!l&&u>=h,r.pending=u<h,A!==null)return aD(this[OC],t),e.onError(A),!0;typeof c=="number"&&c>0?setTimeout(()=>{d(this[OC])},c):d(this[OC]);function d(I,m=s){let D=Array.isArray(n.headers)?MP(n.headers):n.headers,v=typeof m=="function"?m(te(P({},n),{headers:D})):m;if(vae(v)){v.then(L=>d(I,L));return}let k=UP(v),T=AD(o),_=AD(a);e.abort=Sae,e.onHeaders(i,T,E,PP(i)),e.onData(Buffer.from(k)),e.onComplete(_),aD(I,t)}function E(){}return!0}function kae(){let n=this[Iae],e=this[yae],t=this[Bae];return function(i,s){if(n.isMockActive)try{VP.call(this,i,s)}catch(o){if(o instanceof AA){let a=n[Qae]();if(a===!1)throw new AA(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(GP(a,e))t.call(this,i,s);else throw new AA(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else t.call(this,i,s)}}function GP(n,e){let t=new URL(e);return n===!0?!0:!!(Array.isArray(n)&&n.some(r=>vs(r,t.host)))}function Nae(n){if(n){let e=n,{agent:t}=e;return Mn(e,["agent"])}}qP.exports={getResponseData:UP,getMockDispatch:xP,addMockDispatch:Rae,deleteMockDispatch:aD,buildKey:OP,generateKeyValues:AD,matchValue:vs,getResponse:Tae,getStatusText:PP,mockDispatch:VP,buildMockDispatch:kae,checkNetConnect:GP,buildMockOptions:Nae,getHeaderByName:FP}});var fD=S((IIe,gD)=>{"use strict";var{getResponseData:_ae,buildKey:Fae,addMockDispatch:cD}=md(),{kDispatches:PC,kDispatchKey:VC,kDefaultHeaders:lD,kDefaultTrailers:uD,kContentLength:hD,kMockDispatch:GC}=Pl(),{InvalidArgumentError:si}=Ge(),{buildURL:Mae}=ve(),Vl=class{constructor(e){this[GC]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new si("waitInMs must be a valid integer > 0");return this[GC].delay=e,this}persist(){return this[GC].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new si("repeatTimes must be a valid integer > 0");return this[GC].times=e,this}},dD=class{constructor(e,t){if(typeof e!="object")throw new si("opts must be an object");if(typeof e.path>"u")throw new si("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=Mae(e.path,e.query);else{let r=new URL(e.path,"data://");e.path=r.pathname+r.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[VC]=Fae(e),this[PC]=t,this[lD]={},this[uD]={},this[hD]=!1}createMockScopeDispatchData(e,t,r={}){let i=_ae(t),s=this[hD]?{"content-length":i.length}:{},o=P(P(P({},this[lD]),s),r.headers),a=P(P({},this[uD]),r.trailers);return{statusCode:e,data:t,headers:o,trailers:a}}validateReplyParameters(e,t,r){if(typeof e>"u")throw new si("statusCode must be defined");if(typeof t>"u")throw new si("data must be defined");if(typeof r!="object")throw new si("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=c=>{let l=e(c);if(typeof l!="object")throw new si("reply options callback must return an object");let{statusCode:u,data:h="",responseOptions:d={}}=l;return this.validateReplyParameters(u,h,d),P({},this.createMockScopeDispatchData(u,h,d))},A=cD(this[PC],this[VC],a);return new Vl(A)}let[t,r="",i={}]=[...arguments];this.validateReplyParameters(t,r,i);let s=this.createMockScopeDispatchData(t,r,i),o=cD(this[PC],this[VC],s);return new Vl(o)}replyWithError(e){if(typeof e>"u")throw new si("error must be defined");let t=cD(this[PC],this[VC],{error:e});return new Vl(t)}defaultReplyHeaders(e){if(typeof e>"u")throw new si("headers must be defined");return this[lD]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new si("trailers must be defined");return this[uD]=e,this}replyContentLength(){return this[hD]=!0,this}};gD.exports.MockInterceptor=dD;gD.exports.MockScope=Vl});var CD=S((yIe,KP)=>{"use strict";var{promisify:Lae}=F("util"),Uae=dd(),{buildMockDispatch:xae}=md(),{kDispatches:YP,kMockAgent:HP,kClose:JP,kOriginalClose:WP,kOrigin:zP,kOriginalDispatch:Oae,kConnected:pD}=Pl(),{MockInterceptor:Pae}=fD(),jP=je(),{InvalidArgumentError:Vae}=Ge(),ED=class extends Uae{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new Vae("Argument opts.agent must implement Agent");this[HP]=t.agent,this[zP]=e,this[YP]=[],this[pD]=1,this[Oae]=this.dispatch,this[WP]=this.close.bind(this),this.dispatch=xae.call(this),this.close=this[JP]}get[jP.kConnected](){return this[pD]}intercept(e){return new Pae(e,this[YP])}[JP](){return B(this,null,function*(){yield Lae(this[WP])(),this[pD]=0,this[HP][jP.kClients].delete(this[zP])})}};KP.exports=ED});var BD=S((wIe,rV)=>{"use strict";var{promisify:Gae}=F("util"),qae=_l(),{buildMockDispatch:Yae}=md(),{kDispatches:XP,kMockAgent:$P,kClose:ZP,kOriginalClose:eV,kOrigin:tV,kOriginalDispatch:Hae,kConnected:mD}=Pl(),{MockInterceptor:Jae}=fD(),nV=je(),{InvalidArgumentError:Wae}=Ge(),ID=class extends qae{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new Wae("Argument opts.agent must implement Agent");this[$P]=t.agent,this[tV]=e,this[XP]=[],this[mD]=1,this[Hae]=this.dispatch,this[eV]=this.close.bind(this),this.dispatch=Yae.call(this),this.close=this[ZP]}get[nV.kConnected](){return this[mD]}intercept(e){return new Jae(e,this[XP])}[ZP](){return B(this,null,function*(){yield Gae(this[eV])(),this[mD]=0,this[$P][nV.kClients].delete(this[tV])})}};rV.exports=ID});var sV=S((vIe,iV)=>{"use strict";var zae={pronoun:"it",is:"is",was:"was",this:"this"},jae={pronoun:"they",is:"are",was:"were",this:"these"};iV.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let t=e===1,r=t?zae:jae,i=t?this.singular:this.plural;return te(P({},r),{count:e,noun:i})}}});var aV=S((TIe,oV)=>{"use strict";var{Transform:Kae}=F("stream"),{Console:Xae}=F("console");oV.exports=class{constructor({disableColors:e}={}){this.transform=new Kae({transform(t,r,i){i(null,t)}}),this.logger=new Xae({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:r,path:i,data:{statusCode:s},persist:o,times:a,timesInvoked:A,origin:c})=>({Method:r,Origin:c,Path:i,"Status code":s,Persistent:o?"\u2705":"\u274C",Invocations:A,Remaining:o?1/0:a-A}));return this.logger.table(t),this.transform.read().toString()}}});var uV=S((kIe,lV)=>{"use strict";var{kClients:cA}=je(),$ae=Ed(),{kAgent:yD,kMockAgentSet:qC,kMockAgentGet:AV,kDispatches:QD,kIsMockActive:YC,kNetConnect:lA,kGetNetConnect:Zae,kOptions:HC,kFactory:JC}=Pl(),eAe=CD(),tAe=BD(),{matchValue:nAe,buildMockOptions:rAe}=md(),{InvalidArgumentError:cV,UndiciError:iAe}=Ge(),sAe=hC(),oAe=sV(),aAe=aV(),wD=class{constructor(e){this.value=e}deref(){return this.value}},SD=class extends sAe{constructor(e){if(super(e),this[lA]=!0,this[YC]=!0,e&&e.agent&&typeof e.agent.dispatch!="function")throw new cV("Argument opts.agent must implement Agent");let t=e&&e.agent?e.agent:new $ae(e);this[yD]=t,this[cA]=t[cA],this[HC]=rAe(e)}get(e){let t=this[AV](e);return t||(t=this[JC](e),this[qC](e,t)),t}dispatch(e,t){return this.get(e.origin),this[yD].dispatch(e,t)}close(){return B(this,null,function*(){yield this[yD].close(),this[cA].clear()})}deactivate(){this[YC]=!1}activate(){this[YC]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[lA])?this[lA].push(e):this[lA]=[e];else if(typeof e>"u")this[lA]=!0;else throw new cV("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[lA]=!1}get isMockActive(){return this[YC]}[qC](e,t){this[cA].set(e,new wD(t))}[JC](e){let t=Object.assign({agent:this},this[HC]);return this[HC]&&this[HC].connections===1?new eAe(e,t):new tAe(e,t)}[AV](e){let t=this[cA].get(e);if(t)return t.deref();if(typeof e!="string"){let r=this[JC]("http://localhost:9999");return this[qC](e,r),r}for(let[r,i]of Array.from(this[cA])){let s=i.deref();if(s&&typeof r!="string"&&nAe(r,e)){let o=this[JC](e);return this[qC](e,o),o[QD]=s[QD],o}}}[Zae](){return this[lA]}pendingInterceptors(){let e=this[cA];return Array.from(e.entries()).flatMap(([t,r])=>r.deref()[QD].map(i=>te(P({},i),{origin:t}))).filter(({pending:t})=>t)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new aAe}={}){let t=this.pendingInterceptors();if(t.length===0)return;let r=new oAe("interceptor","interceptors").pluralize(t.length);throw new iAe(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}};lV.exports=SD});var EV=S((_Ie,pV)=>{"use strict";var{kProxy:AAe,kClose:cAe,kDestroy:lAe,kInterceptors:uAe}=je(),{URL:hV}=F("url"),dV=Ed(),hAe=_l(),dAe=id(),{InvalidArgumentError:yd,RequestAbortedError:gAe}=Ge(),gV=sd(),Id=Symbol("proxy agent"),WC=Symbol("proxy client"),Bd=Symbol("proxy headers"),bD=Symbol("request tls settings"),fAe=Symbol("proxy tls settings"),fV=Symbol("connect endpoint function");function pAe(n){return n==="https:"?443:80}function EAe(n){if(typeof n=="string"&&(n={uri:n}),!n||!n.uri)throw new yd("Proxy opts.uri is mandatory");return{uri:n.uri,protocol:n.protocol||"https"}}function CAe(n,e){return new hAe(n,e)}var vD=class extends dAe{constructor(e){if(super(e),this[AAe]=EAe(e),this[Id]=new dV(e),this[uAe]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],typeof e=="string"&&(e={uri:e}),!e||!e.uri)throw new yd("Proxy opts.uri is mandatory");let{clientFactory:t=CAe}=e;if(typeof t!="function")throw new yd("Proxy opts.clientFactory must be a function.");this[bD]=e.requestTls,this[fAe]=e.proxyTls,this[Bd]=e.headers||{};let r=new hV(e.uri),{origin:i,port:s,host:o,username:a,password:A}=r;if(e.auth&&e.token)throw new yd("opts.auth cannot be used in combination with opts.token");e.auth?this[Bd]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[Bd]["proxy-authorization"]=e.token:a&&A&&(this[Bd]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(a)}:${decodeURIComponent(A)}`).toString("base64")}`);let c=gV(P({},e.proxyTls));this[fV]=gV(P({},e.requestTls)),this[WC]=t(r,{connect:c}),this[Id]=new dV(te(P({},e),{connect:(l,u)=>B(this,null,function*(){let h=l.host;l.port||(h+=`:${pAe(l.protocol)}`);try{let{socket:d,statusCode:E}=yield this[WC].connect({origin:i,port:s,path:h,signal:l.signal,headers:te(P({},this[Bd]),{host:o})});if(E!==200&&(d.on("error",()=>{}).destroy(),u(new gAe(`Proxy response (${E}) !== 200 when HTTP Tunneling`))),l.protocol!=="https:"){u(null,d);return}let I;this[bD]?I=this[bD].servername:I=l.servername,this[fV](te(P({},l),{servername:I,httpSocket:d}),u)}catch(d){u(d)}})}))}dispatch(e,t){let{host:r}=new hV(e.origin),i=mAe(e.headers);return IAe(i),this[Id].dispatch(te(P({},e),{headers:te(P({},i),{host:r})}),t)}[cAe](){return B(this,null,function*(){yield this[Id].close(),yield this[WC].close()})}[lAe](){return B(this,null,function*(){yield this[Id].destroy(),yield this[WC].destroy()})}};function mAe(n){if(Array.isArray(n)){let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}return n}function IAe(n){if(n&&Object.keys(n).find(t=>t.toLowerCase()==="proxy-authorization"))throw new yd("Proxy-Authorization should be sent in ProxyAgent constructor")}pV.exports=vD});var yV=S((MIe,BV)=>{"use strict";var uA=F("assert"),{kRetryHandlerDefaultRetry:CV}=je(),{RequestRetryError:zC}=Ge(),{isDisturbed:mV,parseHeaders:BAe,parseRangeHeader:IV}=ve();function yAe(n){let e=Date.now();return new Date(n).getTime()-e}var DD=class n{constructor(e,t){let E=e,{retryOptions:r}=E,i=Mn(E,["retryOptions"]),{retry:s,maxRetries:o,maxTimeout:a,minTimeout:A,timeoutFactor:c,methods:l,errorCodes:u,retryAfter:h,statusCodes:d}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts=i,this.abort=null,this.aborted=!1,this.retryOpts={retry:s??n[CV],retryAfter:h??!0,maxTimeout:a??30*1e3,timeout:A??500,timeoutFactor:c??2,maxRetries:o??5,methods:l??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:d??[500,502,503,504,429],errorCodes:u??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(I=>{this.aborted=!0,this.abort?this.abort(I):this.reason=I})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[CV](e,{state:t,opts:r},i){let{statusCode:s,code:o,headers:a}=e,{method:A,retryOptions:c}=r,{maxRetries:l,timeout:u,maxTimeout:h,timeoutFactor:d,statusCodes:E,errorCodes:I,methods:m}=c,{counter:D,currentTimeout:v}=t;if(v=v!=null&&v>0?v:u,o&&o!=="UND_ERR_REQ_RETRY"&&o!=="UND_ERR_SOCKET"&&!I.includes(o)){i(e);return}if(Array.isArray(m)&&!m.includes(A)){i(e);return}if(s!=null&&Array.isArray(E)&&!E.includes(s)){i(e);return}if(D>l){i(e);return}let k=a!=null&&a["retry-after"];k&&(k=Number(k),k=isNaN(k)?yAe(k):k*1e3);let T=k>0?Math.min(k,h):Math.min(v*d**D,h);t.currentTimeout=T,setTimeout(()=>i(null),T)}onHeaders(e,t,r,i){let s=BAe(t);if(this.retryCount+=1,e>=300)return this.abort(new zC("Request failed",e,{headers:s,count:this.retryCount})),!1;if(this.resume!=null){if(this.resume=null,e!==206)return!0;let a=IV(s["content-range"]);if(!a)return this.abort(new zC("Content-Range mismatch",e,{headers:s,count:this.retryCount})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new zC("ETag mismatch",e,{headers:s,count:this.retryCount})),!1;let{start:A,size:c,end:l=c}=a;return uA(this.start===A,"content-range mismatch"),uA(this.end==null||this.end===l,"content-range mismatch"),this.resume=r,!0}if(this.end==null){if(e===206){let a=IV(s["content-range"]);if(a==null)return this.handler.onHeaders(e,t,r,i);let{start:A,size:c,end:l=c}=a;uA(A!=null&&Number.isFinite(A)&&this.start!==A,"content-range mismatch"),uA(Number.isFinite(A)),uA(l!=null&&Number.isFinite(l)&&this.end!==l,"invalid content-length"),this.start=A,this.end=l}if(this.end==null){let a=s["content-length"];this.end=a!=null?Number(a):null}return uA(Number.isFinite(this.start)),uA(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=s.etag!=null?s.etag:null,this.handler.onHeaders(e,t,r,i)}let o=new zC("Request failed",e,{headers:s,count:this.retryCount});return this.abort(o),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||mV(this.opts.body))return this.handler.onError(e);this.retryOpts.retry(e,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:P({retryOptions:this.retryOpts},this.opts)},t.bind(this));function t(r){if(r!=null||this.aborted||mV(this.opts.body))return this.handler.onError(r);this.start!==0&&(this.opts=te(P({},this.opts),{headers:te(P({},this.opts.headers),{range:`bytes=${this.start}-${this.end??""}`})}));try{this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}}};BV.exports=DD});var Gl=S((UIe,bV)=>{"use strict";var QV=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:QAe}=Ge(),wAe=Ed();SV()===void 0&&wV(new wAe);function wV(n){if(!n||typeof n.dispatch!="function")throw new QAe("Argument agent must implement Agent");Object.defineProperty(globalThis,QV,{value:n,writable:!0,enumerable:!1,configurable:!1})}function SV(){return globalThis[QV]}bV.exports={setGlobalDispatcher:wV,getGlobalDispatcher:SV}});var DV=S((OIe,vV)=>{"use strict";vV.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}});var hA=S((PIe,_V)=>{"use strict";var{kHeadersList:Jn,kConstruct:SAe}=je(),{kGuard:Ki}=ms(),{kEnumerableProperty:ji}=ve(),{makeIterator:ql,isValidHeaderName:Qd,isValidHeaderValue:TV}=Rr(),{webidl:Ie}=Dn(),bAe=F("assert"),Hn=Symbol("headers map"),rn=Symbol("headers map sorted");function RV(n){return n===10||n===13||n===9||n===32}function kV(n){let e=0,t=n.length;for(;t>e&&RV(n.charCodeAt(t-1));)--t;for(;t>e&&RV(n.charCodeAt(e));)++e;return e===0&&t===n.length?n:n.substring(e,t)}function NV(n,e){if(Array.isArray(e))for(let t=0;t<e.length;++t){let r=e[t];if(r.length!==2)throw Ie.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${r.length}.`});RD(n,r[0],r[1])}else if(typeof e=="object"&&e!==null){let t=Object.keys(e);for(let r=0;r<t.length;++r)RD(n,t[r],e[t[r]])}else throw Ie.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function RD(n,e,t){if(t=kV(t),Qd(e)){if(!TV(t))throw Ie.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header value"})}else throw Ie.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(n[Ki]==="immutable")throw new TypeError("immutable");return n[Ki],n[Jn].append(e,t)}var jC=class n{cookies=null;constructor(e){e instanceof n?(this[Hn]=new Map(e[Hn]),this[rn]=e[rn],this.cookies=e.cookies===null?null:[...e.cookies]):(this[Hn]=new Map(e),this[rn]=null)}contains(e){return e=e.toLowerCase(),this[Hn].has(e)}clear(){this[Hn].clear(),this[rn]=null,this.cookies=null}append(e,t){this[rn]=null;let r=e.toLowerCase(),i=this[Hn].get(r);if(i){let s=r==="cookie"?"; ":", ";this[Hn].set(r,{name:i.name,value:`${i.value}${s}${t}`})}else this[Hn].set(r,{name:e,value:t});r==="set-cookie"&&(this.cookies??=[],this.cookies.push(t))}set(e,t){this[rn]=null;let r=e.toLowerCase();r==="set-cookie"&&(this.cookies=[t]),this[Hn].set(r,{name:e,value:t})}delete(e){this[rn]=null,e=e.toLowerCase(),e==="set-cookie"&&(this.cookies=null),this[Hn].delete(e)}get(e){let t=this[Hn].get(e.toLowerCase());return t===void 0?null:t.value}*[Symbol.iterator](){for(let[e,{value:t}]of this[Hn])yield[e,t]}get entries(){let e={};if(this[Hn].size)for(let{name:t,value:r}of this[Hn].values())e[t]=r;return e}},Yl=class n{constructor(e=void 0){e!==SAe&&(this[Jn]=new jC,this[Ki]="none",e!==void 0&&(e=Ie.converters.HeadersInit(e),NV(this,e)))}append(e,t){return Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,2,{header:"Headers.append"}),e=Ie.converters.ByteString(e),t=Ie.converters.ByteString(t),RD(this,e,t)}delete(e){if(Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),e=Ie.converters.ByteString(e),!Qd(e))throw Ie.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this[Ki]==="immutable")throw new TypeError("immutable");this[Ki],this[Jn].contains(e)&&this[Jn].delete(e)}get(e){if(Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,1,{header:"Headers.get"}),e=Ie.converters.ByteString(e),!Qd(e))throw Ie.errors.invalidArgument({prefix:"Headers.get",value:e,type:"header name"});return this[Jn].get(e)}has(e){if(Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,1,{header:"Headers.has"}),e=Ie.converters.ByteString(e),!Qd(e))throw Ie.errors.invalidArgument({prefix:"Headers.has",value:e,type:"header name"});return this[Jn].contains(e)}set(e,t){if(Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,2,{header:"Headers.set"}),e=Ie.converters.ByteString(e),t=Ie.converters.ByteString(t),t=kV(t),Qd(e)){if(!TV(t))throw Ie.errors.invalidArgument({prefix:"Headers.set",value:t,type:"header value"})}else throw Ie.errors.invalidArgument({prefix:"Headers.set",value:e,type:"header name"});if(this[Ki]==="immutable")throw new TypeError("immutable");this[Ki],this[Jn].set(e,t)}getSetCookie(){Ie.brandCheck(this,n);let e=this[Jn].cookies;return e?[...e]:[]}get[rn](){if(this[Jn][rn])return this[Jn][rn];let e=[],t=[...this[Jn]].sort((i,s)=>i[0]<s[0]?-1:1),r=this[Jn].cookies;for(let i=0;i<t.length;++i){let[s,o]=t[i];if(s==="set-cookie")for(let a=0;a<r.length;++a)e.push([s,r[a]]);else bAe(o!==null),e.push([s,o])}return this[Jn][rn]=e,e}keys(){if(Ie.brandCheck(this,n),this[Ki]==="immutable"){let e=this[rn];return ql(()=>e,"Headers","key")}return ql(()=>[...this[rn].values()],"Headers","key")}values(){if(Ie.brandCheck(this,n),this[Ki]==="immutable"){let e=this[rn];return ql(()=>e,"Headers","value")}return ql(()=>[...this[rn].values()],"Headers","value")}entries(){if(Ie.brandCheck(this,n),this[Ki]==="immutable"){let e=this[rn];return ql(()=>e,"Headers","key+value")}return ql(()=>[...this[rn].values()],"Headers","key+value")}forEach(e,t=globalThis){if(Ie.brandCheck(this,n),Ie.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(t,[i,r,this])}[Symbol.for("nodejs.util.inspect.custom")](){return Ie.brandCheck(this,n),this[Jn]}};Yl.prototype[Symbol.iterator]=Yl.prototype.entries;Object.defineProperties(Yl.prototype,{append:ji,delete:ji,get:ji,has:ji,set:ji,getSetCookie:ji,keys:ji,values:ji,entries:ji,forEach:ji,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}});Ie.converters.HeadersInit=function(n){if(Ie.util.Type(n)==="Object")return n[Symbol.iterator]?Ie.converters["sequence<sequence<ByteString>>"](n):Ie.converters["record<ByteString, ByteString>"](n);throw Ie.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};_V.exports={fill:NV,Headers:Yl,HeadersList:jC}});var ZC=S((VIe,VV)=>{"use strict";var{Headers:vAe,HeadersList:FV,fill:DAe}=hA(),{extractBody:MV,cloneBody:RAe,mixinBody:TAe}=td(),ND=ve(),{kEnumerableProperty:lr}=ND,{isValidReasonPhrase:kAe,isCancelled:NAe,isAborted:_Ae,isBlobLike:FAe,serializeJavascriptValueToJSONString:MAe,isErrorLike:LAe,isomorphicEncode:UAe}=Rr(),{redirectStatusSet:xAe,nullBodyStatus:OAe,DOMException:LV}=Yo(),{kState:at,kHeaders:Kt,kGuard:Hl,kRealm:cr}=ms(),{webidl:me}=Dn(),{FormData:PAe}=cC(),{getGlobalOrigin:VAe}=Il(),{URLSerializer:UV}=ni(),{kHeadersList:TD,kConstruct:GAe}=je(),_D=F("assert"),{types:kD}=F("util"),OV=globalThis.ReadableStream||F("stream/web").ReadableStream,qAe=new TextEncoder("utf-8"),Jl=class n{static error(){let e={settingsObject:{}},t=new n;return t[at]=XC(),t[cr]=e,t[Kt][TD]=t[at].headersList,t[Kt][Hl]="immutable",t[Kt][cr]=e,t}static json(e,t={}){me.argumentLengthCheck(arguments,1,{header:"Response.json"}),t!==null&&(t=me.converters.ResponseInit(t));let r=qAe.encode(MAe(e)),i=MV(r),s={settingsObject:{}},o=new n;return o[cr]=s,o[Kt][Hl]="response",o[Kt][cr]=s,xV(o,t,{body:i[0],type:"application/json"}),o}static redirect(e,t=302){let r={settingsObject:{}};me.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),e=me.converters.USVString(e),t=me.converters["unsigned short"](t);let i;try{i=new URL(e,VAe())}catch(a){throw Object.assign(new TypeError("Failed to parse URL from "+e),{cause:a})}if(!xAe.has(t))throw new RangeError("Invalid status code "+t);let s=new n;s[cr]=r,s[Kt][Hl]="immutable",s[Kt][cr]=r,s[at].status=t;let o=UAe(UV(i));return s[at].headersList.append("location",o),s}constructor(e=null,t={}){e!==null&&(e=me.converters.BodyInit(e)),t=me.converters.ResponseInit(t),this[cr]={settingsObject:{}},this[at]=$C({}),this[Kt]=new vAe(GAe),this[Kt][Hl]="response",this[Kt][TD]=this[at].headersList,this[Kt][cr]=this[cr];let r=null;if(e!=null){let[i,s]=MV(e);r={body:i,type:s}}xV(this,t,r)}get type(){return me.brandCheck(this,n),this[at].type}get url(){me.brandCheck(this,n);let e=this[at].urlList,t=e[e.length-1]??null;return t===null?"":UV(t,!0)}get redirected(){return me.brandCheck(this,n),this[at].urlList.length>1}get status(){return me.brandCheck(this,n),this[at].status}get ok(){return me.brandCheck(this,n),this[at].status>=200&&this[at].status<=299}get statusText(){return me.brandCheck(this,n),this[at].statusText}get headers(){return me.brandCheck(this,n),this[Kt]}get body(){return me.brandCheck(this,n),this[at].body?this[at].body.stream:null}get bodyUsed(){return me.brandCheck(this,n),!!this[at].body&&ND.isDisturbed(this[at].body.stream)}clone(){if(me.brandCheck(this,n),this.bodyUsed||this.body&&this.body.locked)throw me.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=FD(this[at]),t=new n;return t[at]=e,t[cr]=this[cr],t[Kt][TD]=e.headersList,t[Kt][Hl]=this[Kt][Hl],t[Kt][cr]=this[Kt][cr],t}};TAe(Jl);Object.defineProperties(Jl.prototype,{type:lr,url:lr,status:lr,ok:lr,redirected:lr,statusText:lr,headers:lr,clone:lr,body:lr,bodyUsed:lr,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Jl,{json:lr,redirect:lr,error:lr});function FD(n){if(n.internalResponse)return PV(FD(n.internalResponse),n.type);let e=$C(te(P({},n),{body:null}));return n.body!=null&&(e.body=RAe(n.body)),e}function $C(n){return te(P({aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:""},n),{headersList:n.headersList?new FV(n.headersList):new FV,urlList:n.urlList?[...n.urlList]:[]})}function XC(n){let e=LAe(n);return $C({type:"error",status:0,error:e?n:new Error(n&&String(n)),aborted:n&&n.name==="AbortError"})}function KC(n,e){return e=P({internalResponse:n},e),new Proxy(n,{get(t,r){return r in e?e[r]:t[r]},set(t,r,i){return _D(!(r in e)),t[r]=i,!0}})}function PV(n,e){if(e==="basic")return KC(n,{type:"basic",headersList:n.headersList});if(e==="cors")return KC(n,{type:"cors",headersList:n.headersList});if(e==="opaque")return KC(n,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return KC(n,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});_D(!1)}function YAe(n,e=null){return _D(NAe(n)),_Ae(n)?XC(Object.assign(new LV("The operation was aborted.","AbortError"),{cause:e})):XC(Object.assign(new LV("Request was cancelled."),{cause:e}))}function xV(n,e,t){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!kAe(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(n[at].status=e.status),"statusText"in e&&e.statusText!=null&&(n[at].statusText=e.statusText),"headers"in e&&e.headers!=null&&DAe(n[Kt],e.headers),t){if(OAe.includes(n.status))throw me.errors.exception({header:"Response constructor",message:"Invalid response status code "+n.status});n[at].body=t.body,t.type!=null&&!n[at].headersList.contains("Content-Type")&&n[at].headersList.append("content-type",t.type)}}me.converters.ReadableStream=me.interfaceConverter(OV);me.converters.FormData=me.interfaceConverter(PAe);me.converters.URLSearchParams=me.interfaceConverter(URLSearchParams);me.converters.XMLHttpRequestBodyInit=function(n){return typeof n=="string"?me.converters.USVString(n):FAe(n)?me.converters.Blob(n,{strict:!1}):kD.isArrayBuffer(n)||kD.isTypedArray(n)||kD.isDataView(n)?me.converters.BufferSource(n):ND.isFormDataLike(n)?me.converters.FormData(n,{strict:!1}):n instanceof URLSearchParams?me.converters.URLSearchParams(n):me.converters.DOMString(n)};me.converters.BodyInit=function(n){return n instanceof OV?me.converters.ReadableStream(n):n?.[Symbol.asyncIterator]?n:me.converters.XMLHttpRequestBodyInit(n)};me.converters.ResponseInit=me.dictionaryConverter([{key:"status",converter:me.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:me.converters.ByteString,defaultValue:""},{key:"headers",converter:me.converters.HeadersInit}]);VV.exports={makeNetworkError:XC,makeResponse:$C,makeAppropriateNetworkError:YAe,filterResponse:PV,Response:Jl,cloneResponse:FD}});var bd=S((qIe,WV)=>{"use strict";var{extractBody:HAe,mixinBody:JAe,cloneBody:WAe}=td(),{Headers:GV,fill:zAe,HeadersList:rm}=hA(),{FinalizationRegistry:jAe}=Yv()(),Sd=ve(),{isValidHTTPToken:KAe,sameOrigin:qV,normalizeMethod:XAe,makePolicyContainer:$Ae,normalizeMethodRecord:ZAe}=Rr(),{forbiddenMethodsSet:ece,corsSafeListedMethodsSet:tce,referrerPolicy:nce,requestRedirect:rce,requestMode:ice,requestCredentials:sce,requestCache:oce,requestDuplex:ace}=Yo(),{kEnumerableProperty:Lt}=Sd,{kHeaders:fn,kSignal:wd,kState:rt,kGuard:em,kRealm:ur}=ms(),{webidl:le}=Dn(),{getGlobalOrigin:Ace}=Il(),{URLSerializer:cce}=ni(),{kHeadersList:tm,kConstruct:nm}=je(),lce=F("assert"),{getMaxListeners:YV,setMaxListeners:HV,getEventListeners:uce,defaultMaxListeners:JV}=F("events"),MD=globalThis.TransformStream,hce=Symbol("abortController"),dce=new jAe(({signal:n,abort:e})=>{n.removeEventListener("abort",e)}),dA=class n{constructor(e,t={}){if(e===nm)return;le.argumentLengthCheck(arguments,1,{header:"Request constructor"}),e=le.converters.RequestInfo(e),t=le.converters.RequestInit(t),this[ur]={settingsObject:{baseUrl:Ace(),get origin(){return this.baseUrl?.origin},policyContainer:$Ae()}};let r=null,i=null,s=this[ur].settingsObject.baseUrl,o=null;if(typeof e=="string"){let m;try{m=new URL(e,s)}catch(D){throw new TypeError("Failed to parse URL from "+e,{cause:D})}if(m.username||m.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);r=im({urlList:[m]}),i="cors"}else lce(e instanceof n),r=e[rt],o=e[wd];let a=this[ur].settingsObject.origin,A="client";if(r.window?.constructor?.name==="EnvironmentSettingsObject"&&qV(r.window,a)&&(A=r.window),t.window!=null)throw new TypeError(`'window' option '${A}' must be null`);"window"in t&&(A="no-window"),r=im({method:r.method,headersList:r.headersList,unsafeRequest:r.unsafeRequest,client:this[ur].settingsObject,window:A,priority:r.priority,origin:r.origin,referrer:r.referrer,referrerPolicy:r.referrerPolicy,mode:r.mode,credentials:r.credentials,cache:r.cache,redirect:r.redirect,integrity:r.integrity,keepalive:r.keepalive,reloadNavigation:r.reloadNavigation,historyNavigation:r.historyNavigation,urlList:[...r.urlList]});let c=Object.keys(t).length!==0;if(c&&(r.mode==="navigate"&&(r.mode="same-origin"),r.reloadNavigation=!1,r.historyNavigation=!1,r.origin="client",r.referrer="client",r.referrerPolicy="",r.url=r.urlList[r.urlList.length-1],r.urlList=[r.url]),t.referrer!==void 0){let m=t.referrer;if(m==="")r.referrer="no-referrer";else{let D;try{D=new URL(m,s)}catch(v){throw new TypeError(`Referrer "${m}" is not a valid URL.`,{cause:v})}D.protocol==="about:"&&D.hostname==="client"||a&&!qV(D,this[ur].settingsObject.baseUrl)?r.referrer="client":r.referrer=D}}t.referrerPolicy!==void 0&&(r.referrerPolicy=t.referrerPolicy);let l;if(t.mode!==void 0?l=t.mode:l=i,l==="navigate")throw le.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(l!=null&&(r.mode=l),t.credentials!==void 0&&(r.credentials=t.credentials),t.cache!==void 0&&(r.cache=t.cache),r.cache==="only-if-cached"&&r.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(t.redirect!==void 0&&(r.redirect=t.redirect),t.integrity!=null&&(r.integrity=String(t.integrity)),t.keepalive!==void 0&&(r.keepalive=!!t.keepalive),t.method!==void 0){let m=t.method;if(!KAe(m))throw new TypeError(`'${m}' is not a valid HTTP method.`);if(ece.has(m.toUpperCase()))throw new TypeError(`'${m}' HTTP method is unsupported.`);m=ZAe[m]??XAe(m),r.method=m}t.signal!==void 0&&(o=t.signal),this[rt]=r;let u=new AbortController;if(this[wd]=u.signal,this[wd][ur]=this[ur],o!=null){if(!o||typeof o.aborted!="boolean"||typeof o.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(o.aborted)u.abort(o.reason);else{this[hce]=u;let m=new WeakRef(u),D=function(){let v=m.deref();v!==void 0&&v.abort(this.reason)};try{(typeof YV=="function"&&YV(o)===JV||uce(o,"abort").length>=JV)&&HV(100,o)}catch{}Sd.addAbortListener(o,D),dce.register(u,{signal:o,abort:D})}}if(this[fn]=new GV(nm),this[fn][tm]=r.headersList,this[fn][em]="request",this[fn][ur]=this[ur],l==="no-cors"){if(!tce.has(r.method))throw new TypeError(`'${r.method} is unsupported in no-cors mode.`);this[fn][em]="request-no-cors"}if(c){let m=this[fn][tm],D=t.headers!==void 0?t.headers:new rm(m);if(m.clear(),D instanceof rm){for(let[v,k]of D)m.append(v,k);m.cookies=D.cookies}else zAe(this[fn],D)}let h=e instanceof n?e[rt].body:null;if((t.body!=null||h!=null)&&(r.method==="GET"||r.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let d=null;if(t.body!=null){let[m,D]=HAe(t.body,r.keepalive);d=m,D&&!this[fn][tm].contains("content-type")&&this[fn].append("content-type",D)}let E=d??h;if(E!=null&&E.source==null){if(d!=null&&t.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(r.mode!=="same-origin"&&r.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');r.useCORSPreflightFlag=!0}let I=E;if(d==null&&h!=null){if(Sd.isDisturbed(h.stream)||h.stream.locked)throw new TypeError("Cannot construct a Request with a Request object that has already been used.");MD||(MD=F("stream/web").TransformStream);let m=new MD;h.stream.pipeThrough(m),I={source:h.source,length:h.length,stream:m.readable}}this[rt].body=I}get method(){return le.brandCheck(this,n),this[rt].method}get url(){return le.brandCheck(this,n),cce(this[rt].url)}get headers(){return le.brandCheck(this,n),this[fn]}get destination(){return le.brandCheck(this,n),this[rt].destination}get referrer(){return le.brandCheck(this,n),this[rt].referrer==="no-referrer"?"":this[rt].referrer==="client"?"about:client":this[rt].referrer.toString()}get referrerPolicy(){return le.brandCheck(this,n),this[rt].referrerPolicy}get mode(){return le.brandCheck(this,n),this[rt].mode}get credentials(){return this[rt].credentials}get cache(){return le.brandCheck(this,n),this[rt].cache}get redirect(){return le.brandCheck(this,n),this[rt].redirect}get integrity(){return le.brandCheck(this,n),this[rt].integrity}get keepalive(){return le.brandCheck(this,n),this[rt].keepalive}get isReloadNavigation(){return le.brandCheck(this,n),this[rt].reloadNavigation}get isHistoryNavigation(){return le.brandCheck(this,n),this[rt].historyNavigation}get signal(){return le.brandCheck(this,n),this[wd]}get body(){return le.brandCheck(this,n),this[rt].body?this[rt].body.stream:null}get bodyUsed(){return le.brandCheck(this,n),!!this[rt].body&&Sd.isDisturbed(this[rt].body.stream)}get duplex(){return le.brandCheck(this,n),"half"}clone(){if(le.brandCheck(this,n),this.bodyUsed||this.body?.locked)throw new TypeError("unusable");let e=gce(this[rt]),t=new n(nm);t[rt]=e,t[ur]=this[ur],t[fn]=new GV(nm),t[fn][tm]=e.headersList,t[fn][em]=this[fn][em],t[fn][ur]=this[fn][ur];let r=new AbortController;return this.signal.aborted?r.abort(this.signal.reason):Sd.addAbortListener(this.signal,()=>{r.abort(this.signal.reason)}),t[wd]=r.signal,t}};JAe(dA);function im(n){let e=te(P({method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1},n),{headersList:n.headersList?new rm(n.headersList):new rm});return e.url=e.urlList[0],e}function gce(n){let e=im(te(P({},n),{body:null}));return n.body!=null&&(e.body=WAe(n.body)),e}Object.defineProperties(dA.prototype,{method:Lt,url:Lt,headers:Lt,redirect:Lt,clone:Lt,signal:Lt,duplex:Lt,destination:Lt,body:Lt,bodyUsed:Lt,isHistoryNavigation:Lt,isReloadNavigation:Lt,keepalive:Lt,integrity:Lt,cache:Lt,credentials:Lt,attribute:Lt,referrerPolicy:Lt,referrer:Lt,mode:Lt,[Symbol.toStringTag]:{value:"Request",configurable:!0}});le.converters.Request=le.interfaceConverter(dA);le.converters.RequestInfo=function(n){return typeof n=="string"?le.converters.USVString(n):n instanceof dA?le.converters.Request(n):le.converters.USVString(n)};le.converters.AbortSignal=le.interfaceConverter(AbortSignal);le.converters.RequestInit=le.dictionaryConverter([{key:"method",converter:le.converters.ByteString},{key:"headers",converter:le.converters.HeadersInit},{key:"body",converter:le.nullableConverter(le.converters.BodyInit)},{key:"referrer",converter:le.converters.USVString},{key:"referrerPolicy",converter:le.converters.DOMString,allowedValues:nce},{key:"mode",converter:le.converters.DOMString,allowedValues:ice},{key:"credentials",converter:le.converters.DOMString,allowedValues:sce},{key:"cache",converter:le.converters.DOMString,allowedValues:oce},{key:"redirect",converter:le.converters.DOMString,allowedValues:rce},{key:"integrity",converter:le.converters.DOMString},{key:"keepalive",converter:le.converters.boolean},{key:"signal",converter:le.nullableConverter(n=>le.converters.AbortSignal(n,{strict:!1}))},{key:"window",converter:le.converters.any},{key:"duplex",converter:le.converters.DOMString,allowedValues:ace}]);WV.exports={Request:dA,makeRequest:im}});var um=S((HIe,aG)=>{"use strict";var{Response:fce,makeNetworkError:qe,makeAppropriateNetworkError:sm,filterResponse:LD,makeResponse:om}=ZC(),{Headers:zV}=hA(),{Request:pce,makeRequest:Ece}=bd(),vd=F("zlib"),{bytesMatch:Cce,makePolicyContainer:mce,clonePolicyContainer:Ice,requestBadPort:Bce,TAOCheck:yce,appendRequestOriginHeader:Qce,responseLocationURL:wce,requestCurrentURL:Xi,setRequestReferrerPolicyOnRedirect:Sce,tryUpgradeRequestToAPotentiallyTrustworthyURL:bce,createOpaqueTimingInfo:HD,appendFetchMetadata:vce,corsCheck:Dce,crossOriginResourcePolicyCheck:Rce,determineRequestsReferrer:Tce,coarsenedSharedCurrentTime:JD,createDeferredPromise:kce,isBlobLike:Nce,sameOrigin:GD,isCancelled:zl,isAborted:jV,isErrorLike:_ce,fullyReadBody:ZV,readableStreamClose:Fce,isomorphicEncode:qD,urlIsLocal:Mce,urlIsHttpHttpsScheme:WD,urlHasHttpsScheme:Lce}=Rr(),{kState:YD,kHeaders:UD,kGuard:Uce,kRealm:KV}=ms(),jl=F("assert"),{safelyExtractBody:am}=td(),{redirectStatusSet:eG,nullBodyStatus:tG,safeMethodsSet:xce,requestBodyHeader:Oce,subresourceSet:Pce,DOMException:Am}=Yo(),{kHeadersList:Wl}=je(),Vce=F("events"),{Readable:Gce,pipeline:qce}=F("stream"),{addAbortListener:Yce,isErrored:Hce,isReadable:cm,nodeMajor:XV,nodeMinor:Jce}=ve(),{dataURLProcessor:Wce,serializeAMimeType:zce}=ni(),{TransformStream:jce}=F("stream/web"),{getGlobalDispatcher:Kce}=Gl(),{webidl:Xce}=Dn(),{STATUS_CODES:$ce}=F("http"),Zce=["GET","HEAD"],xD,OD=globalThis.ReadableStream,lm=class extends Vce{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new Am("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function ele(n,e={}){Xce.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let t=kce(),r;try{r=new pce(n,e)}catch(h){return t.reject(h),t.promise}let i=r[YD];if(r.signal.aborted)return PD(t,i,null,r.signal.reason),t.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let o=null,a=null,A=!1,c=null;return Yce(r.signal,()=>{A=!0,jl(c!=null),c.abort(r.signal.reason),PD(t,i,o,r.signal.reason)}),c=rG({request:i,processResponseEndOfBody:h=>nG(h,"fetch"),processResponse:h=>{if(A)return Promise.resolve();if(h.aborted)return PD(t,i,o,c.serializedAbortReason),Promise.resolve();if(h.type==="error")return t.reject(Object.assign(new TypeError("fetch failed"),{cause:h.error})),Promise.resolve();o=new fce,o[YD]=h,o[KV]=a,o[UD][Wl]=h.headersList,o[UD][Uce]="immutable",o[UD][KV]=a,t.resolve(o)},dispatcher:e.dispatcher??Kce()}),t.promise}function nG(n,e="other"){if(n.type==="error"&&n.aborted||!n.urlList?.length)return;let t=n.urlList[0],r=n.timingInfo,i=n.cacheState;WD(t)&&r!==null&&(n.timingAllowPassed||(r=HD({startTime:r.startTime}),i=""),r.endTime=JD(),n.timingInfo=r,tle(r,t,e,globalThis,i))}function tle(n,e,t,r,i){(XV>18||XV===18&&Jce>=2)&&performance.markResourceTiming(n,e.href,t,r,i)}function PD(n,e,t,r){if(r||(r=new Am("The operation was aborted.","AbortError")),n.reject(r),e.body!=null&&cm(e.body?.stream)&&e.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),t==null)return;let i=t[YD];i.body!=null&&cm(i.body?.stream)&&i.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}function rG({request:n,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a}){let A=null,c=!1;n.client!=null&&(A=n.client.globalObject,c=n.client.crossOriginIsolatedCapability);let l=JD(c),u=HD({startTime:l}),h={controller:new lm(a),request:n,timingInfo:u,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:A,crossOriginIsolatedCapability:c};return jl(!n.body||n.body.stream),n.window==="client"&&(n.window=n.client?.globalObject?.constructor?.name==="Window"?n.client:"no-window"),n.origin==="client"&&(n.origin=n.client?.origin),n.policyContainer==="client"&&(n.client!=null?n.policyContainer=Ice(n.client.policyContainer):n.policyContainer=mce()),n.headersList.contains("accept")||n.headersList.append("accept","*/*"),n.headersList.contains("accept-language")||n.headersList.append("accept-language","*"),n.priority,Pce.has(n.destination),iG(h).catch(d=>{h.controller.terminate(d)}),h.controller}function iG(n,e=!1){return B(this,null,function*(){let t=n.request,r=null;if(t.localURLsOnly&&!Mce(Xi(t))&&(r=qe("local URLs only")),bce(t),Bce(t)==="blocked"&&(r=qe("bad port")),t.referrerPolicy===""&&(t.referrerPolicy=t.policyContainer.referrerPolicy),t.referrer!=="no-referrer"&&(t.referrer=Tce(t)),r===null&&(r=yield B(this,null,function*(){let s=Xi(t);return GD(s,t.url)&&t.responseTainting==="basic"||s.protocol==="data:"||t.mode==="navigate"||t.mode==="websocket"?(t.responseTainting="basic",yield $V(n)):t.mode==="same-origin"?qe('request mode cannot be "same-origin"'):t.mode==="no-cors"?t.redirect!=="follow"?qe('redirect mode cannot be "follow" for "no-cors" request'):(t.responseTainting="opaque",yield $V(n)):WD(Xi(t))?(t.responseTainting="cors",yield sG(n)):qe("URL scheme must be a HTTP(S) scheme")})),e)return r;r.status!==0&&!r.internalResponse&&(t.responseTainting,t.responseTainting==="basic"?r=LD(r,"basic"):t.responseTainting==="cors"?r=LD(r,"cors"):t.responseTainting==="opaque"?r=LD(r,"opaque"):jl(!1));let i=r.status===0?r:r.internalResponse;if(i.urlList.length===0&&i.urlList.push(...t.urlList),t.timingAllowFailed||(r.timingAllowPassed=!0),r.type==="opaque"&&i.status===206&&i.rangeRequested&&!t.headers.contains("range")&&(r=i=qe()),r.status!==0&&(t.method==="HEAD"||t.method==="CONNECT"||tG.includes(i.status))&&(i.body=null,n.controller.dump=!0),t.integrity){let s=a=>VD(n,qe(a));if(t.responseTainting==="opaque"||r.body==null){s(r.error);return}let o=a=>{if(!Cce(a,t.integrity)){s("integrity mismatch");return}r.body=am(a)[0],VD(n,r)};yield ZV(r.body,o,s)}else VD(n,r)})}function $V(n){if(zl(n)&&n.request.redirectCount===0)return Promise.resolve(sm(n));let{request:e}=n,{protocol:t}=Xi(e);switch(t){case"about:":return Promise.resolve(qe("about scheme is not supported"));case"blob:":{xD||(xD=F("buffer").resolveObjectURL);let r=Xi(e);if(r.search.length!==0)return Promise.resolve(qe("NetworkError when attempting to fetch resource."));let i=xD(r.toString());if(e.method!=="GET"||!Nce(i))return Promise.resolve(qe("invalid method"));let s=am(i),o=s[0],a=qD(`${o.length}`),A=s[1]??"",c=om({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:a}],["content-type",{name:"Content-Type",value:A}]]});return c.body=o,Promise.resolve(c)}case"data:":{let r=Xi(e),i=Wce(r);if(i==="failure")return Promise.resolve(qe("failed to fetch the data URL"));let s=zce(i.mimeType);return Promise.resolve(om({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:am(i.body)[0]}))}case"file:":return Promise.resolve(qe("not implemented... yet..."));case"http:":case"https:":return sG(n).catch(r=>qe(r));default:return Promise.resolve(qe("unknown scheme"))}}function nle(n,e){n.request.done=!0,n.processResponseDone!=null&&queueMicrotask(()=>n.processResponseDone(e))}function VD(n,e){e.type==="error"&&(e.urlList=[n.request.urlList[0]],e.timingInfo=HD({startTime:n.timingInfo.startTime}));let t=()=>{n.request.done=!0,n.processResponseEndOfBody!=null&&queueMicrotask(()=>n.processResponseEndOfBody(e))};if(n.processResponse!=null&&queueMicrotask(()=>n.processResponse(e)),e.body==null)t();else{let r=(s,o)=>{o.enqueue(s)},i=new jce({start(){},transform:r,flush:t},{size(){return 1}},{size(){return 1}});e.body={stream:e.body.stream.pipeThrough(i)}}if(n.processResponseConsumeBody!=null){let r=s=>n.processResponseConsumeBody(e,s),i=s=>n.processResponseConsumeBody(e,s);if(e.body==null)queueMicrotask(()=>r(null));else return ZV(e.body,r,i);return Promise.resolve()}}function sG(n){return B(this,null,function*(){let e=n.request,t=null,r=null,i=n.timingInfo;if(e.serviceWorkers,t===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),r=t=yield oG(n),e.responseTainting==="cors"&&Dce(e,t)==="failure")return qe("cors failure");yce(e,t)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||t.type==="opaque")&&Rce(e.origin,e.client,e.destination,r)==="blocked"?qe("blocked"):(eG.has(r.status)&&(e.redirect!=="manual"&&n.controller.connection.destroy(),e.redirect==="error"?t=qe("unexpected redirect"):e.redirect==="manual"?t=r:e.redirect==="follow"?t=yield rle(n,t):jl(!1)),t.timingInfo=i,t)})}function rle(n,e){let t=n.request,r=e.internalResponse?e.internalResponse:e,i;try{if(i=wce(r,Xi(t).hash),i==null)return e}catch(o){return Promise.resolve(qe(o))}if(!WD(i))return Promise.resolve(qe("URL scheme must be a HTTP(S) scheme"));if(t.redirectCount===20)return Promise.resolve(qe("redirect count exceeded"));if(t.redirectCount+=1,t.mode==="cors"&&(i.username||i.password)&&!GD(t,i))return Promise.resolve(qe('cross origin not allowed for request mode "cors"'));if(t.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(qe('URL cannot contain credentials for request mode "cors"'));if(r.status!==303&&t.body!=null&&t.body.source==null)return Promise.resolve(qe());if([301,302].includes(r.status)&&t.method==="POST"||r.status===303&&!Zce.includes(t.method)){t.method="GET",t.body=null;for(let o of Oce)t.headersList.delete(o)}GD(Xi(t),i)||(t.headersList.delete("authorization"),t.headersList.delete("proxy-authorization",!0),t.headersList.delete("cookie"),t.headersList.delete("host")),t.body!=null&&(jl(t.body.source!=null),t.body=am(t.body.source)[0]);let s=n.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=JD(n.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),t.urlList.push(i),Sce(t,r),iG(n,!0)}function oG(n,e=!1,t=!1){return B(this,null,function*(){let r=n.request,i=null,s=null,o=null,a=null,A=!1;r.window==="no-window"&&r.redirect==="error"?(i=n,s=r):(s=Ece(r),i=P({},n),i.request=s);let c=r.credentials==="include"||r.credentials==="same-origin"&&r.responseTainting==="basic",l=s.body?s.body.length:null,u=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(u="0"),l!=null&&(u=qD(`${l}`)),u!=null&&s.headersList.append("content-length",u),l!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",qD(s.referrer.href)),Qce(s),vce(s),s.headersList.contains("user-agent")||s.headersList.append("user-agent",typeof esbuildDetection>"u"?"undici":"node"),s.cache==="default"&&(s.headersList.contains("if-modified-since")||s.headersList.contains("if-none-match")||s.headersList.contains("if-unmodified-since")||s.headersList.contains("if-match")||s.headersList.contains("if-range"))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control")&&s.headersList.append("cache-control","max-age=0"),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma")||s.headersList.append("pragma","no-cache"),s.headersList.contains("cache-control")||s.headersList.append("cache-control","no-cache")),s.headersList.contains("range")&&s.headersList.append("accept-encoding","identity"),s.headersList.contains("accept-encoding")||(Lce(Xi(s))?s.headersList.append("accept-encoding","br, gzip, deflate"):s.headersList.append("accept-encoding","gzip, deflate")),s.headersList.delete("host"),a==null&&(s.cache="no-store"),s.mode!=="no-store"&&s.mode,o==null){if(s.mode==="only-if-cached")return qe("only if cached");let h=yield ile(i,c,t);!xce.has(s.method)&&h.status>=200&&h.status<=399,A&&h.status,o==null&&(o=h)}if(o.urlList=[...s.urlList],s.headersList.contains("range")&&(o.rangeRequested=!0),o.requestIncludesCredentials=c,o.status===407)return r.window==="no-window"?qe():zl(n)?sm(n):qe("proxy authentication required");if(o.status===421&&!t&&(r.body==null||r.body.source!=null)){if(zl(n))return sm(n);n.controller.connection.destroy(),o=yield oG(n,e,!0)}return o})}function ile(n,e=!1,t=!1){return B(this,null,function*(){jl(!n.controller.connection||n.controller.connection.destroyed),n.controller.connection={abort:null,destroyed:!1,destroy(I){this.destroyed||(this.destroyed=!0,this.abort?.(I??new Am("The operation was aborted.","AbortError")))}};let r=n.request,i=null,s=n.timingInfo;null==null&&(r.cache="no-store");let a=t?"yes":"no";r.mode;let A=null;if(r.body==null&&n.processRequestEndOfBody)queueMicrotask(()=>n.processRequestEndOfBody());else if(r.body!=null){let I=function(v){return ai(this,null,function*(){zl(n)||(yield v,n.processRequestBodyChunkLength?.(v.byteLength))})},m=()=>{zl(n)||n.processRequestEndOfBody&&n.processRequestEndOfBody()},D=v=>{zl(n)||(v.name==="AbortError"?n.controller.abort():n.controller.terminate(v))};A=function(){return ai(this,null,function*(){try{try{for(var v=Ln(r.body.stream),k,T,_;k=!(T=yield new mA(v.next())).done;k=!1){let L=T.value;yield*ta(I(L))}}catch{_=[T]}finally{try{k&&(T=v.return)&&(yield new mA(T.call(v)))}finally{if(_)throw _[0]}}m()}catch(L){D(L)}})}()}try{let{body:I,status:m,statusText:D,headersList:v,socket:k}=yield d({body:A});if(k)i=om({status:m,statusText:D,headersList:v,socket:k});else{let T=I[Symbol.asyncIterator]();n.controller.next=()=>T.next(),i=om({status:m,statusText:D,headersList:v})}}catch(I){return I.name==="AbortError"?(n.controller.connection.destroy(),sm(n,I)):qe(I)}let c=()=>{n.controller.resume()},l=I=>{n.controller.abort(I)};OD||(OD=F("stream/web").ReadableStream);let u=new OD({start(I){return B(this,null,function*(){n.controller.controller=I})},pull(I){return B(this,null,function*(){yield c(I)})},cancel(I){return B(this,null,function*(){yield l(I)})}},{highWaterMark:0,size(){return 1}});i.body={stream:u},n.controller.on("terminated",h),n.controller.resume=()=>B(this,null,function*(){for(;;){let I,m;try{let{done:D,value:v}=yield n.controller.next();if(jV(n))break;I=D?void 0:v}catch(D){n.controller.ended&&!s.encodedBodySize?I=void 0:(I=D,m=!0)}if(I===void 0){Fce(n.controller.controller),nle(n,i);return}if(s.decodedBodySize+=I?.byteLength??0,m){n.controller.terminate(I);return}if(n.controller.controller.enqueue(new Uint8Array(I)),Hce(u)){n.controller.terminate();return}if(!n.controller.controller.desiredSize)return}});function h(I){jV(n)?(i.aborted=!0,cm(u)&&n.controller.controller.error(n.controller.serializedAbortReason)):cm(u)&&n.controller.controller.error(new TypeError("terminated",{cause:_ce(I)?I:void 0})),n.controller.connection.destroy()}return i;function d(m){return B(this,arguments,function*({body:I}){let D=Xi(r),v=n.controller.dispatcher;return new Promise((k,T)=>v.dispatch({path:D.pathname+D.search,origin:D.origin,method:r.method,body:n.controller.dispatcher.isMockActive?r.body&&(r.body.source||r.body.stream):I,headers:r.headersList.entries,maxRedirections:0,upgrade:r.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:L}=n.controller;L.destroyed?_(new Am("The operation was aborted.","AbortError")):(n.controller.on("terminated",_),this.abort=L.abort=_)},onHeaders(_,L,Q,C){if(_<200)return;let y=[],w="",f=new zV;if(Array.isArray(L))for(let p=0;p<L.length;p+=2){let G=L[p+0].toString("latin1"),pe=L[p+1].toString("latin1");G.toLowerCase()==="content-encoding"?y=pe.toLowerCase().split(",").map(Me=>Me.trim()):G.toLowerCase()==="location"&&(w=pe),f[Wl].append(G,pe)}else{let p=Object.keys(L);for(let G of p){let pe=L[G];G.toLowerCase()==="content-encoding"?y=pe.toLowerCase().split(",").map(Me=>Me.trim()).reverse():G.toLowerCase()==="location"&&(w=pe),f[Wl].append(G,pe)}}this.body=new Gce({read:Q});let b=[],g=r.redirect==="follow"&&w&&eG.has(_);if(r.method!=="HEAD"&&r.method!=="CONNECT"&&!tG.includes(_)&&!g)for(let p of y)if(p==="x-gzip"||p==="gzip")b.push(vd.createGunzip({flush:vd.constants.Z_SYNC_FLUSH,finishFlush:vd.constants.Z_SYNC_FLUSH}));else if(p==="deflate")b.push(vd.createInflate());else if(p==="br")b.push(vd.createBrotliDecompress());else{b.length=0;break}return k({status:_,statusText:C,headersList:f[Wl],body:b.length?qce(this.body,...b,()=>{}):this.body.on("error",()=>{})}),!0},onData(_){if(n.controller.dump)return;let L=_;return s.encodedBodySize+=L.byteLength,this.body.push(L)},onComplete(){this.abort&&n.controller.off("terminated",this.abort),n.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&n.controller.off("terminated",this.abort),this.body?.destroy(_),n.controller.terminate(_),T(_)},onUpgrade(_,L,Q){if(_!==101)return;let C=new zV;for(let y=0;y<L.length;y+=2){let w=L[y+0].toString("latin1"),f=L[y+1].toString("latin1");C[Wl].append(w,f)}return k({status:_,statusText:$ce[_],headersList:C[Wl],socket:Q}),!0}}))})}})}aG.exports={fetch:ele,Fetch:lm,fetching:rG,finalizeAndReportTiming:nG}});var zD=S((WIe,AG)=>{"use strict";AG.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var lG=S((zIe,cG)=>{"use strict";var{webidl:hr}=Dn(),hm=Symbol("ProgressEvent state"),jD=class n extends Event{constructor(e,t={}){e=hr.converters.DOMString(e),t=hr.converters.ProgressEventInit(t??{}),super(e,t),this[hm]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return hr.brandCheck(this,n),this[hm].lengthComputable}get loaded(){return hr.brandCheck(this,n),this[hm].loaded}get total(){return hr.brandCheck(this,n),this[hm].total}};hr.converters.ProgressEventInit=hr.dictionaryConverter([{key:"lengthComputable",converter:hr.converters.boolean,defaultValue:!1},{key:"loaded",converter:hr.converters["unsigned long long"],defaultValue:0},{key:"total",converter:hr.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:hr.converters.boolean,defaultValue:!1},{key:"cancelable",converter:hr.converters.boolean,defaultValue:!1},{key:"composed",converter:hr.converters.boolean,defaultValue:!1}]);cG.exports={ProgressEvent:jD}});var hG=S((jIe,uG)=>{"use strict";function sle(n){if(!n)return"failure";switch(n.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}uG.exports={getEncoding:sle}});var IG=S((KIe,mG)=>{"use strict";var{kState:Kl,kError:KD,kResult:dG,kAborted:Dd,kLastProgressEventFired:XD}=zD(),{ProgressEvent:ole}=lG(),{getEncoding:gG}=hG(),{DOMException:ale}=Yo(),{serializeAMimeType:Ale,parseMIMEType:fG}=ni(),{types:cle}=F("util"),{StringDecoder:pG}=F("string_decoder"),{btoa:EG}=F("buffer"),lle={enumerable:!0,writable:!1,configurable:!1};function ule(n,e,t,r){if(n[Kl]==="loading")throw new ale("Invalid state","InvalidStateError");n[Kl]="loading",n[dG]=null,n[KD]=null;let s=e.stream().getReader(),o=[],a=s.read(),A=!0;B(this,null,function*(){for(;!n[Dd];)try{let{done:c,value:l}=yield a;if(A&&!n[Dd]&&queueMicrotask(()=>{$o("loadstart",n)}),A=!1,!c&&cle.isUint8Array(l))o.push(l),(n[XD]===void 0||Date.now()-n[XD]>=50)&&!n[Dd]&&(n[XD]=Date.now(),queueMicrotask(()=>{$o("progress",n)})),a=s.read();else if(c){queueMicrotask(()=>{n[Kl]="done";try{let u=hle(o,t,e.type,r);if(n[Dd])return;n[dG]=u,$o("load",n)}catch(u){n[KD]=u,$o("error",n)}n[Kl]!=="loading"&&$o("loadend",n)});break}}catch(c){if(n[Dd])return;queueMicrotask(()=>{n[Kl]="done",n[KD]=c,$o("error",n),n[Kl]!=="loading"&&$o("loadend",n)});break}})}function $o(n,e){let t=new ole(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(t)}function hle(n,e,t,r){switch(e){case"DataURL":{let i="data:",s=fG(t||"application/octet-stream");s!=="failure"&&(i+=Ale(s)),i+=";base64,";let o=new pG("latin1");for(let a of n)i+=EG(o.write(a));return i+=EG(o.end()),i}case"Text":{let i="failure";if(r&&(i=gG(r)),i==="failure"&&t){let s=fG(t);s!=="failure"&&(i=gG(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),dle(n,i)}case"ArrayBuffer":return CG(n).buffer;case"BinaryString":{let i="",s=new pG("latin1");for(let o of n)i+=s.write(o);return i+=s.end(),i}}}function dle(n,e){let t=CG(n),r=gle(t),i=0;r!==null&&(e=r,i=r==="UTF-8"?3:2);let s=t.slice(i);return new TextDecoder(e).decode(s)}function gle(n){let[e,t,r]=n;return e===239&&t===187&&r===191?"UTF-8":e===254&&t===255?"UTF-16BE":e===255&&t===254?"UTF-16LE":null}function CG(n){let e=n.reduce((r,i)=>r+i.byteLength,0),t=0;return n.reduce((r,i)=>(r.set(i,t),t+=i.byteLength,r),new Uint8Array(e))}mG.exports={staticPropertyDescriptors:lle,readOperation:ule,fireAProgressEvent:$o}});var wG=S(($Ie,QG)=>{"use strict";var{staticPropertyDescriptors:Xl,readOperation:dm,fireAProgressEvent:BG}=IG(),{kState:gA,kError:yG,kResult:gm,kEvents:ke,kAborted:fle}=zD(),{webidl:Oe}=Dn(),{kEnumerableProperty:Wn}=ve(),oi=class n extends EventTarget{constructor(){super(),this[gA]="empty",this[gm]=null,this[yG]=null,this[ke]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Oe.brandCheck(this,n),Oe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),e=Oe.converters.Blob(e,{strict:!1}),dm(this,e,"ArrayBuffer")}readAsBinaryString(e){Oe.brandCheck(this,n),Oe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),e=Oe.converters.Blob(e,{strict:!1}),dm(this,e,"BinaryString")}readAsText(e,t=void 0){Oe.brandCheck(this,n),Oe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),e=Oe.converters.Blob(e,{strict:!1}),t!==void 0&&(t=Oe.converters.DOMString(t)),dm(this,e,"Text",t)}readAsDataURL(e){Oe.brandCheck(this,n),Oe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),e=Oe.converters.Blob(e,{strict:!1}),dm(this,e,"DataURL")}abort(){if(this[gA]==="empty"||this[gA]==="done"){this[gm]=null;return}this[gA]==="loading"&&(this[gA]="done",this[gm]=null),this[fle]=!0,BG("abort",this),this[gA]!=="loading"&&BG("loadend",this)}get readyState(){switch(Oe.brandCheck(this,n),this[gA]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Oe.brandCheck(this,n),this[gm]}get error(){return Oe.brandCheck(this,n),this[yG]}get onloadend(){return Oe.brandCheck(this,n),this[ke].loadend}set onloadend(e){Oe.brandCheck(this,n),this[ke].loadend&&this.removeEventListener("loadend",this[ke].loadend),typeof e=="function"?(this[ke].loadend=e,this.addEventListener("loadend",e)):this[ke].loadend=null}get onerror(){return Oe.brandCheck(this,n),this[ke].error}set onerror(e){Oe.brandCheck(this,n),this[ke].error&&this.removeEventListener("error",this[ke].error),typeof e=="function"?(this[ke].error=e,this.addEventListener("error",e)):this[ke].error=null}get onloadstart(){return Oe.brandCheck(this,n),this[ke].loadstart}set onloadstart(e){Oe.brandCheck(this,n),this[ke].loadstart&&this.removeEventListener("loadstart",this[ke].loadstart),typeof e=="function"?(this[ke].loadstart=e,this.addEventListener("loadstart",e)):this[ke].loadstart=null}get onprogress(){return Oe.brandCheck(this,n),this[ke].progress}set onprogress(e){Oe.brandCheck(this,n),this[ke].progress&&this.removeEventListener("progress",this[ke].progress),typeof e=="function"?(this[ke].progress=e,this.addEventListener("progress",e)):this[ke].progress=null}get onload(){return Oe.brandCheck(this,n),this[ke].load}set onload(e){Oe.brandCheck(this,n),this[ke].load&&this.removeEventListener("load",this[ke].load),typeof e=="function"?(this[ke].load=e,this.addEventListener("load",e)):this[ke].load=null}get onabort(){return Oe.brandCheck(this,n),this[ke].abort}set onabort(e){Oe.brandCheck(this,n),this[ke].abort&&this.removeEventListener("abort",this[ke].abort),typeof e=="function"?(this[ke].abort=e,this.addEventListener("abort",e)):this[ke].abort=null}};oi.EMPTY=oi.prototype.EMPTY=0;oi.LOADING=oi.prototype.LOADING=1;oi.DONE=oi.prototype.DONE=2;Object.defineProperties(oi.prototype,{EMPTY:Xl,LOADING:Xl,DONE:Xl,readAsArrayBuffer:Wn,readAsBinaryString:Wn,readAsText:Wn,readAsDataURL:Wn,abort:Wn,readyState:Wn,result:Wn,error:Wn,onloadstart:Wn,onprogress:Wn,onload:Wn,onabort:Wn,onerror:Wn,onloadend:Wn,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(oi,{EMPTY:Xl,LOADING:Xl,DONE:Xl});QG.exports={FileReader:oi}});var fm=S((ZIe,SG)=>{"use strict";SG.exports={kConstruct:je().kConstruct}});var DG=S((eBe,vG)=>{"use strict";var ple=F("assert"),{URLSerializer:bG}=ni(),{isValidHeaderName:Ele}=Rr();function Cle(n,e,t=!1){let r=bG(n,t),i=bG(e,t);return r===i}function mle(n){ple(n!==null);let e=[];for(let t of n.split(",")){if(t=t.trim(),t.length){if(!Ele(t))continue}else continue;e.push(t)}return e}vG.exports={urlEquals:Cle,fieldValues:mle}});var FG=S((tBe,_G)=>{"use strict";var{kConstruct:Ile}=fm(),{urlEquals:Ble,fieldValues:$D}=DG(),{kEnumerableProperty:fA,isDisturbed:yle}=ve(),{kHeadersList:RG}=je(),{webidl:ae}=Dn(),{Response:kG,cloneResponse:Qle}=ZC(),{Request:$i}=bd(),{kState:_n,kHeaders:pm,kGuard:TG,kRealm:wle}=ms(),{fetching:Sle}=um(),{urlIsHttpHttpsScheme:Em,createDeferredPromise:$l,readAllBytes:ble}=Rr(),ZD=F("assert"),{getGlobalDispatcher:vle}=Gl(),Cm=class n{#e;constructor(){arguments[0]!==Ile&&ae.illegalConstructor(),this.#e=arguments[1]}match(r){return B(this,arguments,function*(e,t={}){ae.brandCheck(this,n),ae.argumentLengthCheck(arguments,1,{header:"Cache.match"}),e=ae.converters.RequestInfo(e),t=ae.converters.CacheQueryOptions(t);let i=yield this.matchAll(e,t);if(i.length!==0)return i[0]})}matchAll(){return B(this,arguments,function*(e=void 0,t={}){ae.brandCheck(this,n),e!==void 0&&(e=ae.converters.RequestInfo(e)),t=ae.converters.CacheQueryOptions(t);let r=null;if(e!==void 0)if(e instanceof $i){if(r=e[_n],r.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(r=new $i(e)[_n]);let i=[];if(e===void 0)for(let o of this.#e)i.push(o[1]);else{let o=this.#r(r,t);for(let a of o)i.push(a[1])}let s=[];for(let o of i){let a=new kG(o.body?.source??null),A=a[_n].body;a[_n]=o,a[_n].body=A,a[pm][RG]=o.headersList,a[pm][TG]="immutable",s.push(a)}return Object.freeze(s)})}add(t){return B(this,arguments,function*(e){ae.brandCheck(this,n),ae.argumentLengthCheck(arguments,1,{header:"Cache.add"}),e=ae.converters.RequestInfo(e);let r=[e];return yield this.addAll(r)})}addAll(t){return B(this,arguments,function*(e){ae.brandCheck(this,n),ae.argumentLengthCheck(arguments,1,{header:"Cache.addAll"}),e=ae.converters["sequence<RequestInfo>"](e);let r=[],i=[];for(let h of e){if(typeof h=="string")continue;let d=h[_n];if(!Em(d.url)||d.method!=="GET")throw ae.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of e){let d=new $i(h)[_n];if(!Em(d.url))throw ae.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});d.initiator="fetch",d.destination="subresource",i.push(d);let E=$l();s.push(Sle({request:d,dispatcher:vle(),processResponse(I){if(I.type==="error"||I.status===206||I.status<200||I.status>299)E.reject(ae.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(I.headersList.contains("vary")){let m=$D(I.headersList.get("vary"));for(let D of m)if(D==="*"){E.reject(ae.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let v of s)v.abort();return}}},processResponseEndOfBody(I){if(I.aborted){E.reject(new DOMException("aborted","AbortError"));return}E.resolve(I)}})),r.push(E.promise)}let a=yield Promise.all(r),A=[],c=0;for(let h of a){let d={type:"put",request:i[c],response:h};A.push(d),c++}let l=$l(),u=null;try{this.#n(A)}catch(h){u=h}return queueMicrotask(()=>{u===null?l.resolve(void 0):l.reject(u)}),l.promise})}put(r,i){return B(this,arguments,function*(e,t){ae.brandCheck(this,n),ae.argumentLengthCheck(arguments,2,{header:"Cache.put"}),e=ae.converters.RequestInfo(e),t=ae.converters.Response(t);let s=null;if(e instanceof $i?s=e[_n]:s=new $i(e)[_n],!Em(s.url)||s.method!=="GET")throw ae.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let o=t[_n];if(o.status===206)throw ae.errors.exception({header:"Cache.put",message:"Got 206 status"});if(o.headersList.contains("vary")){let E=$D(o.headersList.get("vary"));for(let I of E)if(I==="*")throw ae.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(o.body&&(yle(o.body.stream)||o.body.stream.locked))throw ae.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let a=Qle(o),A=$l();if(o.body!=null){let I=o.body.stream.getReader();ble(I).then(A.resolve,A.reject)}else A.resolve(void 0);let c=[],l={type:"put",request:s,response:a};c.push(l);let u=yield A.promise;a.body!=null&&(a.body.source=u);let h=$l(),d=null;try{this.#n(c)}catch(E){d=E}return queueMicrotask(()=>{d===null?h.resolve():h.reject(d)}),h.promise})}delete(r){return B(this,arguments,function*(e,t={}){ae.brandCheck(this,n),ae.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),e=ae.converters.RequestInfo(e),t=ae.converters.CacheQueryOptions(t);let i=null;if(e instanceof $i){if(i=e[_n],i.method!=="GET"&&!t.ignoreMethod)return!1}else ZD(typeof e=="string"),i=new $i(e)[_n];let s=[],o={type:"delete",request:i,options:t};s.push(o);let a=$l(),A=null,c;try{c=this.#n(s)}catch(l){A=l}return queueMicrotask(()=>{A===null?a.resolve(!!c?.length):a.reject(A)}),a.promise})}keys(){return B(this,arguments,function*(e=void 0,t={}){ae.brandCheck(this,n),e!==void 0&&(e=ae.converters.RequestInfo(e)),t=ae.converters.CacheQueryOptions(t);let r=null;if(e!==void 0)if(e instanceof $i){if(r=e[_n],r.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(r=new $i(e)[_n]);let i=$l(),s=[];if(e===void 0)for(let o of this.#e)s.push(o[0]);else{let o=this.#r(r,t);for(let a of o)s.push(a[0])}return queueMicrotask(()=>{let o=[];for(let a of s){let A=new $i("https://a");A[_n]=a,A[pm][RG]=a.headersList,A[pm][TG]="immutable",A[wle]=a.client,o.push(A)}i.resolve(Object.freeze(o))}),i.promise})}#n(e){let t=this.#e,r=[...t],i=[],s=[];try{for(let o of e){if(o.type!=="delete"&&o.type!=="put")throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(o.type==="delete"&&o.response!=null)throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#r(o.request,o.options,i).length)throw new DOMException("???","InvalidStateError");let a;if(o.type==="delete"){if(a=this.#r(o.request,o.options),a.length===0)return[];for(let A of a){let c=t.indexOf(A);ZD(c!==-1),t.splice(c,1)}}else if(o.type==="put"){if(o.response==null)throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let A=o.request;if(!Em(A.url))throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(A.method!=="GET")throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(o.options!=null)throw ae.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});a=this.#r(o.request);for(let c of a){let l=t.indexOf(c);ZD(l!==-1),t.splice(l,1)}t.push([o.request,o.response]),i.push([o.request,o.response])}s.push([o.request,o.response])}return s}catch(o){throw this.#e.length=0,this.#e=r,o}}#r(e,t,r){let i=[],s=r??this.#e;for(let o of s){let[a,A]=o;this.#t(e,a,A,t)&&i.push(o)}return i}#t(e,t,r=null,i){let s=new URL(e.url),o=new URL(t.url);if(i?.ignoreSearch&&(o.search="",s.search=""),!Ble(s,o,!0))return!1;if(r==null||i?.ignoreVary||!r.headersList.contains("vary"))return!0;let a=$D(r.headersList.get("vary"));for(let A of a){if(A==="*")return!1;let c=t.headersList.get(A),l=e.headersList.get(A);if(c!==l)return!1}return!0}};Object.defineProperties(Cm.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:fA,matchAll:fA,add:fA,addAll:fA,put:fA,delete:fA,keys:fA});var NG=[{key:"ignoreSearch",converter:ae.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:ae.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:ae.converters.boolean,defaultValue:!1}];ae.converters.CacheQueryOptions=ae.dictionaryConverter(NG);ae.converters.MultiCacheQueryOptions=ae.dictionaryConverter([...NG,{key:"cacheName",converter:ae.converters.DOMString}]);ae.converters.Response=ae.interfaceConverter(kG);ae.converters["sequence<RequestInfo>"]=ae.sequenceConverter(ae.converters.RequestInfo);_G.exports={Cache:Cm}});var LG=S((rBe,MG)=>{"use strict";var{kConstruct:Rd}=fm(),{Cache:mm}=FG(),{webidl:Fn}=Dn(),{kEnumerableProperty:Td}=ve(),Im=class n{#e=new Map;constructor(){arguments[0]!==Rd&&Fn.illegalConstructor()}match(r){return B(this,arguments,function*(e,t={}){if(Fn.brandCheck(this,n),Fn.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),e=Fn.converters.RequestInfo(e),t=Fn.converters.MultiCacheQueryOptions(t),t.cacheName!=null){if(this.#e.has(t.cacheName)){let i=this.#e.get(t.cacheName);return yield new mm(Rd,i).match(e,t)}}else for(let i of this.#e.values()){let o=yield new mm(Rd,i).match(e,t);if(o!==void 0)return o}})}has(t){return B(this,arguments,function*(e){return Fn.brandCheck(this,n),Fn.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),e=Fn.converters.DOMString(e),this.#e.has(e)})}open(t){return B(this,arguments,function*(e){if(Fn.brandCheck(this,n),Fn.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),e=Fn.converters.DOMString(e),this.#e.has(e)){let i=this.#e.get(e);return new mm(Rd,i)}let r=[];return this.#e.set(e,r),new mm(Rd,r)})}delete(t){return B(this,arguments,function*(e){return Fn.brandCheck(this,n),Fn.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),e=Fn.converters.DOMString(e),this.#e.delete(e)})}keys(){return B(this,null,function*(){return Fn.brandCheck(this,n),[...this.#e.keys()]})}};Object.defineProperties(Im.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Td,has:Td,open:Td,delete:Td,keys:Td});MG.exports={CacheStorage:Im}});var xG=S((sBe,UG)=>{"use strict";UG.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var eR=S((oBe,VG)=>{"use strict";var OG=F("assert"),{kHeadersList:PG}=je();function Dle(n){if(n.length===0)return!1;for(let e of n){let t=e.charCodeAt(0);if(t>=0||t<=8||t>=10||t<=31||t===127)return!1}}function Rle(n){for(let e of n){let t=e.charCodeAt(0);if(t<=32||t>127||e==="("||e===")"||e===">"||e==="<"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}")throw new Error("Invalid cookie name")}}function Tle(n){for(let e of n){let t=e.charCodeAt(0);if(t<33||t===34||t===44||t===59||t===92||t>126)throw new Error("Invalid header value")}}function kle(n){for(let e of n)if(e.charCodeAt(0)<33||e===";")throw new Error("Invalid cookie path")}function Nle(n){if(n.startsWith("-")||n.endsWith(".")||n.endsWith("-"))throw new Error("Invalid cookie domain")}function _le(n){typeof n=="number"&&(n=new Date(n));let e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e[n.getUTCDay()],i=n.getUTCDate().toString().padStart(2,"0"),s=t[n.getUTCMonth()],o=n.getUTCFullYear(),a=n.getUTCHours().toString().padStart(2,"0"),A=n.getUTCMinutes().toString().padStart(2,"0"),c=n.getUTCSeconds().toString().padStart(2,"0");return`${r}, ${i} ${s} ${o} ${a}:${A}:${c} GMT`}function Fle(n){if(n<0)throw new Error("Invalid cookie max-age")}function Mle(n){if(n.name.length===0)return null;Rle(n.name),Tle(n.value);let e=[`${n.name}=${n.value}`];n.name.startsWith("__Secure-")&&(n.secure=!0),n.name.startsWith("__Host-")&&(n.secure=!0,n.domain=null,n.path="/"),n.secure&&e.push("Secure"),n.httpOnly&&e.push("HttpOnly"),typeof n.maxAge=="number"&&(Fle(n.maxAge),e.push(`Max-Age=${n.maxAge}`)),n.domain&&(Nle(n.domain),e.push(`Domain=${n.domain}`)),n.path&&(kle(n.path),e.push(`Path=${n.path}`)),n.expires&&n.expires.toString()!=="Invalid Date"&&e.push(`Expires=${_le(n.expires)}`),n.sameSite&&e.push(`SameSite=${n.sameSite}`);for(let t of n.unparsed){if(!t.includes("="))throw new Error("Invalid unparsed");let[r,...i]=t.split("=");e.push(`${r.trim()}=${i.join("=")}`)}return e.join("; ")}var Bm;function Lle(n){if(n[PG])return n[PG];Bm||(Bm=Object.getOwnPropertySymbols(n).find(t=>t.description==="headers list"),OG(Bm,"Headers cannot be parsed"));let e=n[Bm];return OG(e),e}VG.exports={isCTLExcludingHtab:Dle,stringify:Mle,getHeadersList:Lle}});var qG=S((aBe,GG)=>{"use strict";var{maxNameValuePairSize:Ule,maxAttributeValueSize:xle}=xG(),{isCTLExcludingHtab:Ole}=eR(),{collectASequenceOfCodePointsFast:ym}=ni(),Ple=F("assert");function Vle(n){if(Ole(n))return null;let e="",t="",r="",i="";if(n.includes(";")){let s={position:0};e=ym(";",n,s),t=n.slice(s.position)}else e=n;if(!e.includes("="))i=e;else{let s={position:0};r=ym("=",e,s),i=e.slice(s.position+1)}return r=r.trim(),i=i.trim(),r.length+i.length>Ule?null:P({name:r,value:i},Zl(t))}function Zl(n,e={}){if(n.length===0)return e;Ple(n[0]===";"),n=n.slice(1);let t="";n.includes(";")?(t=ym(";",n,{position:0}),n=n.slice(t.length)):(t=n,n="");let r="",i="";if(t.includes("=")){let o={position:0};r=ym("=",t,o),i=t.slice(o.position+1)}else r=t;if(r=r.trim(),i=i.trim(),i.length>xle)return Zl(n,e);let s=r.toLowerCase();if(s==="expires"){let o=new Date(i);e.expires=o}else if(s==="max-age"){let o=i.charCodeAt(0);if((o<48||o>57)&&i[0]!=="-"||!/^\d+$/.test(i))return Zl(n,e);let a=Number(i);e.maxAge=a}else if(s==="domain"){let o=i;o[0]==="."&&(o=o.slice(1)),o=o.toLowerCase(),e.domain=o}else if(s==="path"){let o="";i.length===0||i[0]!=="/"?o="/":o=i,e.path=o}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let o="Default",a=i.toLowerCase();a.includes("none")&&(o="None"),a.includes("strict")&&(o="Strict"),a.includes("lax")&&(o="Lax"),e.sameSite=o}else e.unparsed??=[],e.unparsed.push(`${r}=${i}`);return Zl(n,e)}GG.exports={parseSetCookie:Vle,parseUnparsedAttributes:Zl}});var WG=S((cBe,JG)=>{"use strict";var{parseSetCookie:Gle}=qG(),{stringify:YG,getHeadersList:qle}=eR(),{webidl:Qe}=Dn(),{Headers:Qm}=hA();function Yle(n){Qe.argumentLengthCheck(arguments,1,{header:"getCookies"}),Qe.brandCheck(n,Qm,{strict:!1});let e=n.get("cookie"),t={};if(!e)return t;for(let r of e.split(";")){let[i,...s]=r.split("=");t[i.trim()]=s.join("=")}return t}function Hle(n,e,t){Qe.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),Qe.brandCheck(n,Qm,{strict:!1}),e=Qe.converters.DOMString(e),t=Qe.converters.DeleteCookieAttributes(t),HG(n,P({name:e,value:"",expires:new Date(0)},t))}function Jle(n){Qe.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),Qe.brandCheck(n,Qm,{strict:!1});let e=qle(n).cookies;return e?e.map(t=>Gle(Array.isArray(t)?t[1]:t)):[]}function HG(n,e){Qe.argumentLengthCheck(arguments,2,{header:"setCookie"}),Qe.brandCheck(n,Qm,{strict:!1}),e=Qe.converters.Cookie(e),YG(e)&&n.append("Set-Cookie",YG(e))}Qe.converters.DeleteCookieAttributes=Qe.dictionaryConverter([{converter:Qe.nullableConverter(Qe.converters.DOMString),key:"path",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters.DOMString),key:"domain",defaultValue:null}]);Qe.converters.Cookie=Qe.dictionaryConverter([{converter:Qe.converters.DOMString,key:"name"},{converter:Qe.converters.DOMString,key:"value"},{converter:Qe.nullableConverter(n=>typeof n=="number"?Qe.converters["unsigned long long"](n):new Date(n)),key:"expires",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters["long long"]),key:"maxAge",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters.DOMString),key:"domain",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters.DOMString),key:"path",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters.boolean),key:"secure",defaultValue:null},{converter:Qe.nullableConverter(Qe.converters.boolean),key:"httpOnly",defaultValue:null},{converter:Qe.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Qe.sequenceConverter(Qe.converters.DOMString),key:"unparsed",defaultValue:[]}]);JG.exports={getCookies:Yle,deleteCookie:Hle,getSetCookies:Jle,setCookie:HG}});var eu=S((uBe,zG)=>{"use strict";var Wle="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",zle={enumerable:!0,writable:!1,configurable:!1},jle={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Kle={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Xle=2**16-1,$le={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Zle=Buffer.allocUnsafe(0);zG.exports={uid:Wle,staticPropertyDescriptors:zle,states:jle,opcodes:Kle,maxUnsigned16Bit:Xle,parserStates:$le,emptyBuffer:Zle}});var kd=S((hBe,jG)=>{"use strict";jG.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var nR=S((dBe,KG)=>{"use strict";var{webidl:Ae}=Dn(),{kEnumerableProperty:zn}=ve(),{MessagePort:eue}=F("worker_threads"),wm=class n extends Event{#e;constructor(e,t={}){Ae.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),e=Ae.converters.DOMString(e),t=Ae.converters.MessageEventInit(t),super(e,t),this.#e=t}get data(){return Ae.brandCheck(this,n),this.#e.data}get origin(){return Ae.brandCheck(this,n),this.#e.origin}get lastEventId(){return Ae.brandCheck(this,n),this.#e.lastEventId}get source(){return Ae.brandCheck(this,n),this.#e.source}get ports(){return Ae.brandCheck(this,n),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,t=!1,r=!1,i=null,s="",o="",a=null,A=[]){return Ae.brandCheck(this,n),Ae.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new n(e,{bubbles:t,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:A})}},Sm=class n extends Event{#e;constructor(e,t={}){Ae.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),e=Ae.converters.DOMString(e),t=Ae.converters.CloseEventInit(t),super(e,t),this.#e=t}get wasClean(){return Ae.brandCheck(this,n),this.#e.wasClean}get code(){return Ae.brandCheck(this,n),this.#e.code}get reason(){return Ae.brandCheck(this,n),this.#e.reason}},bm=class n extends Event{#e;constructor(e,t){Ae.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(e,t),e=Ae.converters.DOMString(e),t=Ae.converters.ErrorEventInit(t??{}),this.#e=t}get message(){return Ae.brandCheck(this,n),this.#e.message}get filename(){return Ae.brandCheck(this,n),this.#e.filename}get lineno(){return Ae.brandCheck(this,n),this.#e.lineno}get colno(){return Ae.brandCheck(this,n),this.#e.colno}get error(){return Ae.brandCheck(this,n),this.#e.error}};Object.defineProperties(wm.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:zn,origin:zn,lastEventId:zn,source:zn,ports:zn,initMessageEvent:zn});Object.defineProperties(Sm.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:zn,code:zn,wasClean:zn});Object.defineProperties(bm.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:zn,filename:zn,lineno:zn,colno:zn,error:zn});Ae.converters.MessagePort=Ae.interfaceConverter(eue);Ae.converters["sequence<MessagePort>"]=Ae.sequenceConverter(Ae.converters.MessagePort);var tR=[{key:"bubbles",converter:Ae.converters.boolean,defaultValue:!1},{key:"cancelable",converter:Ae.converters.boolean,defaultValue:!1},{key:"composed",converter:Ae.converters.boolean,defaultValue:!1}];Ae.converters.MessageEventInit=Ae.dictionaryConverter([...tR,{key:"data",converter:Ae.converters.any,defaultValue:null},{key:"origin",converter:Ae.converters.USVString,defaultValue:""},{key:"lastEventId",converter:Ae.converters.DOMString,defaultValue:""},{key:"source",converter:Ae.nullableConverter(Ae.converters.MessagePort),defaultValue:null},{key:"ports",converter:Ae.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);Ae.converters.CloseEventInit=Ae.dictionaryConverter([...tR,{key:"wasClean",converter:Ae.converters.boolean,defaultValue:!1},{key:"code",converter:Ae.converters["unsigned short"],defaultValue:0},{key:"reason",converter:Ae.converters.USVString,defaultValue:""}]);Ae.converters.ErrorEventInit=Ae.dictionaryConverter([...tR,{key:"message",converter:Ae.converters.DOMString,defaultValue:""},{key:"filename",converter:Ae.converters.USVString,defaultValue:""},{key:"lineno",converter:Ae.converters["unsigned long"],defaultValue:0},{key:"colno",converter:Ae.converters["unsigned long"],defaultValue:0},{key:"error",converter:Ae.converters.any}]);KG.exports={MessageEvent:wm,CloseEvent:Sm,ErrorEvent:bm}});var Rm=S((gBe,ZG)=>{"use strict";var{kReadyState:vm,kController:tue,kResponse:nue,kBinaryType:rue,kWebSocketURL:iue}=kd(),{states:Dm,opcodes:XG}=eu(),{MessageEvent:sue,ErrorEvent:oue}=nR();function aue(n){return n[vm]===Dm.OPEN}function Aue(n){return n[vm]===Dm.CLOSING}function cue(n){return n[vm]===Dm.CLOSED}function rR(n,e,t=Event,r){let i=new t(n,r);e.dispatchEvent(i)}function lue(n,e,t){if(n[vm]!==Dm.OPEN)return;let r;if(e===XG.TEXT)try{r=new TextDecoder("utf-8",{fatal:!0}).decode(t)}catch{$G(n,"Received invalid UTF-8 in text frame.");return}else e===XG.BINARY&&(n[rue]==="blob"?r=new Blob([t]):r=new Uint8Array(t).buffer);rR("message",n,sue,{origin:n[iue].origin,data:r})}function uue(n){if(n.length===0)return!1;for(let e of n){let t=e.charCodeAt(0);if(t<33||t>126||e==="("||e===")"||e==="<"||e===">"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}"||t===32||t===9)return!1}return!0}function hue(n){return n>=1e3&&n<1015?n!==1004&&n!==1005&&n!==1006:n>=3e3&&n<=4999}function $G(n,e){let{[tue]:t,[nue]:r}=n;t.abort(),r?.socket&&!r.socket.destroyed&&r.socket.destroy(),e&&rR("error",n,oue,{error:new Error(e)})}ZG.exports={isEstablished:aue,isClosing:Aue,isClosed:cue,fireEvent:rR,isValidSubprotocol:uue,isValidStatusCode:hue,failWebsocketConnection:$G,websocketMessageReceived:lue}});var sq=S((fBe,iq)=>{"use strict";var sR=F("diagnostics_channel"),{uid:due,states:tq}=eu(),{kReadyState:nq,kSentClose:eq,kByteParser:rq,kReceivedClose:gue}=kd(),{fireEvent:fue,failWebsocketConnection:pA}=Rm(),{CloseEvent:pue}=nR(),{makeRequest:Eue}=bd(),{fetching:Cue}=um(),{Headers:mue}=hA(),{getGlobalDispatcher:Iue}=Gl(),{kHeadersList:Bue}=je(),Ds={};Ds.open=sR.channel("undici:websocket:open");Ds.close=sR.channel("undici:websocket:close");Ds.socketError=sR.channel("undici:websocket:socket_error");var iR;try{iR=F("crypto")}catch{}function yue(n,e,t,r,i){let s=n;s.protocol=n.protocol==="ws:"?"http:":"https:";let o=Eue({urlList:[s],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(i.headers){let l=new mue(i.headers)[Bue];o.headersList=l}let a=iR.randomBytes(16).toString("base64");o.headersList.append("sec-websocket-key",a),o.headersList.append("sec-websocket-version","13");for(let l of e)o.headersList.append("sec-websocket-protocol",l);let A="";return Cue({request:o,useParallelQueue:!0,dispatcher:i.dispatcher??Iue(),processResponse(l){if(l.type==="error"||l.status!==101){pA(t,"Received network error or non-101 status code.");return}if(e.length!==0&&!l.headersList.get("Sec-WebSocket-Protocol")){pA(t,"Server did not respond with sent protocols.");return}if(l.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){pA(t,'Server did not set Upgrade header to "websocket".');return}if(l.headersList.get("Connection")?.toLowerCase()!=="upgrade"){pA(t,'Server did not set Connection header to "upgrade".');return}let u=l.headersList.get("Sec-WebSocket-Accept"),h=iR.createHash("sha1").update(a+due).digest("base64");if(u!==h){pA(t,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let d=l.headersList.get("Sec-WebSocket-Extensions");if(d!==null&&d!==A){pA(t,"Received different permessage-deflate than the one set.");return}let E=l.headersList.get("Sec-WebSocket-Protocol");if(E!==null&&E!==o.headersList.get("Sec-WebSocket-Protocol")){pA(t,"Protocol was not set in the opening handshake.");return}l.socket.on("data",Que),l.socket.on("close",wue),l.socket.on("error",Sue),Ds.open.hasSubscribers&&Ds.open.publish({address:l.socket.address(),protocol:E,extensions:d}),r(l)}})}function Que(n){this.ws[rq].write(n)||this.pause()}function wue(){let{ws:n}=this,e=n[eq]&&n[gue],t=1005,r="",i=n[rq].closingInfo;i?(t=i.code??1005,r=i.reason):n[eq]||(t=1006),n[nq]=tq.CLOSED,fue("close",n,pue,{wasClean:e,code:t,reason:r}),Ds.close.hasSubscribers&&Ds.close.publish({websocket:n,code:t,reason:r})}function Sue(n){let{ws:e}=this;e[nq]=tq.CLOSING,Ds.socketError.hasSubscribers&&Ds.socketError.publish(n),this.destroy()}iq.exports={establishWebSocketConnection:yue}});var aR=S((pBe,aq)=>{"use strict";var{maxUnsigned16Bit:bue}=eu(),oq;try{oq=F("crypto")}catch{}var oR=class{constructor(e){this.frameData=e,this.maskKey=oq.randomBytes(4)}createFrame(e){let t=this.frameData?.byteLength??0,r=t,i=6;t>bue?(i+=8,r=127):t>125&&(i+=2,r=126);let s=Buffer.allocUnsafe(t+i);s[0]=s[1]=0,s[0]|=128,s[0]=(s[0]&240)+e;s[i-4]=this.maskKey[0],s[i-3]=this.maskKey[1],s[i-2]=this.maskKey[2],s[i-1]=this.maskKey[3],s[1]=r,r===126?s.writeUInt16BE(t,2):r===127&&(s[2]=s[3]=0,s.writeUIntBE(t,4,6)),s[1]|=128;for(let o=0;o<t;o++)s[i+o]=this.frameData[o]^this.maskKey[o%4];return s}};aq.exports={WebsocketFrameSend:oR}});var fq=S((EBe,gq)=>{"use strict";var{Writable:vue}=F("stream"),dq=F("diagnostics_channel"),{parserStates:Nr,opcodes:_r,states:Due,emptyBuffer:Rue}=eu(),{kReadyState:Tue,kSentClose:Aq,kResponse:cq,kReceivedClose:lq}=kd(),{isValidStatusCode:uq,failWebsocketConnection:Nd,websocketMessageReceived:kue}=Rm(),{WebsocketFrameSend:hq}=aR(),tu={};tu.ping=dq.channel("undici:websocket:ping");tu.pong=dq.channel("undici:websocket:pong");var AR=class extends vue{#e=[];#n=0;#r=Nr.INFO;#t={};#i=[];constructor(e){super(),this.ws=e}_write(e,t,r){this.#e.push(e),this.#n+=e.length,this.run(r)}run(e){for(;;){if(this.#r===Nr.INFO){if(this.#n<2)return e();let t=this.consume(2);if(this.#t.fin=(t[0]&128)!==0,this.#t.opcode=t[0]&15,this.#t.originalOpcode??=this.#t.opcode,this.#t.fragmented=!this.#t.fin&&this.#t.opcode!==_r.CONTINUATION,this.#t.fragmented&&this.#t.opcode!==_r.BINARY&&this.#t.opcode!==_r.TEXT){Nd(this.ws,"Invalid frame type was fragmented.");return}let r=t[1]&127;if(r<=125?(this.#t.payloadLength=r,this.#r=Nr.READ_DATA):r===126?this.#r=Nr.PAYLOADLENGTH_16:r===127&&(this.#r=Nr.PAYLOADLENGTH_64),this.#t.fragmented&&r>125){Nd(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#t.opcode===_r.PING||this.#t.opcode===_r.PONG||this.#t.opcode===_r.CLOSE)&&r>125){Nd(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#t.opcode===_r.CLOSE){if(r===1){Nd(this.ws,"Received close frame with a 1-byte body.");return}let i=this.consume(r);if(this.#t.closeInfo=this.parseCloseBody(!1,i),!this.ws[Aq]){let s=Buffer.allocUnsafe(2);s.writeUInt16BE(this.#t.closeInfo.code,0);let o=new hq(s);this.ws[cq].socket.write(o.createFrame(_r.CLOSE),a=>{a||(this.ws[Aq]=!0)})}this.ws[Tue]=Due.CLOSING,this.ws[lq]=!0,this.end();return}else if(this.#t.opcode===_r.PING){let i=this.consume(r);if(!this.ws[lq]){let s=new hq(i);this.ws[cq].socket.write(s.createFrame(_r.PONG)),tu.ping.hasSubscribers&&tu.ping.publish({payload:i})}if(this.#r=Nr.INFO,this.#n>0)continue;e();return}else if(this.#t.opcode===_r.PONG){let i=this.consume(r);if(tu.pong.hasSubscribers&&tu.pong.publish({payload:i}),this.#n>0)continue;e();return}}else if(this.#r===Nr.PAYLOADLENGTH_16){if(this.#n<2)return e();let t=this.consume(2);this.#t.payloadLength=t.readUInt16BE(0),this.#r=Nr.READ_DATA}else if(this.#r===Nr.PAYLOADLENGTH_64){if(this.#n<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2**31-1){Nd(this.ws,"Received payload length > 2^31 bytes.");return}let i=t.readUInt32BE(4);this.#t.payloadLength=(r<<8)+i,this.#r=Nr.READ_DATA}else if(this.#r===Nr.READ_DATA){if(this.#n<this.#t.payloadLength)return e();if(this.#n>=this.#t.payloadLength){let t=this.consume(this.#t.payloadLength);if(this.#i.push(t),!this.#t.fragmented||this.#t.fin&&this.#t.opcode===_r.CONTINUATION){let r=Buffer.concat(this.#i);kue(this.ws,this.#t.originalOpcode,r),this.#t={},this.#i.length=0}this.#r=Nr.INFO}}if(!(this.#n>0)){e();break}}}consume(e){if(e>this.#n)return null;if(e===0)return Rue;if(this.#e[0].length===e)return this.#n-=this.#e[0].length,this.#e.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#e[0],{length:s}=i;if(s+r===e){t.set(this.#e.shift(),r);break}else if(s+r>e){t.set(i.subarray(0,e-r),r),this.#e[0]=i.subarray(e-r);break}else t.set(this.#e.shift(),r),r+=i.length}return this.#n-=e,t}parseCloseBody(e,t){let r;if(t.length>=2&&(r=t.readUInt16BE(0)),e)return uq(r)?{code:r}:null;let i=t.subarray(2);if(i[0]===239&&i[1]===187&&i[2]===191&&(i=i.subarray(3)),r!==void 0&&!uq(r))return null;try{i=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{return null}return{code:r,reason:i}}get closingInfo(){return this.#t.closeInfo}};gq.exports={ByteParser:AR}});var Qq=S((CBe,yq)=>{"use strict";var{webidl:he}=Dn(),{DOMException:Zo}=Yo(),{URLSerializer:Nue}=ni(),{getGlobalOrigin:_ue}=Il(),{staticPropertyDescriptors:ea,states:nu,opcodes:_d,emptyBuffer:Fue}=eu(),{kWebSocketURL:pq,kReadyState:Rs,kController:Mue,kBinaryType:Tm,kResponse:km,kSentClose:Lue,kByteParser:Uue}=kd(),{isEstablished:Eq,isClosing:Cq,isValidSubprotocol:xue,failWebsocketConnection:Oue,fireEvent:Pue}=Rm(),{establishWebSocketConnection:Vue}=sq(),{WebsocketFrameSend:Fd}=aR(),{ByteParser:Gue}=fq(),{kEnumerableProperty:Fr,isBlobLike:Iq}=ve(),{getGlobalDispatcher:que}=Gl(),{types:Bq}=F("util"),mq=!1,dr=class n extends EventTarget{#e={open:null,error:null,close:null,message:null};#n=0;#r="";#t="";constructor(e,t=[]){super(),he.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),mq||(mq=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let r=he.converters["DOMString or sequence<DOMString> or WebSocketInit"](t);e=he.converters.USVString(e),t=r.protocols;let i=_ue(),s;try{s=new URL(e,i)}catch(o){throw new Zo(o,"SyntaxError")}if(s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.protocol!=="ws:"&&s.protocol!=="wss:")throw new Zo(`Expected a ws: or wss: protocol, got ${s.protocol}`,"SyntaxError");if(s.hash||s.href.endsWith("#"))throw new Zo("Got fragment","SyntaxError");if(typeof t=="string"&&(t=[t]),t.length!==new Set(t.map(o=>o.toLowerCase())).size)throw new Zo("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(t.length>0&&!t.every(o=>xue(o)))throw new Zo("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[pq]=new URL(s.href),this[Mue]=Vue(s,t,this,o=>this.#i(o),r),this[Rs]=n.CONNECTING,this[Tm]="blob"}close(e=void 0,t=void 0){if(he.brandCheck(this,n),e!==void 0&&(e=he.converters["unsigned short"](e,{clamp:!0})),t!==void 0&&(t=he.converters.USVString(t)),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new Zo("invalid code","InvalidAccessError");let r=0;if(t!==void 0&&(r=Buffer.byteLength(t),r>123))throw new Zo(`Reason must be less than 123 bytes; received ${r}`,"SyntaxError");if(!(this[Rs]===n.CLOSING||this[Rs]===n.CLOSED))if(!Eq(this))Oue(this,"Connection was closed before it was established."),this[Rs]=n.CLOSING;else if(Cq(this))this[Rs]=n.CLOSING;else{let i=new Fd;e!==void 0&&t===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&t!==void 0?(i.frameData=Buffer.allocUnsafe(2+r),i.frameData.writeUInt16BE(e,0),i.frameData.write(t,2,"utf-8")):i.frameData=Fue,this[km].socket.write(i.createFrame(_d.CLOSE),o=>{o||(this[Lue]=!0)}),this[Rs]=nu.CLOSING}}send(e){if(he.brandCheck(this,n),he.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),e=he.converters.WebSocketSendData(e),this[Rs]===n.CONNECTING)throw new Zo("Sent before connected.","InvalidStateError");if(!Eq(this)||Cq(this))return;let t=this[km].socket;if(typeof e=="string"){let r=Buffer.from(e),s=new Fd(r).createFrame(_d.TEXT);this.#n+=r.byteLength,t.write(s,()=>{this.#n-=r.byteLength})}else if(Bq.isArrayBuffer(e)){let r=Buffer.from(e),s=new Fd(r).createFrame(_d.BINARY);this.#n+=r.byteLength,t.write(s,()=>{this.#n-=r.byteLength})}else if(ArrayBuffer.isView(e)){let r=Buffer.from(e,e.byteOffset,e.byteLength),s=new Fd(r).createFrame(_d.BINARY);this.#n+=r.byteLength,t.write(s,()=>{this.#n-=r.byteLength})}else if(Iq(e)){let r=new Fd;e.arrayBuffer().then(i=>{let s=Buffer.from(i);r.frameData=s;let o=r.createFrame(_d.BINARY);this.#n+=s.byteLength,t.write(o,()=>{this.#n-=s.byteLength})})}}get readyState(){return he.brandCheck(this,n),this[Rs]}get bufferedAmount(){return he.brandCheck(this,n),this.#n}get url(){return he.brandCheck(this,n),Nue(this[pq])}get extensions(){return he.brandCheck(this,n),this.#t}get protocol(){return he.brandCheck(this,n),this.#r}get onopen(){return he.brandCheck(this,n),this.#e.open}set onopen(e){he.brandCheck(this,n),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return he.brandCheck(this,n),this.#e.error}set onerror(e){he.brandCheck(this,n),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return he.brandCheck(this,n),this.#e.close}set onclose(e){he.brandCheck(this,n),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return he.brandCheck(this,n),this.#e.message}set onmessage(e){he.brandCheck(this,n),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return he.brandCheck(this,n),this[Tm]}set binaryType(e){he.brandCheck(this,n),e!=="blob"&&e!=="arraybuffer"?this[Tm]="blob":this[Tm]=e}#i(e){this[km]=e;let t=new Gue(this);t.on("drain",function(){this.ws[km].socket.resume()}),e.socket.ws=this,this[Uue]=t,this[Rs]=nu.OPEN;let r=e.headersList.get("sec-websocket-extensions");r!==null&&(this.#t=r);let i=e.headersList.get("sec-websocket-protocol");i!==null&&(this.#r=i),Pue("open",this)}};dr.CONNECTING=dr.prototype.CONNECTING=nu.CONNECTING;dr.OPEN=dr.prototype.OPEN=nu.OPEN;dr.CLOSING=dr.prototype.CLOSING=nu.CLOSING;dr.CLOSED=dr.prototype.CLOSED=nu.CLOSED;Object.defineProperties(dr.prototype,{CONNECTING:ea,OPEN:ea,CLOSING:ea,CLOSED:ea,url:Fr,readyState:Fr,bufferedAmount:Fr,onopen:Fr,onerror:Fr,onclose:Fr,close:Fr,onmessage:Fr,binaryType:Fr,send:Fr,extensions:Fr,protocol:Fr,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(dr,{CONNECTING:ea,OPEN:ea,CLOSING:ea,CLOSED:ea});he.converters["sequence<DOMString>"]=he.sequenceConverter(he.converters.DOMString);he.converters["DOMString or sequence<DOMString>"]=function(n){return he.util.Type(n)==="Object"&&Symbol.iterator in n?he.converters["sequence<DOMString>"](n):he.converters.DOMString(n)};he.converters.WebSocketInit=he.dictionaryConverter([{key:"protocols",converter:he.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:n=>n,get defaultValue(){return que()}},{key:"headers",converter:he.nullableConverter(he.converters.HeadersInit)}]);he.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(n){return he.util.Type(n)==="Object"&&!(Symbol.iterator in n)?he.converters.WebSocketInit(n):{protocols:he.converters["DOMString or sequence<DOMString>"](n)}};he.converters.WebSocketSendData=function(n){if(he.util.Type(n)==="Object"){if(Iq(n))return he.converters.Blob(n,{strict:!1});if(ArrayBuffer.isView(n)||Bq.isAnyArrayBuffer(n))return he.converters.BufferSource(n)}return he.converters.USVString(n)};yq.exports={WebSocket:dr}});var vq=S((mBe,Ce)=>{"use strict";var Yue=dd(),wq=hC(),Sq=Ge(),Hue=_l(),Jue=x2(),Wue=Ed(),EA=ve(),{InvalidArgumentError:Nm}=Sq,ru=RP(),zue=sd(),jue=CD(),Kue=uV(),Xue=BD(),$ue=oD(),Zue=EV(),ehe=yV(),{getGlobalDispatcher:bq,setGlobalDispatcher:the}=Gl(),nhe=DV(),rhe=Ev(),ihe=pC(),cR;try{F("crypto"),cR=!0}catch{cR=!1}Object.assign(wq.prototype,ru);Ce.exports.Dispatcher=wq;Ce.exports.Client=Yue;Ce.exports.Pool=Hue;Ce.exports.BalancedPool=Jue;Ce.exports.Agent=Wue;Ce.exports.ProxyAgent=Zue;Ce.exports.RetryHandler=ehe;Ce.exports.DecoratorHandler=nhe;Ce.exports.RedirectHandler=rhe;Ce.exports.createRedirectInterceptor=ihe;Ce.exports.buildConnector=zue;Ce.exports.errors=Sq;function Md(n){return(e,t,r)=>{if(typeof t=="function"&&(r=t,t=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new Nm("invalid url");if(t!=null&&typeof t!="object")throw new Nm("invalid opts");if(t&&t.path!=null){if(typeof t.path!="string")throw new Nm("invalid opts.path");let o=t.path;t.path.startsWith("/")||(o=`/${o}`),e=new URL(EA.parseOrigin(e).origin+o)}else t||(t=typeof e=="object"?e:{}),e=EA.parseURL(e);let{agent:i,dispatcher:s=bq()}=t;if(i)throw new Nm("unsupported opts.agent. Did you mean opts.client?");return n.call(s,te(P({},t),{origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:t.method||(t.body?"PUT":"GET")}),r)}}Ce.exports.setGlobalDispatcher=the;Ce.exports.getGlobalDispatcher=bq;if(EA.nodeMajor>16||EA.nodeMajor===16&&EA.nodeMinor>=8){let n=null;Ce.exports.fetch=function(a){return B(this,arguments,function*(o){n||(n=um().fetch);try{return yield n(...arguments)}catch(A){throw typeof A=="object"&&Error.captureStackTrace(A,this),A}})},Ce.exports.Headers=hA().Headers,Ce.exports.Response=ZC().Response,Ce.exports.Request=bd().Request,Ce.exports.FormData=cC().FormData,Ce.exports.File=aC().File,Ce.exports.FileReader=wG().FileReader;let{setGlobalOrigin:e,getGlobalOrigin:t}=Il();Ce.exports.setGlobalOrigin=e,Ce.exports.getGlobalOrigin=t;let{CacheStorage:r}=LG(),{kConstruct:i}=fm();Ce.exports.caches=new r(i)}if(EA.nodeMajor>=16){let{deleteCookie:n,getCookies:e,getSetCookies:t,setCookie:r}=WG();Ce.exports.deleteCookie=n,Ce.exports.getCookies=e,Ce.exports.getSetCookies=t,Ce.exports.setCookie=r;let{parseMIMEType:i,serializeAMimeType:s}=ni();Ce.exports.parseMIMEType=i,Ce.exports.serializeAMimeType=s}if(EA.nodeMajor>=18&&cR){let{WebSocket:n}=Qq();Ce.exports.WebSocket=n}Ce.exports.request=Md(ru.request);Ce.exports.stream=Md(ru.stream);Ce.exports.pipeline=Md(ru.pipeline);Ce.exports.connect=Md(ru.connect);Ce.exports.upgrade=Md(ru.upgrade);Ce.exports.MockClient=jue;Ce.exports.MockPool=Xue;Ce.exports.MockAgent=Kue;Ce.exports.mockErrors=$ue});var Hq="firebase",Jq="10.12.0";$t(Hq,Jq,"app");var Pr=new Gm("ANGULARFIRE2_VERSION");function bA(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var oa=(n,e)=>{let t=e?[e]:Zd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xn=class{constructor(){return oa(Wq)}},Wq="app-check";function SA(){}var eg=class{zone;delegate;constructor(e,t=BR){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},jm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",SA,{},SA,SA)),t.pipe(BA({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new eg(Zone.current)),this.insideAngular=t.run(()=>new eg(Zone.current,Od)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ce(an))};static \u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function zq(n){return tg().ngZone.runOutsideAngular(()=>n())}function sa(n){return tg().ngZone.run(()=>n())}function In(n){return jq(tg())(n)}function jq(n){return function(t){return t=t.lift(new jm(n.ngZone)),t.pipe(na(n.outsideAngular),_s(n.insideAngular))}}var Kq=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),sa(()=>n.apply(void 0,r))},vA=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=sa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",SA,{},SA,SA))),r[s]=Kq(r[s],t));let i=zq(()=>n.apply(this,r));if(!e)if(i instanceof Mr){let s=tg();return i.pipe(na(s.outsideAngular),_s(s.insideAngular))}else return sa(()=>i);return i instanceof Mr?i.pipe(In):i instanceof Promise?sa(()=>new Promise((s,o)=>i.then(a=>sa(()=>s(a)),a=>sa(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:sa(()=>i)};var xs=class{constructor(e){return e}},Os=class{constructor(){return Zd()}};var Xq=new Map,$q={activated:!1,tokenObservers:[]},Zq={initialized:!1,enabled:!1};function Vr(n){return Xq.get(n)||Object.assign({},$q)}function rT(){return Zq}var eY="https://content-firebaseappcheck.googleapis.com/v1";var tY="exchangeDebugToken",ZR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},lde=24*60*60*1e3;var Xm=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return B(this,null,function*(){this.stop();try{this.pending=new Hm,this.pending.promise.catch(t=>{}),yield nY(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Hm,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nY(n){return new Promise(e=>{setTimeout(e,n)})}var rY={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ps=new XR("appCheck","AppCheck",rY);function iT(n){if(!Vr(n).activated)throw Ps.create("use-before-activation",{appName:n.name})}function sT(r,i){return B(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let d=yield o.getHeartbeatsHeader();d&&(s["X-Firebase-Client"]=d)}let a={method:"POST",body:JSON.stringify(e),headers:s},A;try{A=yield fetch(n,a)}catch(d){throw Ps.create("fetch-network-error",{originalErrorMessage:d?.message})}if(A.status!==200)throw Ps.create("fetch-status-error",{httpStatus:A.status});let c;try{c=yield A.json()}catch(d){throw Ps.create("fetch-parse-error",{originalErrorMessage:d?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let u=Number(l[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function oT(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${eY}/projects/${t}/apps/${r}:${tY}?key=${i}`,body:{debug_token:e}}}var iY="firebase-app-check-database",sY=1,$m="firebase-app-check-store";var ng=null;function oY(){return ng||(ng=new Promise((n,e)=>{try{let t=indexedDB.open(iY,sY);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ps.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($m,{keyPath:"compositeKey"})}}}catch(t){e(Ps.create("storage-open",{originalErrorMessage:t?.message}))}}),ng)}function aY(n,e){return AY(cY(n),e)}function AY(n,e){return B(this,null,function*(){let r=(yield oY()).transaction($m,"readwrite"),s=r.objectStore($m).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=A=>{o()},r.onerror=A=>{var c;a(Ps.create("storage-set",{originalErrorMessage:(c=A.target.error)===null||c===void 0?void 0:c.message}))}})})}function cY(n){return`${n.options.appId}-${n.name}`}var Zm=new Xd("@firebase/app-check");function Km(n,e){return jd()?aY(n,e).catch(t=>{Zm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aT(){return rT().enabled}function AT(){return B(this,null,function*(){let n=rT();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lY={error:"UNKNOWN_ERROR"};function uY(n){return KR.encodeString(JSON.stringify(n),!1)}function eI(n,e=!1){return B(this,null,function*(){let t=n.app;iT(t);let r=Vr(t),i=r.token,s;if(i&&!du(i)&&(r.token=void 0,i=void 0),!i){let A=yield r.cachedTokenPromise;A&&(du(A)?i=A:yield Km(t,void 0))}if(!e&&i&&du(i))return{token:i.token};let o=!1;if(aT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sT(oT(t,yield AT()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let A=yield r.exchangeTokenPromise;return yield Km(t,A),r.token=A,{token:A.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Vr(t).exchangeTokenPromise}catch(A){A.code==="appCheck/throttled"?Zm.warn(A.message):Zm.error(A),s=A}let a;return i?s?du(i)?a={token:i.token,internalError:s}:a=tT(s):(a={token:i.token},r.token=i,yield Km(t,i)):a=tT(s),o&&fY(t,a),a})}function hY(n){return B(this,null,function*(){let e=n.app;iT(e);let{provider:t}=Vr(e);if(aT()){let r=yield AT(),{token:i}=yield sT(oT(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function dY(n,e,t,r){let{app:i}=n,s=Vr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&du(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),eT(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>eT(n))}function cT(n,e){let t=Vr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function eT(n){let{app:e}=n,t=Vr(e),r=t.tokenRefresher;r||(r=gY(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gY(n){let{app:e}=n;return new Xm(()=>B(this,null,function*(){let t=Vr(e),r;if(t.token?r=yield eI(n,!0):r=yield eI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Vr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZR.RETRIAL_MIN_WAIT,ZR.RETRIAL_MAX_WAIT)}function fY(n,e){let t=Vr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function du(n){return n.expireTimeMillis-Date.now()>0}function tT(n){return{token:uY(lY),error:n}}var tI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Vr(this.app);for(let t of e)cT(this.app,t.next);return Promise.resolve()}};function pY(n,e){return new tI(n,e)}function EY(n){return{getToken:e=>eI(n,e),getLimitedUseToken:()=>hY(n),addTokenListener:e=>dY(n,"INTERNAL",e),removeTokenListener:e=>cT(n.app,e)}}var CY="@firebase/app-check",mY="0.8.4";var IY="app-check",nT="app-check-internal";function BY(){ia(new ts(IY,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return pY(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nT).initialize()})),ia(new ts(nT,n=>{let e=n.getProvider("app-check").getImmediate();return EY(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$t(CY,mY)}BY();var yY=["localhost","0.0.0.0","127.0.0.1"],yde=typeof window<"u"&&yY.includes(window.location.hostname);var QY="firebase",wY="10.12.0";Kn.registerVersion(QY,wY,"app-compat");var SY=["ngOnDestroy"],hT=(n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(SY.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let A=a?.[s];return typeof A=="function"?A.bind(a):A?.then?A.then(c=>t.run(()=>c)):t.run(()=>A)});return new Proxy(()=>{},{get:(a,A)=>o[A],apply:(a,A,c)=>o.then(l=>{let u=l?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,u),u})})})});var rg=class{constructor(e){return e}},DA=new xe("angularfire2.app.options"),RA=new xe("angularfire2.app.name");function gu(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let o=Kn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Kn.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;bY("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new rg(o)}var bY=(n,...e)=>{qm()&&typeof console<"u"&&console[n](...e)},vY={provide:rg,useFactory:gu,deps:[DA,an,[new on,RA]]},dT=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:DA,useValue:t},{provide:RA,useValue:r}]}}constructor(t){Kn.registerVersion("angularfire",Pr.full,"core"),Kn.registerVersion("angularfire",Pr.full,"app-compat"),Kn.registerVersion("angular",UR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ce(QA))};static \u0275mod=mn({type:n});static \u0275inj=Cn({providers:[vY]})}return n})();function ig(n,e,t,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return DY(i,o)||(uT("error",`${e} was already initialized on the ${t} Firebase App with different settings.${RY?" You may need to reload as Firebase is not HMR aware.":""}`),uT("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function DY(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var RY=typeof module<"u"&&!!module.hot,uT=(n,...e)=>{qm()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var nI=new xe("angularfire2.auth.use-emulator"),rI=new xe("angularfire2.auth.settings"),iI=new xe("angularfire2.auth.tenant-id"),sI=new xe("angularfire2.auth.langugage-code"),oI=new xe("angularfire2.auth.use-device-language"),aI=new xe("angularfire.auth.persistence"),AI=(n,e,t,r,i,s,o,a)=>ig(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let A=e.runOutsideAngular(()=>n.auth());if(t&&A.useEmulator(...t),r&&(A.tenantId=r),A.languageCode=i,s&&A.useDeviceLanguage(),o)for(let[c,l]of Object.entries(o))A.settings[c]=l;return a&&A.setPersistence(a),A},[t,r,i,s,o,a]),di=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,A,c,l,u,h,d){let E=new IR,I=Fs(void 0).pipe(_s(o.outsideAngular),Ai(()=>s.runOutsideAngular(()=>import("./chunk-CMK2GBIN.mjs"))),Ue(()=>gu(t,s,r)),Ue(m=>AI(m,s,a,c,l,u,A,h)),Mm({bufferSize:1,refCount:!1}));if(Hd(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Fs(null);else{I.pipe(bR()).subscribe();let m=I.pipe(Ai(k=>k.getRedirectResult().then(T=>T,()=>null)),In,Mm({bufferSize:1,refCount:!1})),D=I.pipe(Ai(k=>new Mr(T=>({unsubscribe:s.runOutsideAngular(()=>k.onAuthStateChanged(_=>T.next(_),_=>T.error(_),()=>T.complete()))})))),v=I.pipe(Ai(k=>new Mr(T=>({unsubscribe:s.runOutsideAngular(()=>k.onIdTokenChanged(_=>T.next(_),_=>T.error(_),()=>T.complete()))}))));this.authState=m.pipe(Lm(D),na(o.outsideAngular),_s(o.insideAngular)),this.user=m.pipe(Lm(v),na(o.outsideAngular),_s(o.insideAngular)),this.idToken=this.user.pipe(Ai(k=>k?Un(k.getIdToken()):Fs(null))),this.idTokenResult=this.user.pipe(Ai(k=>k?Un(k.getIdTokenResult()):Fs(null))),this.credential=QR(m,E,this.authState.pipe(su(k=>!k))).pipe(Ue(k=>k?.user?k:null),na(o.outsideAngular),_s(o.insideAngular))}return hT(this,I,s,{spy:{apply:(m,D,v)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&v.then(k=>E.next(k))}}})}static \u0275fac=function(r){return new(r||n)(ce(DA),ce(RA,8),ce(QA),ce(an),ce(hi),ce(nI,8),ce(rI,8),ce(iI,8),ce(sI,8),ce(oI,8),ce(aI,8),ce(Xn,8))};static \u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();import{inspect as Hj,TextEncoder as Jj,TextDecoder as Wj}from"util";import{randomBytes as zj}from"crypto";var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fT={};var Vs,cI;(function(){var n;function e(Q,C){function y(){}y.prototype=C.prototype,Q.D=C.prototype,Q.prototype=new y,Q.prototype.constructor=Q,Q.C=function(w,f,b){for(var g=Array(arguments.length-2),p=2;p<arguments.length;p++)g[p-2]=arguments[p];return C.prototype[f].apply(w,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(Q,C,y){y||(y=0);var w=Array(16);if(typeof C=="string")for(var f=0;16>f;++f)w[f]=C.charCodeAt(y++)|C.charCodeAt(y++)<<8|C.charCodeAt(y++)<<16|C.charCodeAt(y++)<<24;else for(f=0;16>f;++f)w[f]=C[y++]|C[y++]<<8|C[y++]<<16|C[y++]<<24;C=Q.g[0],y=Q.g[1],f=Q.g[2];var b=Q.g[3],g=C+(b^y&(f^b))+w[0]+3614090360&4294967295;C=y+(g<<7&4294967295|g>>>25),g=b+(f^C&(y^f))+w[1]+3905402710&4294967295,b=C+(g<<12&4294967295|g>>>20),g=f+(y^b&(C^y))+w[2]+606105819&4294967295,f=b+(g<<17&4294967295|g>>>15),g=y+(C^f&(b^C))+w[3]+3250441966&4294967295,y=f+(g<<22&4294967295|g>>>10),g=C+(b^y&(f^b))+w[4]+4118548399&4294967295,C=y+(g<<7&4294967295|g>>>25),g=b+(f^C&(y^f))+w[5]+1200080426&4294967295,b=C+(g<<12&4294967295|g>>>20),g=f+(y^b&(C^y))+w[6]+2821735955&4294967295,f=b+(g<<17&4294967295|g>>>15),g=y+(C^f&(b^C))+w[7]+4249261313&4294967295,y=f+(g<<22&4294967295|g>>>10),g=C+(b^y&(f^b))+w[8]+1770035416&4294967295,C=y+(g<<7&4294967295|g>>>25),g=b+(f^C&(y^f))+w[9]+2336552879&4294967295,b=C+(g<<12&4294967295|g>>>20),g=f+(y^b&(C^y))+w[10]+4294925233&4294967295,f=b+(g<<17&4294967295|g>>>15),g=y+(C^f&(b^C))+w[11]+2304563134&4294967295,y=f+(g<<22&4294967295|g>>>10),g=C+(b^y&(f^b))+w[12]+1804603682&4294967295,C=y+(g<<7&4294967295|g>>>25),g=b+(f^C&(y^f))+w[13]+4254626195&4294967295,b=C+(g<<12&4294967295|g>>>20),g=f+(y^b&(C^y))+w[14]+2792965006&4294967295,f=b+(g<<17&4294967295|g>>>15),g=y+(C^f&(b^C))+w[15]+1236535329&4294967295,y=f+(g<<22&4294967295|g>>>10),g=C+(f^b&(y^f))+w[1]+4129170786&4294967295,C=y+(g<<5&4294967295|g>>>27),g=b+(y^f&(C^y))+w[6]+3225465664&4294967295,b=C+(g<<9&4294967295|g>>>23),g=f+(C^y&(b^C))+w[11]+643717713&4294967295,f=b+(g<<14&4294967295|g>>>18),g=y+(b^C&(f^b))+w[0]+3921069994&4294967295,y=f+(g<<20&4294967295|g>>>12),g=C+(f^b&(y^f))+w[5]+3593408605&4294967295,C=y+(g<<5&4294967295|g>>>27),g=b+(y^f&(C^y))+w[10]+38016083&4294967295,b=C+(g<<9&4294967295|g>>>23),g=f+(C^y&(b^C))+w[15]+3634488961&4294967295,f=b+(g<<14&4294967295|g>>>18),g=y+(b^C&(f^b))+w[4]+3889429448&4294967295,y=f+(g<<20&4294967295|g>>>12),g=C+(f^b&(y^f))+w[9]+568446438&4294967295,C=y+(g<<5&4294967295|g>>>27),g=b+(y^f&(C^y))+w[14]+3275163606&4294967295,b=C+(g<<9&4294967295|g>>>23),g=f+(C^y&(b^C))+w[3]+4107603335&4294967295,f=b+(g<<14&4294967295|g>>>18),g=y+(b^C&(f^b))+w[8]+1163531501&4294967295,y=f+(g<<20&4294967295|g>>>12),g=C+(f^b&(y^f))+w[13]+2850285829&4294967295,C=y+(g<<5&4294967295|g>>>27),g=b+(y^f&(C^y))+w[2]+4243563512&4294967295,b=C+(g<<9&4294967295|g>>>23),g=f+(C^y&(b^C))+w[7]+1735328473&4294967295,f=b+(g<<14&4294967295|g>>>18),g=y+(b^C&(f^b))+w[12]+2368359562&4294967295,y=f+(g<<20&4294967295|g>>>12),g=C+(y^f^b)+w[5]+4294588738&4294967295,C=y+(g<<4&4294967295|g>>>28),g=b+(C^y^f)+w[8]+2272392833&4294967295,b=C+(g<<11&4294967295|g>>>21),g=f+(b^C^y)+w[11]+1839030562&4294967295,f=b+(g<<16&4294967295|g>>>16),g=y+(f^b^C)+w[14]+4259657740&4294967295,y=f+(g<<23&4294967295|g>>>9),g=C+(y^f^b)+w[1]+2763975236&4294967295,C=y+(g<<4&4294967295|g>>>28),g=b+(C^y^f)+w[4]+1272893353&4294967295,b=C+(g<<11&4294967295|g>>>21),g=f+(b^C^y)+w[7]+4139469664&4294967295,f=b+(g<<16&4294967295|g>>>16),g=y+(f^b^C)+w[10]+3200236656&4294967295,y=f+(g<<23&4294967295|g>>>9),g=C+(y^f^b)+w[13]+681279174&4294967295,C=y+(g<<4&4294967295|g>>>28),g=b+(C^y^f)+w[0]+3936430074&4294967295,b=C+(g<<11&4294967295|g>>>21),g=f+(b^C^y)+w[3]+3572445317&4294967295,f=b+(g<<16&4294967295|g>>>16),g=y+(f^b^C)+w[6]+76029189&4294967295,y=f+(g<<23&4294967295|g>>>9),g=C+(y^f^b)+w[9]+3654602809&4294967295,C=y+(g<<4&4294967295|g>>>28),g=b+(C^y^f)+w[12]+3873151461&4294967295,b=C+(g<<11&4294967295|g>>>21),g=f+(b^C^y)+w[15]+530742520&4294967295,f=b+(g<<16&4294967295|g>>>16),g=y+(f^b^C)+w[2]+3299628645&4294967295,y=f+(g<<23&4294967295|g>>>9),g=C+(f^(y|~b))+w[0]+4096336452&4294967295,C=y+(g<<6&4294967295|g>>>26),g=b+(y^(C|~f))+w[7]+1126891415&4294967295,b=C+(g<<10&4294967295|g>>>22),g=f+(C^(b|~y))+w[14]+2878612391&4294967295,f=b+(g<<15&4294967295|g>>>17),g=y+(b^(f|~C))+w[5]+4237533241&4294967295,y=f+(g<<21&4294967295|g>>>11),g=C+(f^(y|~b))+w[12]+1700485571&4294967295,C=y+(g<<6&4294967295|g>>>26),g=b+(y^(C|~f))+w[3]+2399980690&4294967295,b=C+(g<<10&4294967295|g>>>22),g=f+(C^(b|~y))+w[10]+4293915773&4294967295,f=b+(g<<15&4294967295|g>>>17),g=y+(b^(f|~C))+w[1]+2240044497&4294967295,y=f+(g<<21&4294967295|g>>>11),g=C+(f^(y|~b))+w[8]+1873313359&4294967295,C=y+(g<<6&4294967295|g>>>26),g=b+(y^(C|~f))+w[15]+4264355552&4294967295,b=C+(g<<10&4294967295|g>>>22),g=f+(C^(b|~y))+w[6]+2734768916&4294967295,f=b+(g<<15&4294967295|g>>>17),g=y+(b^(f|~C))+w[13]+1309151649&4294967295,y=f+(g<<21&4294967295|g>>>11),g=C+(f^(y|~b))+w[4]+4149444226&4294967295,C=y+(g<<6&4294967295|g>>>26),g=b+(y^(C|~f))+w[11]+3174756917&4294967295,b=C+(g<<10&4294967295|g>>>22),g=f+(C^(b|~y))+w[2]+718787259&4294967295,f=b+(g<<15&4294967295|g>>>17),g=y+(b^(f|~C))+w[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+C&4294967295,Q.g[1]=Q.g[1]+(f+(g<<21&4294967295|g>>>11))&4294967295,Q.g[2]=Q.g[2]+f&4294967295,Q.g[3]=Q.g[3]+b&4294967295}r.prototype.u=function(Q,C){C===void 0&&(C=Q.length);for(var y=C-this.blockSize,w=this.B,f=this.h,b=0;b<C;){if(f==0)for(;b<=y;)i(this,Q,b),b+=this.blockSize;if(typeof Q=="string"){for(;b<C;)if(w[f++]=Q.charCodeAt(b++),f==this.blockSize){i(this,w),f=0;break}}else for(;b<C;)if(w[f++]=Q[b++],f==this.blockSize){i(this,w),f=0;break}}this.h=f,this.o+=C},r.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var C=1;C<Q.length-8;++C)Q[C]=0;var y=8*this.o;for(C=Q.length-8;C<Q.length;++C)Q[C]=y&255,y/=256;for(this.u(Q),Q=Array(16),C=y=0;4>C;++C)for(var w=0;32>w;w+=8)Q[y++]=this.g[C]>>>w&255;return Q};function s(Q,C){var y=a;return Object.prototype.hasOwnProperty.call(y,Q)?y[Q]:y[Q]=C(Q)}function o(Q,C){this.h=C;for(var y=[],w=!0,f=Q.length-1;0<=f;f--){var b=Q[f]|0;w&&b==C||(y[f]=b,w=!1)}this.g=y}var a={};function A(Q){return-128<=Q&&128>Q?s(Q,function(C){return new o([C|0],0>C?-1:0)}):new o([Q|0],0>Q?-1:0)}function c(Q){if(isNaN(Q)||!isFinite(Q))return u;if(0>Q)return m(c(-Q));for(var C=[],y=1,w=0;Q>=y;w++)C[w]=Q/y|0,y*=4294967296;return new o(C,0)}function l(Q,C){if(Q.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Q.charAt(0)=="-")return m(l(Q.substring(1),C));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(C,8)),w=u,f=0;f<Q.length;f+=8){var b=Math.min(8,Q.length-f),g=parseInt(Q.substring(f,f+b),C);8>b?(b=c(Math.pow(C,b)),w=w.j(b).add(c(g))):(w=w.j(y),w=w.add(c(g)))}return w}var u=A(0),h=A(1),d=A(16777216);n=o.prototype,n.m=function(){if(I(this))return-m(this).m();for(var Q=0,C=1,y=0;y<this.g.length;y++){var w=this.i(y);Q+=(0<=w?w:4294967296+w)*C,C*=4294967296}return Q},n.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(E(this))return"0";if(I(this))return"-"+m(this).toString(Q);for(var C=c(Math.pow(Q,6)),y=this,w="";;){var f=T(y,C).g;y=D(y,f.j(C));var b=((0<y.g.length?y.g[0]:y.h)>>>0).toString(Q);if(y=f,E(y))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},n.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function E(Q){if(Q.h!=0)return!1;for(var C=0;C<Q.g.length;C++)if(Q.g[C]!=0)return!1;return!0}function I(Q){return Q.h==-1}n.l=function(Q){return Q=D(this,Q),I(Q)?-1:E(Q)?0:1};function m(Q){for(var C=Q.g.length,y=[],w=0;w<C;w++)y[w]=~Q.g[w];return new o(y,~Q.h).add(h)}n.abs=function(){return I(this)?m(this):this},n.add=function(Q){for(var C=Math.max(this.g.length,Q.g.length),y=[],w=0,f=0;f<=C;f++){var b=w+(this.i(f)&65535)+(Q.i(f)&65535),g=(b>>>16)+(this.i(f)>>>16)+(Q.i(f)>>>16);w=g>>>16,b&=65535,g&=65535,y[f]=g<<16|b}return new o(y,y[y.length-1]&-2147483648?-1:0)};function D(Q,C){return Q.add(m(C))}n.j=function(Q){if(E(this)||E(Q))return u;if(I(this))return I(Q)?m(this).j(m(Q)):m(m(this).j(Q));if(I(Q))return m(this.j(m(Q)));if(0>this.l(d)&&0>Q.l(d))return c(this.m()*Q.m());for(var C=this.g.length+Q.g.length,y=[],w=0;w<2*C;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var f=0;f<Q.g.length;f++){var b=this.i(w)>>>16,g=this.i(w)&65535,p=Q.i(f)>>>16,G=Q.i(f)&65535;y[2*w+2*f]+=g*G,v(y,2*w+2*f),y[2*w+2*f+1]+=b*G,v(y,2*w+2*f+1),y[2*w+2*f+1]+=g*p,v(y,2*w+2*f+1),y[2*w+2*f+2]+=b*p,v(y,2*w+2*f+2)}for(w=0;w<C;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=C;w<2*C;w++)y[w]=0;return new o(y,0)};function v(Q,C){for(;(Q[C]&65535)!=Q[C];)Q[C+1]+=Q[C]>>>16,Q[C]&=65535,C++}function k(Q,C){this.g=Q,this.h=C}function T(Q,C){if(E(C))throw Error("division by zero");if(E(Q))return new k(u,u);if(I(Q))return C=T(m(Q),C),new k(m(C.g),m(C.h));if(I(C))return C=T(Q,m(C)),new k(m(C.g),C.h);if(30<Q.g.length){if(I(Q)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var y=h,w=C;0>=w.l(Q);)y=_(y),w=_(w);var f=L(y,1),b=L(w,1);for(w=L(w,2),y=L(y,2);!E(w);){var g=b.add(w);0>=g.l(Q)&&(f=f.add(y),b=g),w=L(w,1),y=L(y,1)}return C=D(Q,f.j(C)),new k(f,C)}for(f=u;0<=Q.l(C);){for(y=Math.max(1,Math.floor(Q.m()/C.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=c(y),g=b.j(C);I(g)||0<g.l(Q);)y-=w,b=c(y),g=b.j(C);E(b)&&(b=h),f=f.add(b),Q=D(Q,g)}return new k(f,Q)}n.A=function(Q){return T(this,Q).h},n.and=function(Q){for(var C=Math.max(this.g.length,Q.g.length),y=[],w=0;w<C;w++)y[w]=this.i(w)&Q.i(w);return new o(y,this.h&Q.h)},n.or=function(Q){for(var C=Math.max(this.g.length,Q.g.length),y=[],w=0;w<C;w++)y[w]=this.i(w)|Q.i(w);return new o(y,this.h|Q.h)},n.xor=function(Q){for(var C=Math.max(this.g.length,Q.g.length),y=[],w=0;w<C;w++)y[w]=this.i(w)^Q.i(w);return new o(y,this.h^Q.h)};function _(Q){for(var C=Q.g.length+1,y=[],w=0;w<C;w++)y[w]=Q.i(w)<<1|Q.i(w-1)>>>31;return new o(y,Q.h)}function L(Q,C){var y=C>>5;C%=32;for(var w=Q.g.length-y,f=[],b=0;b<w;b++)f[b]=0<C?Q.i(b+y)>>>C|Q.i(b+y+1)<<32-C:Q.i(b+y);return new o(f,Q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cI=fT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=l,Vs=fT.Integer=o}).apply(typeof gT<"u"?gT:typeof self<"u"?self:typeof window<"u"?window:{});var ba=xd(YF(),1),tL=xd(iy(),1);var HF="@firebase/firestore",JF="4.6.2";var Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null);Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid");Ft.FIRST_PARTY=new Ft("first-party-uid");Ft.MOCK_USER=new Ft("mock-user");var jj="10.12.0";var Kc=jj;function Kj(n){Kc=n}function Xj(n){return Hj(n,{depth:100})}var Qo=new Xd("@firebase/firestore");function wc(){return Qo.logLevel}function U0(n){Qo.setLogLevel(n)}function O(n,...e){if(Qo.logLevel<=ui.DEBUG){let t=e.map(x0);Qo.debug(`Firestore (${Kc}): ${n}`,...t)}}function ct(n,...e){if(Qo.logLevel<=ui.ERROR){let t=e.map(x0);Qo.error(`Firestore (${Kc}): ${n}`,...t)}}function br(n,...e){if(Qo.logLevel<=ui.WARN){let t=e.map(x0);Qo.warn(`Firestore (${Kc}): ${n}`,...t)}}function x0(n){if(typeof n=="string")return n;try{return Xj(n)}catch{return n}}function j(n="Unexpected state"){let e=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: `+n;throw ct(e),new Error(e)}function ee(n,e){n||j()}function nL(n,e){n||j()}function W(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=class extends Kd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},UQ=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}},xQ=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},OQ=class{constructor(e){this.authProvider=e,this.currentUser=Ft.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.tokenCounter,i=A=>this.tokenCounter!==r?(r=this.tokenCounter,t(A)):Promise.resolve(),s=new yt;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new yt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let A=s;e.enqueueRetryable(()=>B(this,null,function*(){yield A.promise,yield i(this.currentUser)}))},a=A=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.tokenListener),o()};this.authProvider.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){let A=this.authProvider.getImmediate({optional:!0});A?a(A):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yt)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.tokenCounter!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new hp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new Ft(e)}},PQ=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},VQ=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new PQ(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},GQ=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qQ=class{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){let r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee(typeof t.token=="string"),this.latestAppCheckToken=t.token,new GQ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}};function $j(n){if(!n)return new UQ;switch(n.type){case"firstParty":return new VQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function Zj(n){return zj(n)}var dp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=Zj(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function va(n,e,t){return n.length!==e.length?!1:n.every((r,i)=>t(r,e[i]))}function rL(n){return n+"\0"}var WF=-62135596800,zF=1e6,lt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WF)throw new M(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-t*1e3)*zF);return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/zF}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-WF,t=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return t+"."+r}};var re=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new lt(0,0))}static max(){return new n(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jF="__name__",gp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&j(),r===void 0?r=e.length-t:r>e.length-t&&j(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Se=class n extends gp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new M(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wt=class n extends gp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jF}static keyField(){return new n([jF])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new M(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new M(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let A=e[i+1];if(!(A==="\\"||A==="."||A==="`"))throw new M(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new M(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Se.fromString(e))}static fromName(e){return new n(Se.fromString(e).popFirst(5))}static empty(){return new n(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new n(new Se(e.slice()))}};var _c=-1,t5=0,YQ=(()=>{class n{constructor(t,r,i,s){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=s}}return n.UNKNOWN_ID=-1,n})();function O0(n){return n.fields.find(e=>e.kind===2)}function Da(n){return n.fields.filter(e=>e.kind!==2)}function n5(n){let e=Da(n);return e.length===0?0:e[e.length-1].kind}function r5(n){return`id=${n.indexId}|cg=${n.collectionGroup}|f=${n.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}var Tc=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var ch=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(t5,vr.min())}};function iL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new vr(i,J.empty(),e)}function sL(n){return new vr(n.readTime,n.key,_c)}var vr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),J.empty(),_c)}static max(){return new n(re.max(),J.empty(),_c)}};function P0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0||(t=J.comparator(n.documentKey,e.documentKey),t!==0)?t:ge(n.largestBatchId,e.largestBatchId)}var oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fo(n){return B(this,null,function*(){if(n.code===N.FAILED_PRECONDITION&&n.message===oL)O("LocalStore","Unexpectedly lost primary lease");else throw n})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},A=>r(A))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let A=0;A<s;A++){let c=A;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};var tr="SimpleDb",i5=3,pp=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.completionDeferred=new yt,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{t.error?this.completionDeferred.reject(new Sa(e,t.error)):this.completionDeferred.resolve()},this.transaction.onerror=r=>{let i=V0(r.target.error);this.completionDeferred.reject(new Sa(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(s){throw new Sa(t,s)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(O(tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;!this.aborted&&typeof e.commit=="function"&&e.commit()}store(e){let t=this.transaction.objectStore(e);return new JQ(t)}},wo=class n{constructor(e,t,r){this.name=e,this.version=t,this.schemaConverter=r,n.getIOSVersion(uu())===12.2&&ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O(tr,"Removing database:",e),Ca(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!jd())return!1;if(n.isMockPersistence())return!0;let e=uu(),t=n.getIOSVersion(e),r=0<t&&t<10,i=aL(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static isMockPersistence(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}ensureDb(e){return B(this,null,function*(){return this.db||(O(tr,"Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;t(o)},i.onblocked=()=>{r(new Sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new M(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new M(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Sa(e,o))},i.onupgradeneeded=s=>{O(tr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.schemaConverter.createOrUpgrade(o,i.transaction,s.oldVersion,this.version).next(()=>{O(tr,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=t=>this.versionchangelistener(t)),this.db})}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return B(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.ensureDb(e);let a=pp.open(this.db,e,s?"readonly":"readwrite",r),A=i(a).next(c=>(a.maybeCommit(),c)).catch(c=>(a.abort(c),R.reject(c))).toPromise();return A.catch(()=>{}),yield a.completionPromise,A}catch(a){let A=a,c=A.name!=="FirebaseError"&&o<i5;if(O(tr,"Transaction failed with error:",A.message,"Retrying:",c),this.close(),!c)return Promise.reject(A)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function aL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var HQ=class{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return Ca(this.dbCursor.delete())}},Sa=class extends M{constructor(e,t){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Mo(n){return n.name==="IndexedDbTransactionError"}var JQ=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(O(tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(O(tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ca(r)}add(e){O(tr,"ADD",this.store.name,e,e);let t=this.store.add(e);return Ca(t)}get(e){let t=this.store.get(e);return Ca(t).next(r=>(r===void 0&&(r=null),O(tr,"GET",this.store.name,e,r),r))}delete(e){O(tr,"DELETE",this.store.name,e);let t=this.store.delete(e);return Ca(t)}count(){O(tr,"COUNT",this.store.name);let e=this.store.count();return Ca(e)}loadAll(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new R((o,a)=>{s.onerror=A=>{a(A.target.error)},s.onsuccess=A=>{o(A.target.result)}})}else{let s=this.cursor(r),o=[];return this.iterateCursor(s,(a,A)=>{o.push(A)}).next(()=>o)}}loadFirst(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}deleteAll(e,t){O(tr,"DELETE ALL",this.store.name);let r=this.options(e,t);r.keysOnly=!1;let i=this.cursor(r);return this.iterateCursor(i,(s,o,a)=>a.delete())}iterate(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.iterateCursor(i,t)}iterateSerial(e){let t=this.cursor({});return new R((r,i)=>{t.onerror=s=>{let o=V0(s.target.error);i(o)},t.onsuccess=s=>{let o=s.target.result;if(!o){r();return}e(o.primaryKey,o.value).next(a=>{a?o.continue():r()})}})}iterateCursor(e,t){let r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a){i();return}let A=new HQ(a),c=t(a.primaryKey,a.value,A);if(c instanceof R){let l=c.catch(u=>(A.done(),R.reject(u)));r.push(l)}A.isDone?i():A.skipToKey===null?a.continue():a.continue(A.skipToKey)}}).next(()=>R.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}else return this.store.openCursor(e.range,t)}};function Ca(n){return new R((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=V0(r.target.error);t(i)}})}var KF=!1;function V0(n){let e=wo.getIOSVersion(uu());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KF||(KF=!0,setTimeout(()=>{throw r},0)),r}}return n}var rh="IndexBackfiller",s5=15*1e3,o5=60*1e3,a5=50,WQ=class{constructor(e,t){this.asyncQueue=e,this.backfiller=t,this.task=null}start(){this.schedule(s5)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}schedule(e){O(rh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>B(this,null,function*(){this.task=null;try{let t=yield this.backfiller.backfill();O(rh,`Documents written: ${t}`)}catch(t){Mo(t)?O(rh,"Ignoring IndexedDB error during index backfill: ",t):yield Fo(t)}yield this.schedule(o5)}))}},zQ=class{constructor(e,t){this.localStore=e,this.persistence=t}backfill(){return B(this,arguments,function*(e=a5){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))})}writeIndexEntries(e,t){let r=new Set,i=t,s=!0;return R.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o===null||r.has(o))s=!1;else return O(rh,`Processing collection: ${o}`),this.writeEntriesForCollectionGroup(e,o,i).next(a=>{i-=a,r.add(o)})})).next(()=>t-i)}writeEntriesForCollectionGroup(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.getNewOffset(i,s)).next(a=>(O(rh,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}getNewOffset(e,t){let r=e;return t.changes.forEach((i,s)=>{let o=sL(s);P0(o,r)>0&&(r=o)}),new vr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var nr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}n.INVALID=-1;return n})(),kc="",jQ="",AL="",cL="";function Sn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=XF(e)),e=A5(n.get(t),e);return XF(e)}function A5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+=kc+AL;break;case kc:t+=kc+cL;break;default:t+=s}}return t}function XF(n){return n+kc+jQ}function ki(n){let e=n.length;if(ee(e>=2),e===2)return ee(n.charAt(0)===kc&&n.charAt(1)===jQ),Se.emptyPath();let t=e-2,r=[],i="";for(let s=0;s<e;){let o=n.indexOf(kc,s);switch((o<0||o>t)&&j(),n.charAt(o+1)){case jQ:let A=n.substring(s,o),c;i.length===0?c=A:(i+=A,c=i,i=""),r.push(c);break;case AL:i+=n.substring(s,o),i+="\0";break;case cL:i+=n.substring(s,o+1);break;default:j()}s=o+2}return new Se(r)}var ma="remoteDocuments";var Fh="owner",Ec="owner",Mh="mutationQueues",c5="userId",Kr="mutations",lL="batchId",Qa="userMutationsIndex",uL=["userId","batchId"];function l5(n){return[n]}function op(n,e){return[n,Sn(e)]}function hL(n,e,t){return[n,Sn(e),t]}var u5={},Xc="documentMutations",iE="remoteDocumentsV14",h5=["prefixPath","collectionGroup","readTime","documentId"],ap="documentKeyIndex",d5=["prefixPath","collectionGroup","documentId"],dL="collectionGroupIndex",g5=["collectionGroup","readTime","prefixPath","documentId"],Lh="remoteDocumentGlobal",KQ="remoteDocumentGlobalKey",$c="targets",f5="targetId",gL="queryTargetsIndex",p5=["canonicalId","targetId"],Zc="targetDocuments",E5=["targetId","path"],G0="documentTargetsIndex",C5=["path","targetId"],Ep="targetGlobalKey",Va="targetGlobal",lh="collectionParents",m5=["collectionId","parent"],Fc="clientMetadata",I5="clientId",sE="bundles",B5="bundleId",oE="namedQueries",y5="name",q0="indexConfiguration",Q5="indexId",XQ="collectionGroupIndex",w5="collectionGroup",aE="indexState",S5=["indexId","uid"],fL="sequenceNumberIndex",b5=["uid","sequenceNumber"],AE="indexEntries",v5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pL="documentKeyIndex",D5=["indexId","uid","orderedDocumentKey"],cE="documentOverlays",R5=["userId","collectionPath","documentId"],$Q="collectionPathOverlayIndex",T5=["userId","collectionPath","largestBatchId"],EL="collectionGroupOverlayIndex",k5=["userId","collectionGroup","largestBatchId"],N5=[Mh,Kr,Xc,ma,$c,Fh,Va,Zc],_5=N5,F5=[..._5,Fc],M5=[...F5,Lh],L5=[...M5,lh],CL=[...L5,sE,oE],U5=[...CL,cE],mL=[Mh,Kr,Xc,iE,$c,Fh,Va,Zc,Fc,Lh,lh,sE,oE,cE],IL=mL,BL=[...IL,q0,aE,AE],x5=BL;function O5(n){if(n===16)return x5;if(n===15)return BL;if(n===14)return IL;if(n===13)return mL;if(n===12)return U5;if(n===11)return CL;j()}var uh=class extends fp{constructor(e,t){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=t}};function zt(n,e){let t=W(n);return wo.getStore(t.simpleDbTransaction,e)}function $F(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ga(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var et=class n{constructor(e,t){this.comparator=e,this.root=t||ih.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ih.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ih.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}},Dc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ih=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return!t.left.isRed()&&!t.left.left.isRed()&&(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let t=this.left.check();if(t!==this.right.check())throw j();return t+(this.isRed()?0:1)}}return n.EMPTY=null,n.RED=!0,n.BLACK=!1,n})(),ZQ=class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ih(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};ih.EMPTY=new ZQ;var Ve=class n{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(t!==void 0?r=this.data.getIteratorFrom(t):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function P5(n,e,t,r,i){let s=n.getIterator(),o=e.getIterator(),a=Cc(s),A=Cc(o);for(;a||A;){let c=!1,l=!1;if(a&&A){let u=t(a,A);u<0?l=!0:u>0&&(c=!0)}else a!=null?l=!0:c=!0;c?(r(A),A=Cc(o)):l?(i(a),a=Cc(s)):(a=Cc(s),A=Cc(o))}}function Cc(n){return n.hasNext()?n.getNext():void 0}var rr=class n{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ve(wt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(t,r)=>t.isEqual(r))}};function V5(n){return Buffer.from(n,"base64").toString("binary")}function G5(n){return Buffer.from(n,"binary").toString("base64")}function QL(){return!0}var Wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=V5(e);return new n(t)}static fromUint8Array(e){let t=q5(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return G5(this.binaryString)}toUint8Array(){return Y5(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wt.EMPTY_BYTE_STRING=new Wt("");function q5(n){let e="";for(let t=0;t<n.length;++t)e+=String.fromCharCode(n[t]);return e}function Y5(n){let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}var H5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(n){if(ee(!!n),typeof n=="string"){let e=0,t=H5.exec(n);if(ee(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=pt(n.seconds),t=pt(n.nanos);return{seconds:e,nanos:t}}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}var wL="server_timestamp",SL="__type__",bL="__previous_value__",vL="__local_write_time__";function lE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[SL])===null||t===void 0?void 0:t.stringValue)===wL}function J5(n,e){let t={fields:{[SL]:{stringValue:wL},[vL]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return e&&lE(e)&&(e=Y0(e)),e&&(t.fields[bL]=e),{mapValue:t}}function Y0(n){let e=n.mapValue.fields[bL];return lE(e)?Y0(e):e}function hh(n){let e=hs(n.mapValue.fields[vL].timestampValue);return new lt(e.seconds,e.nanos)}var ew=class{constructor(e,t,r,i,s,o,a,A,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=c}},tw="(default)",bo=class n{constructor(e,t){this.projectId=e,this.database=t||tw}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===tw}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function W5(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new M(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(n.options.projectId,e)}var yo=-1;function Uh(n){return n==null}function dh(n){return n===0&&1/n===-1/0}function DL(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var RL="__max__",Io={mapValue:{fields:{__type__:{stringValue:RL}}}},Ap={nullValue:"NULL_VALUE"};function Ra(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lE(n)?4:TL(n)?9007199254740991:10:j()}function Xr(n,e){if(n===e)return!0;let t=Ra(n),r=Ra(e);if(t!==r)return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return z5(n,e);case 5:return n.stringValue===e.stringValue;case 6:return K5(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return j5(n,e);case 2:return X5(n,e);case 9:return va(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return $5(n,e);case 9007199254740991:return!0;default:return j()}}function z5(n,e){if(typeof n.timestampValue=="string"&&typeof e.timestampValue=="string"&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;let t=hs(n.timestampValue),r=hs(e.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}function j5(n,e){return pt(n.geoPointValue.latitude)===pt(e.geoPointValue.latitude)&&pt(n.geoPointValue.longitude)===pt(e.geoPointValue.longitude)}function K5(n,e){return So(n.bytesValue).isEqual(So(e.bytesValue))}function X5(n,e){if("integerValue"in n&&"integerValue"in e)return pt(n.integerValue)===pt(e.integerValue);if("doubleValue"in n&&"doubleValue"in e){let t=pt(n.doubleValue),r=pt(e.doubleValue);return t===r?dh(t)===dh(r):isNaN(t)&&isNaN(r)}return!1}function $5(n,e){let t=n.mapValue.fields||{},r=e.mapValue.fields||{};if($F(t)!==$F(r))return!1;for(let i in t)if(t.hasOwnProperty(i)&&(r[i]===void 0||!Xr(t[i],r[i])))return!1;return!0}function gh(n,e){return(n.values||[]).find(t=>Xr(t,e))!==void 0}function vo(n,e){if(n===e)return 0;let t=Ra(n),r=Ra(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return Z5(n,e);case 3:return ZF(n.timestampValue,e.timestampValue);case 4:return ZF(hh(n),hh(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return nK(n.bytesValue,e.bytesValue);case 7:return eK(n.referenceValue,e.referenceValue);case 8:return tK(n.geoPointValue,e.geoPointValue);case 9:return rK(n.arrayValue,e.arrayValue);case 10:return iK(n.mapValue,e.mapValue);default:throw j()}}function Z5(n,e){let t=pt(n.integerValue||n.doubleValue),r=pt(e.integerValue||e.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}function ZF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=hs(n),r=hs(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function eK(n,e){let t=n.split("/"),r=e.split("/");for(let i=0;i<t.length&&i<r.length;i++){let s=ge(t[i],r[i]);if(s!==0)return s}return ge(t.length,r.length)}function tK(n,e){let t=ge(pt(n.latitude),pt(e.latitude));return t!==0?t:ge(pt(n.longitude),pt(e.longitude))}function nK(n,e){let t=So(n),r=So(e);return t.compareTo(r)}function rK(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=vo(t[i],r[i]);if(s)return s}return ge(t.length,r.length)}function iK(n,e){if(n===Io.mapValue&&e===Io.mapValue)return 0;if(n===Io.mapValue)return 1;if(e===Io.mapValue)return-1;let t=n.fields||{},r=Object.keys(t),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=ge(r[o],s[o]);if(a!==0)return a;let A=vo(t[r[o]],i[s[o]]);if(A!==0)return A}return ge(r.length,s.length)}function Mc(n){return H0(n)}function H0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?oK(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sK(n.bytesValue):"referenceValue"in n?AK(n.referenceValue):"geoPointValue"in n?aK(n.geoPointValue):"arrayValue"in n?lK(n.arrayValue):"mapValue"in n?cK(n.mapValue):j()}function sK(n){return So(n).toBase64()}function oK(n){let e=hs(n);return`time(${e.seconds},${e.nanos})`}function aK(n){return`geo(${n.latitude},${n.longitude})`}function AK(n){return J.fromName(n).toString()}function cK(n){let e=Object.keys(n.fields||{}).sort(),t="{",r=!0;for(let i of e)r?r=!1:t+=",",t+=`${i}:${H0(n.fields[i])}`;return t+"}"}function lK(n){let e="[",t=!0;for(let r of n.values||[])t?t=!1:e+=",",e+=H0(r);return e+"]"}function Ta(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nw(n){return!!n&&"integerValue"in n}function uK(n){return!!n&&"doubleValue"in n}function hK(n){return nw(n)||uK(n)}function fh(n){return!!n&&"arrayValue"in n}function eM(n){return!!n&&"nullValue"in n}function tM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cp(n){return!!n&&"mapValue"in n}function sh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ga(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sh(r)),e}else if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sh(n.arrayValue.values[t]);return e}else return Object.assign({},n)}function TL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RL}function dK(n){return"nullValue"in n?Ap:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ta(bo.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:j()}function gK(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ta(bo.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Io:j()}function nM(n,e){let t=vo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rM(n,e){let t=vo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var hn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=sh(t)}setAll(e){let t=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let A=this.getFieldsMap(t);this.applyChanges(A,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=sh(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());cp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];(!cp(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ga(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(sh(this.value))}};function kL(n){let e=[];return Ga(n.fields,(t,r)=>{let i=new wt([t]);if(cp(r)){let o=kL(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new rr(e)}var _t=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),hn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),hn.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(re.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function fK(n,e,t){let r=e.data.field(n),i=t.data.field(n);return r!==null&&i!==null?vo(r,i):j()}var Mi=class{constructor(e,t){this.position=e,this.inclusive=t}};function NL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField())r=J.comparator(J.fromName(o.referenceValue),t.key);else{let a=t.data.field(s.field);r=vo(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function pK(n,e,t){let r=NL(n,e,t);return n.inclusive?r>=0:r>0}function EK(n,e,t){let r=NL(n,e,t);return n.inclusive?r<=0:r<0}function iM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++){let r=n.position[t],i=e.position[t];if(!Xr(r,i))return!1}return!0}var ka=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function CK(n){return n.field.canonicalString()+n.dir}function mK(n){return`${n.field.canonicalString()} (${n.dir})`}function IK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var mp=class{},ye=class n extends mp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sw(e,t,r):t==="array-contains"?new Aw(e,r):t==="in"?new Ip(e,r):t==="not-in"?new cw(e,r):t==="array-contains-any"?new lw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ow(e,r):new aw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vo(t,this.value)):t!==null&&Ra(this.value)===Ra(t)&&this.matchesComparison(vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_e=class n extends mp{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new n(e,t)}matches(e){return Lc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function Lc(n){return n.op==="and"}function rw(n){return n.op==="or"}function J0(n){return _L(n)&&Lc(n)}function _L(n){for(let e of n.filters)if(e instanceof _e)return!1;return!0}function iw(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+Mc(n.value);if(J0(n))return n.filters.map(e=>iw(e)).join(",");{let e=n.filters.map(t=>iw(t)).join(",");return`${n.op}(${e})`}}function FL(n,e){if(n instanceof ye)return BK(n,e);if(n instanceof _e)return yK(n,e);j()}function BK(n,e){return e instanceof ye&&n.op===e.op&&n.field.isEqual(e.field)&&Xr(n.value,e.value)}function yK(n,e){return e instanceof _e&&n.op===e.op&&n.filters.length===e.filters.length?n.filters.reduce((r,i,s)=>r&&FL(i,e.filters[s]),!0):!1}function ML(n,e){let t=n.filters.concat(e);return _e.create(t,n.op)}function LL(n){return n instanceof ye?wK(n):n instanceof _e?QK(n):"Filter"}function QK(n){return n.op.toString()+" {"+n.getFilters().map(LL).join(" ,")+"}"}function wK(n){return`${n.field.canonicalString()} ${n.op} ${Mc(n.value)}`}var sw=class extends ye{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},ow=class extends ye{constructor(e,t){super(e,"in",t),this.keys=UL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},aw=class extends ye{constructor(e,t){super(e,"not-in",t),this.keys=UL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function UL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var Aw=class extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fh(t)&&gh(t.arrayValue,this.value)}},Ip=class extends ye{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gh(this.value.arrayValue,t)}},cw=class extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!gh(this.value.arrayValue,t)}},lw=class extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!fh(t)||!t.arrayValue.values?!1:t.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}};var uw=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function hw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new uw(n,e,t,r,i,s,o)}function Na(n){let e=W(n);if(e.memoizedCanonicalId===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>CK(r)).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mc(r)).join(",")),e.memoizedCanonicalId=t}return e.memoizedCanonicalId}function SK(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>LL(t)).join(", ")}]`),Uh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>mK(t)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Mc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Mc(t)).join(",")),`Target(${e})`}function xh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup!==e.collectionGroup||!n.path.isEqual(e.path)||!iM(n.startAt,e.startAt)?!1:iM(n.endAt,e.endAt)}function Bp(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function uE(n,e){return n.filters.filter(t=>t instanceof ye&&t.field.isEqual(e))}function bK(n,e){let t=O0(e);if(t===void 0)return null;for(let r of uE(n,t.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}function vK(n,e){let t=new Map;for(let r of Da(e))for(let i of uE(n,r.fieldPath))switch(i.op){case"==":case"in":t.set(r.fieldPath.canonicalString(),i.value);break;case"not-in":case"!=":return t.set(r.fieldPath.canonicalString(),i.value),Array.from(t.values())}return null}function DK(n,e){let t=[],r=!0;for(let i of Da(e)){let s=i.kind===0?xL(n,i.fieldPath,n.startAt):OL(n,i.fieldPath,n.startAt);t.push(s.value),r&&(r=s.inclusive)}return new Mi(t,r)}function RK(n,e){let t=[],r=!0;for(let i of Da(e)){let s=i.kind===0?OL(n,i.fieldPath,n.endAt):xL(n,i.fieldPath,n.endAt);t.push(s.value),r&&(r=s.inclusive)}return new Mi(t,r)}function xL(n,e,t){let r=Ap,i=!0;for(let s of uE(n,e)){let o=Ap,a=!0;switch(s.op){case"<":case"<=":o=dK(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ap;break}nM({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let a=t.position[s];nM({value:r,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}function OL(n,e,t){let r=Io,i=!0;for(let s of uE(n,e)){let o=Io,a=!0;switch(s.op){case">=":case">":o=gK(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Io;break}rM({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let a=t.position[s];rM({value:r,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}function TK(n){let e=new Ve(wt.comparator),t=!1;for(let r of n.filters)for(let i of r.getFlattenedFilters())i.field.isKeyField()||(i.op==="array-contains"||i.op==="array-contains-any"?t=!0:e=e.add(i.field));for(let r of n.orderBy)r.field.isKeyField()||(e=e.add(r.field));return e.size+(t?1:0)}function kK(n){return n.limit!==null}var $r=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=A,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function PL(n,e,t,r,i,s,o,a){return new $r(n,e,t,r,i,s,o,a)}function el(n){return new $r(n)}function NK(n,e){return new $r(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function sM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _K(n){let e=new Ve(wt.comparator);return n.filters.forEach(t=>{t.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function FK(n){return new $r(Se.emptyPath(),n)}function MK(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function W0(n){return n.collectionGroup!==null}function Uc(n){let e=W(n);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let t=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";_K(e).forEach(s=>{!t.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new ka(s,r))}),t.has(wt.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new ka(wt.keyField(),r))}return e.memoizedNormalizedOrderBy}function bn(n){let e=W(n);return e.memoizedTarget||(e.memoizedTarget=LK(e,Uc(n))),e.memoizedTarget}function LK(n,e){if(n.limitType==="F")return hw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ka(i.field,s)});let t=n.endAt?new Mi(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mi(n.startAt.position,n.startAt.inclusive):null;return hw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function z0(n,e){let t=n.filters.concat([e]);return new $r(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function UK(n,e){let t=n.explicitOrderBy.concat([e]);return new $r(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function yp(n,e,t){return new $r(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xK(n,e){return new $r(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function OK(n,e){return new $r(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function Oh(n,e){return xh(bn(n),bn(e))&&n.limitType===e.limitType}function VL(n){return`${Na(bn(n))}|lt:${n.limitType}`}function Sc(n){return`Query(target=${SK(bn(n))}; limitType=${n.limitType})`}function Ph(n,e){return e.isFoundDocument()&&PK(n,e)&&VK(n,e)&&GK(n,e)&&qK(n,e)}function PK(n,e){let t=e.key.path;return n.collectionGroup!==null?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(t):J.isDocumentKey(n.path)?n.path.isEqual(t):n.path.isImmediateParentOf(t)}function VK(n,e){for(let t of Uc(n))if(!t.field.isKeyField()&&e.data.field(t.field)===null)return!1;return!0}function GK(n,e){for(let t of n.filters)if(!t.matches(e))return!1;return!0}function qK(n,e){return!(n.startAt&&!EK(n.startAt,Uc(n),e)||n.endAt&&!pK(n.endAt,Uc(n),e))}function GL(n){return n.collectionGroup||(n.path.length%2===1?n.path.lastSegment():n.path.get(n.path.length-2))}function qL(n){return(e,t)=>{let r=!1;for(let i of Uc(n)){let s=YK(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function YK(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):fK(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var Li=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,t]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return yL(this.inner)}size(){return this.innerSize}};var HK=new et(J.comparator);function Vn(){return HK}var YL=new et(J.comparator);function th(...n){let e=YL;for(let t of n)e=e.insert(t.key,t);return e}function JK(){return ph()}function HL(n){let e=YL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ni(){return ph()}function JL(){return ph()}function ph(){return new Li(n=>n.toString(),(n,e)=>n.isEqual(e))}var WK=new et(J.comparator);function zK(){return WK}var jK=new Ve(J.comparator);function fe(...n){let e=jK;for(let t of n)e=e.add(t);return e}var KK=new Ve(ge);function j0(){return KK}function WL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function zL(n){return{integerValue:""+n}}function jL(n,e){return DL(e)?zL(e):WL(n,e)}var xc=class{constructor(){this._=void 0}};function XK(n,e,t){return n instanceof Do?J5(t,e):n instanceof ds?XL(n,e):n instanceof gs?$L(n,e):e8(n,e)}function $K(n,e,t){return n instanceof ds?XL(n,e):n instanceof gs?$L(n,e):t}function KL(n,e){return n instanceof Ro?hK(e)?e:{integerValue:0}:null}function ZK(n,e){return n instanceof ds&&e instanceof ds||n instanceof gs&&e instanceof gs?va(n.elements,e.elements,Xr):n instanceof Ro&&e instanceof Ro?Xr(n.operand,e.operand):n instanceof Do&&e instanceof Do}var Do=class extends xc{},ds=class extends xc{constructor(e){super(),this.elements=e}};function XL(n,e){let t=ZL(e);for(let r of n.elements)t.some(i=>Xr(i,r))||t.push(r);return{arrayValue:{values:t}}}var gs=class extends xc{constructor(e){super(),this.elements=e}};function $L(n,e){let t=ZL(e);for(let r of n.elements)t=t.filter(i=>!Xr(i,r));return{arrayValue:{values:t}}}var Ro=class extends xc{constructor(e,t){super(),this.serializer=e,this.operand=t}};function e8(n,e){let t=KL(n,e),r=oM(t)+oM(n.operand);return nw(t)&&nw(n.operand)?zL(r):WL(n.serializer,r)}function oM(n){return pt(n.integerValue||n.doubleValue)}function ZL(n){return fh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var _a=class{constructor(e,t){this.field=e,this.transform=t}};function t8(n,e){return n.field.isEqual(e.field)&&ZK(n.transform,e.transform)}function n8(n,e){return n===void 0&&e===void 0?!0:n&&e?va(n,e,(t,r)=>t8(t,r)):!1}var dw=class{constructor(e,t){this.version=e,this.transformResults=t}},ft=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists!==void 0?n.exists===e.isFoundDocument():!0}var Oc=class{};function eU(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ko(n.key,ft.none()):new To(n.key,n.data,ft.none());{let t=n.data,r=hn.empty(),i=new Ve(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zr(n.key,r,new rr(i.toArray()),ft.none())}}function r8(n,e,t){n instanceof To?s8(n,e,t):n instanceof Zr?a8(n,e,t):c8(n,e,t)}function oh(n,e,t,r){return n instanceof To?o8(n,e,t,r):n instanceof Zr?A8(n,e,t,r):l8(n,e,t)}function i8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=KL(r.transform,i||null);s!=null&&(t===null&&(t=hn.empty()),t.set(r.field,s))}return t||null}function aM(n,e){return n.type!==e.type||!n.key.isEqual(e.key)||!n.precondition.isEqual(e.precondition)||!n8(n.fieldTransforms,e.fieldTransforms)?!1:n.type===0?n.value.isEqual(e.value):n.type===1?n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask):!0}var To=class extends Oc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function s8(n,e,t){let r=n.value.clone(),i=nU(n.fieldTransforms,e,t.transformResults);r.setAll(i),e.convertToFoundDocument(t.version,r).setHasCommittedMutations()}function o8(n,e,t,r){if(!hE(n.precondition,e))return t;let i=n.value.clone(),s=rU(n.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Zr=class extends Oc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function a8(n,e,t){if(!hE(n.precondition,e)){e.convertToUnknownDocument(t.version);return}let r=nU(n.fieldTransforms,e,t.transformResults),i=e.data;i.setAll(tU(n)),i.setAll(r),e.convertToFoundDocument(t.version,i).setHasCommittedMutations()}function A8(n,e,t,r){if(!hE(n.precondition,e))return t;let i=rU(n.fieldTransforms,r,e),s=e.data;return s.setAll(tU(n)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),t===null?null:t.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map(o=>o.field))}function tU(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function nU(n,e,t){let r=new Map;ee(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$K(o,a,t[i]))}return r}function rU(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,XK(s,o,e))}return r}var ko=class extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function c8(n,e,t){e.convertToNoDocument(t.version).setHasCommittedMutations()}function l8(n,e,t){return hE(n.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):t}var Eh=class extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ch=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];r8(s,e,o)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=oh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=oh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=JL();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let A=eU(o,a);A!==null&&r.set(i.key,A),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(t,r)=>aM(t,r))&&va(this.baseMutations,e.baseMutations,(t,r)=>aM(t,r))}},gw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ee(e.mutations.length===r.length);let i=zK(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var mh=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Jt=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}(Jt||{});function iU(n){switch(n){case N.OK:return j();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return j()}}function u8(n){return iU(n)&&n!==N.ABORTED}function lp(n){if(n===void 0)return ct("GRPC error has no .code"),N.UNKNOWN;switch(n){case Jt.OK:return N.OK;case Jt.CANCELLED:return N.CANCELLED;case Jt.UNKNOWN:return N.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return N.INTERNAL;case Jt.UNAVAILABLE:return N.UNAVAILABLE;case Jt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Jt.NOT_FOUND:return N.NOT_FOUND;case Jt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Jt.ABORTED:return N.ABORTED;case Jt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Jt.DATA_LOSS:return N.DATA_LOSS;default:return j()}}var pw=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var DQ=null;function sU(){return new Jj}function h8(){return new Wj("utf-8")}var d8=new Vs([4294967295,4294967295],0);function AM(n){let e=sU().encode(n),t=new cI;return t.update(e),new Uint8Array(t.digest())}function cM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new Vs([t,r],0),a=new Vs([i,s],0);return[o,a]}var Ew=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wa(`Invalid padding: ${t}`);if(r<0)throw new wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wa(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=e.length*8-t,this.bitCountInInteger=Vs.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(Vs.fromNumber(r)));return i.compare(d8)===1&&(i=new Vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let t=this.bitmap[Math.floor(e/8)],r=e%8;return(t&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let t=AM(e),[r,i]=cM(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,t,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let t=AM(e),[r,i]=cM(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},wa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ih=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new et(ge),Vn(),fe())}},Bh=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var Nc=class{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}},Qp=class{constructor(e,t){this.targetId=e,this.existenceFilter=t}},wp=class{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Sp=class{constructor(){this.pendingResponses=0,this.documentChanges=uM(),this._resumeToken=Wt.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=fe(),t=fe(),r=fe();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Bh(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=uM()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,ee(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},g8="WatchChangeAggregator",Cw=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=Vn(),this.pendingDocumentTargetMapping=lM(),this.pendingTargetResets=new et(ge)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:j()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&t(i)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let s=i.target;if(Bp(s))if(r===0){let o=new J(s.path);this.removeDocumentFromTarget(t,o,_t.newNoDocument(o,re.min()))}else ee(r===1);else{let o=this.getCurrentDocumentCountForTarget(t);if(o!==r){let a=this.parseBloomFilter(e),A=a?this.applyBloomFilter(a,e,o):1;if(A!==0){this.resetTarget(t);let c=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,c)}DQ?.notifyOnExistenceFilterMismatch(f8(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,A))}}}}parseBloomFilter(e){let t=e.existenceFilter.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o;try{o=So(r).toUint8Array()}catch(A){if(A instanceof pw)return br("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}let a;try{a=new Ew(o,i,s)}catch(A){return A instanceof wa?br("BloomFilter error: ",A):br("Applying bloom filter failed: ",A),null}return a.bitCount===0?null:a}applyBloomFilter(e,t,r){let i=t.existenceFilter.count,s=this.filterRemovedDocuments(e,t.targetId);return i===r-s?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(t,s,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&Bp(a.target)){let A=new J(a.target.path);this.pendingDocumentUpdates.get(A)===null&&!this.targetContainsDocument(o,A)&&this.removeDocumentFromTarget(o,A,_t.newNoDocument(A,e))}s.hasPendingChanges&&(t.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=fe();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(A=>{let c=this.targetDataForActiveTarget(A);return c&&c.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new Ih(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Vn(),this.pendingDocumentTargetMapping=lM(),this.pendingTargetResets=new et(ge),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new Sp,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ve(ge),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=this.targetDataForActiveTarget(e)!==null;return t||O(g8,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new Sp),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}};function lM(){return new et(J.comparator)}function uM(){return new et(J.comparator)}function f8(n,e,t,r,i){var s,o,a,A,c,l;let u={localCacheCount:n,existenceFilterCount:e.count,databaseId:t.database,projectId:t.projectId},h=e.unchangedNames;return h&&(u.bloomFilter={applied:i===0,hashCount:(s=h?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(A=(a=(o=h?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&A!==void 0?A:0,padding:(l=(c=h?.bits)===null||c===void 0?void 0:c.padding)!==null&&l!==void 0?l:0,mightContain:d=>{var E;return(E=r?.mightContain(d))!==null&&E!==void 0?E:!1}}),u}var p8=(()=>{let n={};return n.asc="ASCENDING",n.desc="DESCENDING",n})(),E8=(()=>{let n={};return n["<"]="LESS_THAN",n["<="]="LESS_THAN_OR_EQUAL",n[">"]="GREATER_THAN",n[">="]="GREATER_THAN_OR_EQUAL",n["=="]="EQUAL",n["!="]="NOT_EQUAL",n["array-contains"]="ARRAY_CONTAINS",n.in="IN",n["not-in"]="NOT_IN",n["array-contains-any"]="ARRAY_CONTAINS_ANY",n})(),C8=(()=>{let n={};return n.and="AND",n.or="OR",n})();var mw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function m8(n){let e=n.code===void 0?N.UNKNOWN:lp(n.code);return new M(e,n.message||"")}function Iw(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function I8(n){let e;return typeof n=="object"?e=n.value:e=n,Uh(e)?null:e}function Pc(n,e){if(n.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function B8(n){let e=hs(n);return new lt(e.seconds,e.nanos)}function oU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function y8(n,e){return n.useProto3Json?(ee(e===void 0||typeof e=="string"),Wt.fromBase64String(e||"")):(ee(e===void 0||e instanceof Buffer||e instanceof Uint8Array),Wt.fromUint8Array(e||new Uint8Array))}function Q8(n,e){return Pc(n,e.toTimestamp())}function Qt(n){return ee(!!n),re.fromTimestamp(B8(n))}function K0(n,e){return Bw(n,e).canonicalString()}function Bw(n,e){let t=w8(n).child("documents");return e===void 0?t:t.child(e)}function aU(n){let e=Se.fromString(n);return ee(EU(e)),e}function yh(n,e){return K0(n.databaseId,e.path)}function _i(n,e){let t=aU(e);if(t.get(1)!==n.databaseId.projectId)throw new M(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(lU(t))}function AU(n,e){return K0(n.databaseId,e)}function cU(n){let e=aU(n);return e.length===4?Se.emptyPath():lU(e)}function yw(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w8(n){return new Se(["projects",n.projectId,"databases",n.database])}function lU(n){return ee(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function hM(n,e,t){return{name:yh(n,e),fields:t.value.mapValue.fields}}function S8(n,e){return{name:yh(n,e.key),fields:e.data.value.mapValue.fields,updateTime:Pc(n,e.version.toTimestamp()),createTime:Pc(n,e.createTime.toTimestamp())}}function uU(n,e,t){let r=_i(n,e.name),i=Qt(e.updateTime),s=e.createTime?Qt(e.createTime):re.min(),o=new hn({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function b8(n,e){ee(!!e.found),e.found.name,e.found.updateTime;let t=_i(n,e.found.name),r=Qt(e.found.updateTime),i=e.found.createTime?Qt(e.found.createTime):re.min(),s=new hn({mapValue:{fields:e.found.fields}});return _t.newFoundDocument(t,r,i,s)}function v8(n,e){ee(!!e.missing),ee(!!e.readTime);let t=_i(n,e.missing),r=Qt(e.readTime);return _t.newNoDocument(t,r)}function D8(n,e){return"found"in e?b8(n,e):"missing"in e?v8(n,e):j()}function R8(n,e){let t;if("targetChange"in e){e.targetChange;let r=T8(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=y8(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&m8(o);t=new wp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_i(n,r.document.name),s=Qt(r.document.updateTime),o=r.document.createTime?Qt(r.document.createTime):re.min(),a=new hn({mapValue:{fields:r.document.fields}}),A=_t.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];t=new Nc(c,l,A.key,A)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_i(n,r.document),s=r.readTime?Qt(r.readTime):re.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_i(n,r.document),s=r.removedTargetIds||[];t=new Nc([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new fw(i,s),a=r.targetId;t=new Qp(a,o)}else return j();return t}function T8(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:j()}function k8(n){if(!("targetChange"in n))return re.min();let e=n.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?re.min():Qt(e.readTime)}function Qh(n,e){let t;if(e instanceof To)t={update:hM(n,e.key,e.value)};else if(e instanceof ko)t={delete:yh(n,e.key)};else if(e instanceof Zr)t={update:hM(n,e.key,e.data),updateMask:l6(e.fieldMask)};else if(e instanceof Eh)t={verify:yh(n,e.key)};else return j();return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>L8(n,r))),e.precondition.isNone||(t.currentDocument=N8(n,e.precondition)),t}function Qw(n,e){let t=e.currentDocument?_8(e.currentDocument):ft.none(),r=e.updateTransforms?e.updateTransforms.map(i=>U8(n,i)):[];if(e.update){e.update.name;let i=_i(n,e.update.name),s=new hn({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=u6(e.updateMask);return new Zr(i,s,o,t,r)}else return new To(i,s,t,r)}else if(e.delete){let i=_i(n,e.delete);return new ko(i,t)}else if(e.verify){let i=_i(n,e.verify);return new Eh(i,t)}else return j()}function N8(n,e){return e.updateTime!==void 0?{updateTime:Q8(n,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:j()}function _8(n){return n.updateTime!==void 0?ft.updateTime(Qt(n.updateTime)):n.exists!==void 0?ft.exists(n.exists):ft.none()}function F8(n,e){let t=n.updateTime?Qt(n.updateTime):Qt(e);return t.isEqual(re.min())&&(t=Qt(e)),new dw(t,n.transformResults||[])}function M8(n,e){return n&&n.length>0?(ee(e!==void 0),n.map(t=>F8(t,e))):[]}function L8(n,e){let t=e.transform;if(t instanceof Do)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof ds)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof gs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Ro)return{fieldPath:e.field.canonicalString(),increment:t.operand};throw j()}function U8(n,e){let t=null;if("setToServerValue"in e)ee(e.setToServerValue==="REQUEST_TIME"),t=new Do;else if("appendMissingElements"in e){let i=e.appendMissingElements.values||[];t=new ds(i)}else if("removeAllFromArray"in e){let i=e.removeAllFromArray.values||[];t=new gs(i)}else"increment"in e?t=new Ro(n,e.increment):j();let r=wt.fromServerFormat(e.fieldPath);return new _a(r,t)}function hU(n,e){return{documents:[AU(n,e.path)]}}function x8(n){let e=n.documents.length;ee(e===1);let t=n.documents[0];return bn(el(cU(t)))}function dU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AU(n,i);let s=q8(e.filters);s&&(t.structuredQuery.where=s);let o=H8(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=Iw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=W8(e.startAt)),e.endAt&&(t.structuredQuery.endAt=z8(e.endAt)),{queryTarget:t,parent:i}}function gU(n){let e=cU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ee(r===1);let l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=Y8(t.where));let o=[];t.orderBy&&(o=J8(t.orderBy));let a=null;t.limit&&(a=I8(t.limit));let A=null;t.startAt&&(A=j8(t.startAt));let c=null;return t.endAt&&(c=K8(t.endAt)),PL(e,i,o,s,a,"F",A,c)}function O8(n){return bn(gU(n))}function P8(n,e){let t=V8(e.purpose);return t==null?null:{"goog-listen-tags":t}}function V8(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}function G8(n,e){let t,r=e.target;if(Bp(r)?t={documents:hU(n,r)}:t={query:dU(n,r).queryTarget},t.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){t.resumeToken=oU(n,e.resumeToken);let i=Iw(n,e.expectedCount);i!==null&&(t.expectedCount=i)}else if(e.snapshotVersion.compareTo(re.min())>0){t.readTime=Pc(n,e.snapshotVersion.toTimestamp());let i=Iw(n,e.expectedCount);i!==null&&(t.expectedCount=i)}return t}function q8(n){if(n.length!==0)return pU(_e.create(n,"and"))}function Y8(n){let e=fU(n);return e instanceof _e&&J0(e)?e.getFilters():[e]}function fU(n){return n.unaryFilter!==void 0?a6(n):n.fieldFilter!==void 0?A6(n):n.compositeFilter!==void 0?c6(n):j()}function H8(n){if(n.length!==0)return n.map(e=>r6(e))}function J8(n){return n.map(e=>i6(e))}function W8(n){return{before:n.inclusive,values:n.position}}function z8(n){return{before:!n.inclusive,values:n.position}}function j8(n){let e=!!n.before,t=n.values||[];return new Mi(t,e)}function K8(n){let e=!n.before,t=n.values||[];return new Mi(t,e)}function X8(n){return p8[n]}function $8(n){switch(n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function Z8(n){return E8[n]}function e6(n){return C8[n]}function t6(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return j();default:return j()}}function n6(n){switch(n){case"AND":return"and";case"OR":return"or";default:return j()}}function bc(n){return{fieldPath:n.canonicalString()}}function Rc(n){return wt.fromServerFormat(n.fieldPath)}function r6(n){return{field:bc(n.field),direction:X8(n.dir)}}function i6(n){return new ka(Rc(n.field),$8(n.direction))}function pU(n){return n instanceof ye?o6(n):n instanceof _e?s6(n):j()}function s6(n){let e=n.getFilters().map(t=>pU(t));return e.length===1?e[0]:{compositeFilter:{op:e6(n.op),filters:e}}}function o6(n){if(n.op==="=="){if(tM(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NAN"}};if(eM(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tM(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NAN"}};if(eM(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(n.field),op:Z8(n.op),value:n.value}}}function a6(n){switch(n.unaryFilter.op){case"IS_NAN":let e=Rc(n.unaryFilter.field);return ye.create(e,"==",{doubleValue:NaN});case"IS_NULL":let t=Rc(n.unaryFilter.field);return ye.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=Rc(n.unaryFilter.field);return ye.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Rc(n.unaryFilter.field);return ye.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return j();default:return j()}}function A6(n){return ye.create(Rc(n.fieldFilter.field),t6(n.fieldFilter.op),n.fieldFilter.value)}function c6(n){return _e.create(n.compositeFilter.filters.map(e=>fU(e)),n6(n.compositeFilter.op))}function l6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u6(n){let e=n.fieldPaths||[];return new rr(e.map(t=>wt.fromServerFormat(t)))}function EU(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Vc=class n{constructor(e,t,r,i,s=re.min(),o=re.min(),a=Wt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bp=class{constructor(e){this.remoteSerializer=e}};function h6(n,e){let t;if(e.document)t=uU(n.remoteSerializer,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=J.fromSegments(e.noDocument.path),i=Ma(e.noDocument.readTime);t=_t.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else if(e.unknownDocument){let r=J.fromSegments(e.unknownDocument.path),i=Ma(e.unknownDocument.version);t=_t.newUnknownDocument(r,i)}else return j();return e.readTime&&t.setReadTime(d6(e.readTime)),t}function dM(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=S8(n.remoteSerializer,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Fa(e.version)};else if(e.isUnknownDocument())r.unknownDocument={path:t.path.toArray(),version:Fa(e.version)};else return j();return r}function dE(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function d6(n){let e=new lt(n[0],n[1]);return re.fromTimestamp(e)}function Fa(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ma(n){let e=new lt(n.seconds,n.nanoseconds);return re.fromTimestamp(e)}function g6(n,e,t){let r=t.baseMutations.map(s=>Qh(n.remoteSerializer,s)),i=t.mutations.map(s=>Qh(n.remoteSerializer,s));return{userId:e,batchId:t.batchId,localWriteTimeMs:t.localWriteTime.toMillis(),baseMutations:r,mutations:i}}function Ia(n,e){let t=(e.baseMutations||[]).map(s=>Qw(n.remoteSerializer,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let A=e.mutations[s+1];o.updateTransforms=A.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>Qw(n.remoteSerializer,s)),i=lt.fromMillis(e.localWriteTimeMs);return new Ch(e.batchId,i,t,r)}function nh(n){let e=Ma(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ma(n.lastLimboFreeSnapshotVersion):re.min(),r;return f6(n.query)?r=x8(n.query):r=O8(n.query),new Vc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Wt.fromBase64String(n.resumeToken))}function CU(n,e){let t=Fa(e.snapshotVersion),r=Fa(e.lastLimboFreeSnapshotVersion),i;Bp(e.target)?i=hU(n.remoteSerializer,e.target):i=dU(n.remoteSerializer,e.target).queryTarget;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Na(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function f6(n){return n.documents!==void 0}function p6(n){return{id:n.bundleId,createTime:Ma(n.createTime),version:n.version}}function E6(n){return{bundleId:n.id,createTime:Fa(Qt(n.createTime)),version:n.version}}function C6(n){return{name:n.name,query:X0(n.bundledQuery),readTime:Ma(n.readTime)}}function m6(n){return{name:n.name,readTime:Fa(Qt(n.readTime)),bundledQuery:n.bundledQuery}}function X0(n){let e=gU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yp(e,e.limit,"L"):e}function I6(n){return{name:n.name,query:X0(n.bundledQuery),readTime:Qt(n.readTime)}}function B6(n){return{id:n.id,version:n.version,createTime:Qt(n.createTime)}}function RQ(n,e){return new mh(e.largestBatchId,Qw(n.remoteSerializer,e.overlayMutation))}function y6(n,e,t){let[r,i,s]=mU(e,t.mutation.key);return{userId:e,collectionPath:i,documentId:s,collectionGroup:t.mutation.key.getCollectionGroup(),largestBatchId:t.largestBatchId,overlayMutation:Qh(n.remoteSerializer,t.mutation)}}function mU(n,e){let t=e.path.lastSegment(),r=Sn(e.path.popLast());return[n,r,t]}function Q6(n){return{indexId:n.indexId,collectionGroup:n.collectionGroup,fields:n.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function w6(n,e){let t=e?new ch(e.sequenceNumber,new vr(Ma(e.readTime),new J(ki(e.documentKey)),e.largestBatchId)):ch.empty(),r=n.fields.map(([i,s])=>new Tc(wt.fromServerFormat(i),s));return new YQ(n.indexId,n.collectionGroup,r,t)}function gM(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Fa(r.readTime),documentKey:Sn(r.documentKey.path),largestBatchId:r.largestBatchId}}var ww=class{getBundleMetadata(e,t){return fM(e).get(t).next(r=>{if(r)return p6(r)})}saveBundleMetadata(e,t){return fM(e).put(E6(t))}getNamedQuery(e,t){return pM(e).get(t).next(r=>{if(r)return C6(r)})}saveNamedQuery(e,t){return pM(e).put(m6(t))}};function fM(n){return zt(n,sE)}function pM(n){return zt(n,oE)}var vp=class n{constructor(e,t){this.serializer=e,this.userId=t}static forUser(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Xu(e).get(mU(this.userId,t)).next(r=>r?RQ(this.serializer,r):null)}getOverlays(e,t){let r=Ni();return R.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((s,o)=>{let a=new mh(t,o);i.push(this.saveOverlay(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(o=>i.add(Sn(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xu(e).deleteAll($Q,a))}),R.waitFor(s)}getOverlaysForCollection(e,t,r){let i=Ni(),s=Sn(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xu(e).loadAll($Q,o).next(a=>{for(let A of a){let c=RQ(this.serializer,A);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let s=Ni(),o,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xu(e).iterate({index:EL,range:a},(A,c,l)=>{let u=RQ(this.serializer,c);s.size()<i||u.largestBatchId===o?(s.set(u.getKey(),u),o=u.largestBatchId):l.done()}).next(()=>s)}saveOverlay(e,t){return Xu(e).put(y6(this.serializer,this.userId,t))}};function Xu(n){return zt(n,cE)}var S6=5,b6=10,v6=13,EM=15,D6=20,R6=25,T6=30,k6=37,N6=45,_6=50,F6=55,M6=60,L6=2,us=class{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,S6);else if("booleanValue"in e)this.writeValueTypeLabel(t,b6),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,EM),t.writeNumber(pt(e.integerValue));else if("doubleValue"in e){let r=pt(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,v6):(this.writeValueTypeLabel(t,EM),dh(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,D6),typeof r=="string"&&(r=hs(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,T6),t.writeBytes(So(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,N6),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?TL(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):j()}writeIndexString(e,t){this.writeValueTypeLabel(t,R6),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};this.writeValueTypeLabel(t,F6);for(let i of Object.keys(r))this.writeIndexString(i,t),this.writeIndexValueAux(r[i],t)}writeIndexArray(e,t){let r=e.values||[];this.writeValueTypeLabel(t,_6);for(let i of r)this.writeIndexValueAux(i,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,k6),J.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(t,M6),this.writeUnlabeledIndexString(i,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(L6)}};us.INSTANCE=new us;var CM="\uD800",mM="\uDBFF",mc=0,IM=255,BM=1,Ic=255,yM=255,QM=0,U6=64,x6=8,O6=1024;function P6(n){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,n,!1),new Uint8Array(e.buffer)}function V6(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n=n<<4),n>>6||(e+=2,n=n<<2),n>>7||(e+=1),e}function G6(n){let e=0;for(let t=0;t<8;++t){let r=V6(n[t]&255);if(e+=r,r!==8)break}return e}function wM(n){let e=U6-G6(n);return Math.ceil(e/x6)}var Sw=class{constructor(){this.buffer=new Uint8Array(O6),this.position=0}writeBytesAscending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteAscending(r.value),r=t.next();this.writeSeparatorAscending()}writeBytesDescending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteDescending(r.value),r=t.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.writeByteAscending(r);else if(r<2048)this.writeByteAscending(960|r>>>6),this.writeByteAscending(128|63&r);else if(t<CM||mM<t)this.writeByteAscending(480|r>>>12),this.writeByteAscending(128|63&r>>>6),this.writeByteAscending(128|63&r);else{let i=t.codePointAt(0);this.writeByteAscending(240|i>>>18),this.writeByteAscending(128|63&i>>>12),this.writeByteAscending(128|63&i>>>6),this.writeByteAscending(128|63&i)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.writeByteDescending(r);else if(r<2048)this.writeByteDescending(960|r>>>6),this.writeByteDescending(128|63&r);else if(t<CM||mM<t)this.writeByteDescending(480|r>>>12),this.writeByteDescending(128|63&r>>>6),this.writeByteDescending(128|63&r);else{let i=t.codePointAt(0);this.writeByteDescending(240|i>>>18),this.writeByteDescending(128|63&i>>>12),this.writeByteDescending(128|63&i>>>6),this.writeByteDescending(128|63&i)}}this.writeSeparatorDescending()}writeNumberAscending(e){let t=this.toOrderedBits(e),r=wM(t);this.ensureAvailable(1+r),this.buffer[this.position++]=r&255;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=t[i]&255}writeNumberDescending(e){let t=this.toOrderedBits(e),r=wM(t);this.ensureAvailable(1+r),this.buffer[this.position++]=~(r&255);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(t[i]&255)}writeInfinityAscending(){this.writeEscapedByteAscending(Ic),this.writeEscapedByteAscending(yM)}writeInfinityDescending(){this.writeEscapedByteDescending(Ic),this.writeEscapedByteDescending(yM)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let t=P6(e),r=(t[0]&128)!==0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}writeByteAscending(e){let t=e&255;t===mc?(this.writeEscapedByteAscending(mc),this.writeEscapedByteAscending(IM)):t===Ic?(this.writeEscapedByteAscending(Ic),this.writeEscapedByteAscending(QM)):this.writeEscapedByteAscending(t)}writeByteDescending(e){let t=e&255;t===mc?(this.writeEscapedByteDescending(mc),this.writeEscapedByteDescending(IM)):t===Ic?(this.writeEscapedByteDescending(Ic),this.writeEscapedByteDescending(QM)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(mc),this.writeEscapedByteAscending(BM)}writeSeparatorDescending(){this.writeEscapedByteDescending(mc),this.writeEscapedByteDescending(BM)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=this.buffer.length*2;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},bw=class{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}},vw=class{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}},Ba=class{constructor(){this.orderedCode=new Sw,this.ascending=new bw(this.orderedCode),this.descending=new vw(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return e===0?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}};var ya=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}successor(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function po(n,e){let t=n.indexId-e.indexId;return t!==0||(t=SM(n.arrayValue,e.arrayValue),t!==0)||(t=SM(n.directionalValue,e.directionalValue),t!==0)?t:J.comparator(n.documentKey,e.documentKey)}function SM(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var Dp=class{constructor(e){this.inequalityFilters=new Ve((t,r)=>wt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[];for(let t of e.filters){let r=t;r.isInequality()?this.inequalityFilters=this.inequalityFilters.add(r):this.equalityFilters.push(r)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(ee(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let t=O0(e);if(t!==void 0&&!this.hasMatchingEqualityFilter(t))return!1;let r=Da(e),i=new Set,s=0,o=0;for(;s<r.length&&this.hasMatchingEqualityFilter(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.inequalityFilters.size>0){let a=this.inequalityFilters.getIterator().getNext();if(!i.has(a.field.canonicalString())){let A=r[s];if(!this.matchesFilter(a,A)||!this.matchesOrderBy(this.orderBys[o++],A))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[o++],a))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new Ve(wt.comparator),t=[];for(let r of this.equalityFilters){if(r.field.isKeyField())continue;if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Tc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Tc(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Tc(r.field,r.dir==="asc"?0:1)));return new YQ(YQ.UNKNOWN_ID,this.collectionId,t,ch.empty())}hasMatchingEqualityFilter(e){for(let t of this.equalityFilters)if(this.matchesFilter(t,e))return!0;return!1}matchesFilter(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}matchesOrderBy(e,t){return e.field.isEqual(t.fieldPath)?t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc":!1}};function IU(n){var e,t;if(ee(n instanceof ye||n instanceof _e),n instanceof ye)if(n instanceof Ip){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ye.create(n.field,"==",s)))||[];return _e.create(i,"or")}else return n;let r=n.filters.map(i=>IU(i));return _e.create(r,n.op)}function q6(n){if(n.getFilters().length===0)return[];let e=Dw(IU(n));return ee(BU(e)),$0(e)||Z0(e)?[e]:e.getFilters()}function $0(n){return n instanceof ye}function Z0(n){return n instanceof _e&&J0(n)}function BU(n){return $0(n)||Z0(n)||Y6(n)}function Y6(n){if(n instanceof _e&&rw(n)){for(let e of n.getFilters())if(!$0(e)&&!Z0(e))return!1;return!0}return!1}function Dw(n){if(ee(n instanceof ye||n instanceof _e),n instanceof ye)return n;if(n.filters.length===1)return Dw(n.filters[0]);let e=n.filters.map(r=>Dw(r)),t=_e.create(e,n.op);return t=Rp(t),BU(t)?t:(ee(t instanceof _e),ee(Lc(t)),ee(t.filters.length>1),t.filters.reduce((r,i)=>eS(r,i)))}function eS(n,e){ee(n instanceof ye||n instanceof _e),ee(e instanceof ye||e instanceof _e);let t;return n instanceof ye?e instanceof ye?t=H6(n,e):t=bM(n,e):e instanceof ye?t=bM(e,n):t=J6(n,e),Rp(t)}function H6(n,e){return _e.create([n,e],"and")}function J6(n,e){if(ee(n.filters.length>0&&e.filters.length>0),Lc(n)&&Lc(e))return ML(n,e.getFilters());let t=rw(n)?n:e,r=rw(n)?e:n,i=t.filters.map(s=>eS(s,r));return _e.create(i,"or")}function bM(n,e){if(Lc(e))return ML(e,n.getFilters());{let t=e.filters.map(r=>eS(n,r));return _e.create(t,"or")}}function Rp(n){if(ee(n instanceof ye||n instanceof _e),n instanceof ye)return n;let e=n.getFilters();if(e.length===1)return Rp(e[0]);if(_L(n))return n;let t=e.map(i=>Rp(i)),r=[];return t.forEach(i=>{i instanceof ye?r.push(i):i instanceof _e&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:_e.create(r,n.op)}var Rw=class{constructor(){this.collectionParentIndex=new wh}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(vr.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},wh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ve(Se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Se.comparator)).toArray()}};var vM="IndexedDbIndexManager",np=new Uint8Array(0),Tw=class{constructor(e,t){this.databaseId=t,this.collectionParentsCache=new wh,this.targetToDnfSubTargets=new Li(r=>Na(r),(r,i)=>xh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});let s={collectionId:r,parent:Sn(i)};return DM(e).put(s)}return R.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[rL(t),""],!1,!0);return DM(e).loadAll(i).next(s=>{for(let o of s){if(o.collectionId!==t)break;r.push(ki(o.parent))}return r})}addFieldIndex(e,t){let r=$u(e),i=Q6(t);delete i.indexId;let s=r.add(i);if(t.indexState){let o=yc(e);return s.next(a=>{o.put(gM(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}else return s.next()}deleteFieldIndex(e,t){let r=$u(e),i=yc(e),s=Bc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=$u(e),r=Bc(e),i=yc(e);return t.deleteAll().next(()=>r.deleteAll()).next(()=>i.deleteAll())}createTargetIndexes(e,t){return R.forEach(this.getSubTargets(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Dp(r).buildTargetIndex();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=Bc(e),i=!0,s=new Map;return R.forEach(this.getSubTargets(t),o=>this.getFieldIndex(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=fe(),a=[];return R.forEach(s,(A,c)=>{O(vM,`Using index ${r5(A)} to execute ${Na(t)}`);let l=bK(c,A),u=vK(c,A),h=DK(c,A),d=RK(c,A),E=this.encodeBound(A,c,h),I=this.encodeBound(A,c,d),m=this.encodeValues(A,c,u),D=this.generateIndexRanges(A.indexId,l,E,h.inclusive,I,d.inclusive,m);return R.forEach(D,v=>r.loadFirst(v,t.limit).next(k=>{k.forEach(T=>{let _=J.fromSegments(T.documentKey);o.has(_)||(o=o.add(_),a.push(_))})}))}).next(()=>a)}else return R.resolve(null)})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);return t||(e.filters.length===0?t=[e]:t=q6(_e.create(e.filters,"and")).map(i=>hw(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,t),t)}generateIndexRanges(e,t,r,i,s,o,a){let A=(t!=null?t.length:1)*Math.max(r.length,s.length),c=A/(t!=null?t.length:1),l=[];for(let u=0;u<A;++u){let h=t?this.encodeSingleElement(t[u/c]):np,d=this.generateLowerBound(e,h,r[u%c],i),E=this.generateUpperBound(e,h,s[u%c],o),I=a.map(m=>this.generateLowerBound(e,h,m,!0));l.push(...this.createRange(d,E,I))}return l}generateLowerBound(e,t,r,i){let s=new ya(e,J.empty(),t,r);return i?s:s.successor()}generateUpperBound(e,t,r,i){let s=new ya(e,J.empty(),t,r);return i?s.successor():s}getFieldIndex(e,t){let r=new Dp(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.servedByIndex(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2,i=this.getSubTargets(t);return R.forEach(i,s=>this.getFieldIndex(e,s).next(o=>{o?r!==0&&o.fields.length<TK(s)&&(r=1):r=0})).next(()=>kK(t)&&i.length>1&&r===2?1:r)}encodeDirectionalElements(e,t){let r=new Ba;for(let i of Da(e)){let s=t.data.field(i.fieldPath);if(s==null)return null;let o=r.forKind(i.kind);us.INSTANCE.writeIndexValue(s,o)}return r.encodedBytes()}encodeSingleElement(e){let t=new Ba;return us.INSTANCE.writeIndexValue(e,t.forKind(0)),t.encodedBytes()}encodeDirectionalKey(e,t){let r=new Ba;return us.INSTANCE.writeIndexValue(Ta(this.databaseId,t),r.forKind(n5(e))),r.encodedBytes()}encodeValues(e,t,r){if(r===null)return[];let i=[];i.push(new Ba);let s=0;for(let o of Da(e)){let a=r[s++];for(let A of i)if(this.isInFilter(t,o.fieldPath)&&fh(a))i=this.expandIndexValues(i,o,a);else{let c=A.forKind(o.kind);us.INSTANCE.writeIndexValue(a,c)}}return this.getEncodedBytes(i)}encodeBound(e,t,r){return this.encodeValues(e,t,r.position)}getEncodedBytes(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].encodedBytes();return t}expandIndexValues(e,t,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let A=new Ba;A.seed(a.encodedBytes()),us.INSTANCE.writeIndexValue(o,A.forKind(t.kind)),s.push(A)}return s}isInFilter(e,t){return!!e.filters.find(r=>r instanceof ye&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=$u(e),i=yc(e);return(t?r.loadAll(XQ,IDBKeyRange.bound(t,t)):r.loadAll()).next(s=>{let o=[];return R.forEach(s,a=>i.get([a.indexId,this.uid]).next(A=>{o.push(w6(a,A))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ge(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=$u(e),s=yc(e);return this.getNextSequenceNumber(e).next(o=>i.loadAll(XQ,IDBKeyRange.bound(t,t)).next(a=>R.forEach(a,A=>s.put(gM(A.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){let r=new Map;return R.forEach(t,(i,s)=>{let o=r.get(i.collectionGroup);return(o?R.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(A=>(r.set(i.collectionGroup,A),R.forEach(A,c=>this.getExistingIndexEntries(e,i,c).next(l=>{let u=this.computeIndexEntries(s,c);return l.isEqual(u)?R.resolve():this.updateEntries(e,s,c,l,u)}))))})}addIndexEntry(e,t,r,i){return Bc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,t.key),documentKey:t.key.path.toArray()})}deleteIndexEntry(e,t,r,i){return Bc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.encodeDirectionalKey(r,t.key),t.key.path.toArray()])}getExistingIndexEntries(e,t,r){let i=Bc(e),s=new Ve(po);return i.iterate({index:pL,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,t)])},(o,a)=>{s=s.add(new ya(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}computeIndexEntries(e,t){let r=new Ve(po),i=this.encodeDirectionalElements(t,e);if(i==null)return r;let s=O0(t);if(s!=null){let o=e.data.field(s.fieldPath);if(fh(o))for(let a of o.arrayValue.values||[])r=r.add(new ya(t.indexId,e.key,this.encodeSingleElement(a),i))}else r=r.add(new ya(t.indexId,e.key,np,i));return r}updateEntries(e,t,r,i,s){O(vM,"Updating index entries for document '%s'",t.key);let o=[];return P5(i,s,po,a=>{o.push(this.addIndexEntry(e,t,r,a))},a=>{o.push(this.deleteIndexEntry(e,t,r,a))}),R.waitFor(o)}getNextSequenceNumber(e){let t=1;return yc(e).iterate({index:fL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,o)=>{o.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>po(o,a)).filter((o,a,A)=>!a||po(o,A[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=po(o,e),A=po(o,t);if(a===0)i[0]=e.successor();else if(a>0&&A<0)i.push(o),i.push(o.successor());else if(A>0)break}i.push(t);let s=[];for(let o=0;o<i.length;o+=2){if(this.isRangeMatchable(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,np,[]],A=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,np,[]];s.push(IDBKeyRange.bound(a,A))}return s}isRangeMatchable(e,t){return po(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RM)}getMinOffset(e,t){return R.mapArray(this.getSubTargets(t),r=>this.getFieldIndex(e,r).next(i=>i||j())).next(RM)}};function DM(n){return zt(n,lh)}function Bc(n){return zt(n,AE)}function $u(n){return zt(n,q0)}function yc(n){return zt(n,aE)}function RM(n){ee(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;P0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new vr(e.readTime,e.documentKey,t)}function yU(n,e,t){let r=n.store(Kr),i=n.store(Xc),s=[],o=IDBKeyRange.only(t.batchId),a=0,A=r.iterate({range:o},(l,u,h)=>(a++,h.delete()));s.push(A.next(()=>{ee(a===1)}));let c=[];for(let l of t.mutations){let u=hL(e,l.key.path,t.batchId);s.push(i.delete(u)),c.push(l.key)}return R.waitFor(s).next(()=>c)}function Tp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else if(n.noDocument)e=n.noDocument;else throw j();return JSON.stringify(e).length}var kp=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.documentKeysByBatchId={}}static forUser(e,t,r,i){ee(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eo(e).iterate({index:Qa,range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let s=vc(e),o=Eo(e);return o.add({}).next(a=>{ee(typeof a=="number");let A=new Ch(a,t,r,i),c=g6(this.serializer,this.userId,A),l=[],u=new Ve((h,d)=>ge(h.canonicalString(),d.canonicalString()));for(let h of i){let d=hL(this.userId,h.key.path,a);u=u.add(h.key.path.popLast()),l.push(o.put(c)),l.push(s.put(d,u5))}return u.forEach(h=>{l.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[a]=A.keys()}),R.waitFor(l).next(()=>A)})}lookupMutationBatch(e,t){return Eo(e).get(t).next(r=>r?(ee(r.userId===this.userId),Ia(this.serializer,r)):null)}lookupMutationKeys(e,t){return this.documentKeysByBatchId[t]?R.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.documentKeysByBatchId[t]=i,i}else return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Eo(e).iterate({index:Qa,range:i},(o,a,A)=>{a.userId===this.userId&&(ee(a.batchId>=r),s=Ia(this.serializer,a)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=yo;return Eo(e).iterate({index:Qa,range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,yo],[this.userId,Number.POSITIVE_INFINITY]);return Eo(e).loadAll(Qa,t).next(r=>r.map(i=>Ia(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=op(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return vc(e).iterate({range:i},(o,a,A)=>{let[c,l,u]=o,h=ki(l);if(c!==this.userId||!t.path.isEqual(h)){A.done();return}return Eo(e).get(u).next(d=>{if(!d)throw j();ee(d.userId===this.userId),s.push(Ia(this.serializer,d))})}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(ge),i=[];return t.forEach(s=>{let o=op(this.userId,s.path),a=IDBKeyRange.lowerBound(o),A=vc(e).iterate({range:a},(c,l,u)=>{let[h,d,E]=c,I=ki(d);if(h!==this.userId||!s.path.isEqual(I)){u.done();return}r=r.add(E)});i.push(A)}),R.waitFor(i).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=op(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ve(ge);return vc(e).iterate({range:o},(A,c,l)=>{let[u,h,d]=A,E=ki(h);if(u!==this.userId||!r.isPrefixOf(E)){l.done();return}E.length===i&&(a=a.add(d))}).next(()=>this.lookupMutationBatches(e,a))}lookupMutationBatches(e,t){let r=[],i=[];return t.forEach(s=>{i.push(Eo(e).get(s).next(o=>{if(o===null)throw j();ee(o.userId===this.userId),r.push(Ia(this.serializer,o))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return yU(e.simpleDbTransaction,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return R.resolve();let r=IDBKeyRange.lowerBound(l5(this.userId)),i=[];return vc(e).iterate({range:r},(s,o,a)=>{if(s[0]!==this.userId){a.done();return}else{let c=ki(s[1]);i.push(c)}}).next(()=>{ee(i.length===0)})})}containsKey(e,t){return QU(e,this.userId,t)}getMutationQueueMetadata(e){return wU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:yo,lastStreamToken:""})}};function QU(n,e,t){let r=op(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return vc(n).iterate({range:s,keysOnly:!0},(a,A,c)=>{let[l,u,h]=a;l===e&&u===i&&(o=!0),c.done()}).next(()=>o)}function W6(n,e){let t=!1;return wU(n).iterateSerial(r=>QU(n,r,e).next(i=>(i&&(t=!0),R.resolve(!i)))).next(()=>t)}function Eo(n){return zt(n,Kr)}function vc(n){return zt(n,Xc)}function wU(n){return zt(n,Mh)}var TQ=2,Gc=class n{constructor(e){this.lastId=e}next(){return this.lastId+=TQ,this.lastId}static forTargetCache(){return new n(2-TQ)}static forSyncEngine(){return new n(1-TQ)}};var kw=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{let r=new Gc(t.highestTargetId);return t.highestTargetId=r.next(),this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(t=>re.fromTimestamp(new lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.retrieveMetadata(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.saveMetadata(e,i)))}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(t,r),this.saveMetadata(e,r))))}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qc(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.saveMetadata(e,r)))}removeTargets(e,t,r){let i=0,s=[];return Qc(e).iterate((o,a)=>{let A=nh(a);A.sequenceNumber<=t&&r.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>R.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Qc(e).iterate((r,i)=>{let s=nh(i);t(s)})}retrieveMetadata(e){return TM(e).get(Ep).next(t=>(ee(t!==null),t))}saveMetadata(e,t){return TM(e).put(Ep,t)}saveTargetData(e,t){return Qc(e).put(CU(this.serializer,t))}updateMetadataFromTargetData(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Na(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Qc(e).iterate({range:i,index:gL},(o,a,A)=>{let c=nh(a);xh(t,c.target)&&(s=c,A.done())}).next(()=>s)}addMatchingKeys(e,t,r){let i=[],s=mo(e);return t.forEach(o=>{let a=Sn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),R.waitFor(i)}removeMatchingKeys(e,t,r){let i=mo(e);return R.forEach(t,s=>{let o=Sn(s.path);return R.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){let r=mo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=mo(e),s=fe();return i.iterate({range:r,keysOnly:!0},(o,a,A)=>{let c=ki(o[1]),l=new J(c);s=s.add(l)}).next(()=>s)}containsKey(e,t){let r=Sn(t.path),i=IDBKeyRange.bound([r],[rL(r)],!1,!0),s=0;return mo(e).iterate({index:G0,keysOnly:!0,range:i},([o,a],A,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}getTargetDataForTarget(e,t){return Qc(e).get(t).next(r=>r?nh(r):null)}};function Qc(n){return zt(n,$c)}function TM(n){return zt(n,Va)}function mo(n){return zt(n,Zc)}var kM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vh=-1,SU=40*1024*1024,Sr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Sr.DEFAULT_COLLECTION_PERCENTILE=10;Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;Sr.DEFAULT=new Sr(SU,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);Sr.DISABLED=new Sr(Vh,0,0);var NM="LruGarbageCollector",_M=1*1024*1024,z6=1*60*1e3,j6=5*60*1e3;function FM([n,e],[t,r]){let i=ge(n,t);return i===0?ge(e,r):i}var Nw=class{constructor(e){this.maxElements=e,this.buffer=new Ve(FM),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();FM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},_w=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==Vh&&this.scheduleGC(z6)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return this.gcTask!==null}scheduleGC(e){O(NM,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>B(this,null,function*(){this.gcTask=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?O(NM,"Ignoring IndexedDB error during garbage collection: ",t):yield Fo(t)}yield this.scheduleGC(j6)}))}},Fw=class{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return R.resolve(nr.INVALID);let r=new Nw(t);return this.delegate.forEachTarget(e,i=>r.addElement(i.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,i=>r.addElement(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===Vh?(O("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(kM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kM):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,i,s,o,a,A,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),i=this.params.maximumSequenceNumbersToCollect):i=u,o=Date.now(),this.nthSequenceNumber(e,i))).next(u=>(r=u,a=Date.now(),this.removeTargets(e,r,t))).next(u=>(s=u,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(u=>{if(c=Date.now(),wc()<=ui.DEBUG){let h=`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in ${a-o}ms
	Removed ${s} targets in ${A-a}ms
	Removed ${u} documents in ${c-A}ms
Total Duration: ${c-l}ms`;O("LruGarbageCollector",h)}return R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:u})})}};function K6(n,e){return new Fw(n,e)}var Mw=class{constructor(e,t){this.db=e,this.garbageCollector=K6(this,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(r,i)=>t(i))}addReference(e,t,r){return rp(e,r)}removeReference(e,t,r){return rp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rp(e,t)}isPinned(e,t){return W6(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],o=0;return this.forEachOrphanedDocument(e,(A,c)=>{if(c<=t){let l=this.isPinned(e,A).next(u=>{if(!u)return o++,i.getEntry(e,A).next(()=>(i.removeEntry(A,re.min()),mo(e).delete(X6(A))))});s.push(l)}}).next(()=>R.waitFor(s)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rp(e,t)}forEachOrphanedDocument(e,t){let r=mo(e),i=nr.INVALID,s;return r.iterate({index:G0},([o,a],{path:A,sequenceNumber:c})=>{o===0?(i!==nr.INVALID&&t(new J(ki(s)),i),i=c,s=A):i=nr.INVALID}).next(()=>{i!==nr.INVALID&&t(new J(ki(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function X6(n){return[0,Sn(n.path)]}function $6(n,e){return{targetId:0,path:Sn(n.path),sequenceNumber:e}}function rp(n,e){return mo(n).put($6(e,n.currentSequenceNumber))}var Np=class{constructor(){this.changes=new Li(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lw=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ea(e).put(r)}removeEntry(e,t,r){return Ea(e).delete(Z6(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.setMetadata(e,r)))}getEntry(e,t){let r=_t.newInvalidDocument(t);return Ea(e).iterate({index:ap,range:IDBKeyRange.only(Zu(t))},(i,s)=>{r=this.maybeDecodeDocument(t,s)}).next(()=>r)}getSizedEntry(e,t){let r={size:0,document:_t.newInvalidDocument(t)};return Ea(e).iterate({index:ap,range:IDBKeyRange.only(Zu(t))},(i,s)=>{r={document:this.maybeDecodeDocument(t,s),size:Tp(s)}}).next(()=>r)}getEntries(e,t){let r=Vn();return this.forEachDbEntry(e,t,(i,s)=>{let o=this.maybeDecodeDocument(i,s);r=r.insert(i,o)}).next(()=>r)}getSizedEntries(e,t){let r=Vn(),i=new et(J.comparator);return this.forEachDbEntry(e,t,(s,o)=>{let a=this.maybeDecodeDocument(s,o);r=r.insert(s,a),i=i.insert(s,Tp(o))}).next(()=>({documents:r,sizeMap:i}))}forEachDbEntry(e,t,r){if(t.isEmpty())return R.resolve();let i=new Ve(UM);t.forEach(A=>i=i.add(A));let s=IDBKeyRange.bound(Zu(i.first()),Zu(i.last())),o=i.getIterator(),a=o.getNext();return Ea(e).iterate({index:ap,range:s},(A,c,l)=>{let u=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&UM(a,u)<0;)r(a,null),a=o.getNext();a&&a.isEqual(u)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?l.skip(Zu(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),dE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],A=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(e).loadAll(IDBKeyRange.bound(a,A,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let l=Vn();for(let u of c){let h=this.maybeDecodeDocument(J.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);h.isFoundDocument()&&(Ph(t,h)||i.has(h.key))&&(l=l.insert(h.key,h))}return l})}getAllFromCollectionGroup(e,t,r,i){let s=Vn(),o=LM(t,r),a=LM(t,vr.max());return Ea(e).iterate({index:dL,range:IDBKeyRange.bound(o,a,!0)},(A,c,l)=>{let u=this.maybeDecodeDocument(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(u.key,u),s.size===i&&l.done()}).next(()=>s)}newChangeBuffer(e){return new Uw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return MM(e).get(KQ).next(t=>(ee(!!t),t))}setMetadata(e,t){return MM(e).put(KQ,t)}maybeDecodeDocument(e,t){if(t){let r=h6(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return _t.newInvalidDocument(e)}};function bU(n){return new Lw(n)}var Uw=class extends Np{constructor(e,t){super(),this.documentCache=e,this.trackRemovals=t,this.documentStates=new Li(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new Ve((s,o)=>ge(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.documentStates.get(s);if(t.push(this.documentCache.removeEntry(e,s,a.readTime)),o.isValidDocument()){let A=dM(this.documentCache.serializer,o);i=i.add(s.path.popLast());let c=Tp(A);r+=c-a.size,t.push(this.documentCache.addEntry(e,s,A))}else if(r-=a.size,this.trackRemovals){let A=dM(this.documentCache.serializer,o.convertToNoDocument(re.min()));t.push(this.documentCache.addEntry(e,s,A))}}),i.forEach(s=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.documentCache.updateMetadata(e,r)),R.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(r=>(this.documentStates.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:r,sizeMap:i})=>(i.forEach((s,o)=>{this.documentStates.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function MM(n){return zt(n,Lh)}function Ea(n){return zt(n,iE)}function Zu(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Z6(n,e){let t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],dE(e),t[t.length-1]]}function LM(n,e){let t=e.documentKey.path.toArray();return[n,dE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function UM(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=ge(t[s],r[s]),i)return i;return i=ge(t.length,r.length),i||(i=ge(t[t.length-2],r[r.length-2]),i)?i:ge(t[t.length-1],r[r.length-1])}var eX=16;var xw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var _p=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&oh(r.mutation,i,rr.empty(),lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=Ni();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=th();return s.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vn(),o=ph(),a=JK();return t.forEach((A,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Zr)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),oh(l.mutation,c,l.mutation.getFieldMask(),lt.now())):o.set(c.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var u;return a.set(c,new xw(l,(u=o.get(c))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ph(),i=new et((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(A=>{let c=t.get(A);if(c===null)return;let l=r.get(A)||rr.empty();l=a.applyToLocalView(c,l),r.set(A,l);let u=(i.get(a.batchId)||fe()).add(A);i=i.insert(a.batchId,u)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let A=a.getNext(),c=A.key,l=A.value,u=JL();l.forEach(h=>{if(!s.has(h)){let d=eU(t.get(h),r.get(h));d!==null&&u.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,u))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return MK(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):R.resolve(Ni()),a=_c,A=s;return o.next(c=>R.forEach(c,(l,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(l)?R.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{A=A.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,A,c,fe())).next(l=>({batchId:a,changes:HL(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=th();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,A=>{let c=NK(t,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((A,c)=>{let l=c.getKey();o.get(l)===null&&(o=o.insert(l,_t.newInvalidDocument(l)))});let a=th();return o.forEach((A,c)=>{let l=s.get(A);l!==void 0&&oh(l.mutation,c,rr.empty(),lt.now()),Ph(t,c)&&(a=a.insert(A,c))}),a})}};var Ow=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return R.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,B6(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,I6(t)),R.resolve()}};var Pw=class{constructor(){this.overlays=new et(J.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ni();return R.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.saveOverlay(e,t,s)}),R.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){let i=Ni(),s=t.length+1,o=new J(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new et((c,l)=>c-l),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ni(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ni(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return R.resolve(a)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mh(t,r));let s=this.overlayByBatchId.get(t);s===void 0&&(s=fe(),this.overlayByBatchId.set(t,s)),this.overlayByBatchId.set(t,s.add(r.key))}};var Sh=class{constructor(){this.refsByKey=new Ve(Nt.compareByKey),this.refsByTarget=new Ve(Nt.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new Nt(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.removeRef(new Nt(e,t))}removeReferences(e,t){e.forEach(r=>this.removeReference(r,t))}removeReferencesForId(e){let t=new J(new Se([])),r=new Nt(t,e),i=new Nt(t,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new J(new Se([])),r=new Nt(t,e),i=new Nt(t,e+1),s=fe();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Nt(e,0),r=this.refsByKey.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Nt=class{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return J.comparator(e.key,t.key)||ge(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return ge(e.targetOrBatchId,t.targetOrBatchId)||J.comparator(e.key,t.key)}};var Vw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new Ve(Nt.compareByKey)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ch(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,t){return R.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?yo:this.nextBatchId-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Nt(t,0),i=new Nt(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(ge);return t.forEach(i=>{let s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),R.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));let o=new Nt(new J(s),0),a=new Ve(ge);return this.batchesByDocumentKey.forEachWhile(A=>{let c=A.key.path;return r.isPrefixOf(c)?(c.length===i&&(a=a.add(A.targetOrBatchId)),!0):!1},o),R.resolve(this.findMutationBatches(a))}findMutationBatches(e){let t=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){let r=this.indexOfExistingBatchId(t.batchId,"removed");ee(r===0),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return R.forEach(t.mutations,s=>{let o=new Nt(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new Nt(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};function tX(){return new et(J.comparator)}var Gw=class{constructor(e){this.sizer=e,this.docs=tX(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let r=Vn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vn(),o=t.path,a=new J(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){let{key:c,value:{document:l}}=A.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||P0(sL(l),r)<=0||!i.has(l.key)&&!Ph(t,l)||(s=s.insert(l.key,l.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,t,r,i){j()}forEachDocumentKey(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qw(this)}getSize(e){return R.resolve(this.size)}};function nX(n){return new Gw(n)}var qw=class extends Np{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}};var Yw=class{constructor(e){this.persistence=e,this.targets=new Li(t=>Na(t),xh),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Sh,this.targetCount=0,this.targetIdGenerator=Gc.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),R.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.saveTargetData(t),R.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),R.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.references.containsKey(t))}};var rX="MemoryPersistence",Fp=class{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new nr(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new Yw(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new Rw,this.remoteDocumentCache=nX(r),this.serializer=new bp(t),this.bundleCache=new Ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new Vw(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){O(rX,"Starting transaction:",e);let i=new Hw(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,t){return R.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}},Hw=class extends fp{constructor(e){super(),this.currentSequenceNumber=e}},Mp=class n{constructor(e){this.persistence=e,this.localViewReferences=new Sh,this._orphanedDocuments=null}static factory(e){return new n(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw j()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),R.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.orphanedDocuments,i=>{let s=J.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,re.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(r=>{r?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return R.or([()=>R.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}};var Jw=class{constructor(e){this.serializer=e}createOrUpgrade(e,t,r,i){let s=new pp("createOrUpgrade",t);r<1&&i>=1&&(sX(e),oX(e),xM(e),AX(e));let o=R.resolve();return r<3&&i>=3&&(r!==0&&(uX(e),xM(e)),o=o.next(()=>dX(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>aX(e,s))),o=o.next(()=>{gX(e)})),r<5&&i>=5&&(o=o.next(()=>this.removeAcknowledgedMutations(s))),r<6&&i>=6&&(o=o.next(()=>(lX(e),this.addDocumentGlobal(s)))),r<7&&i>=7&&(o=o.next(()=>this.ensureSequenceNumbers(s))),r<8&&i>=8&&(o=o.next(()=>this.createCollectionParentIndex(e,s))),r<9&&i>=9&&(o=o.next(()=>{hX(e)})),r<10&&i>=10&&(o=o.next(()=>this.rewriteCanonicalIds(s))),r<11&&i>=11&&(o=o.next(()=>{fX(e),pX(e)})),r<12&&i>=12&&(o=o.next(()=>{CX(e)})),r<13&&i>=13&&(o=o.next(()=>cX(e)).next(()=>this.rewriteRemoteDocumentCache(e,s)).next(()=>e.deleteObjectStore(ma))),r<14&&i>=14&&(o=o.next(()=>this.runOverlayMigration(e,s))),r<15&&i>=15&&(o=o.next(()=>EX(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore(aE).clear()}).next(()=>{t.objectStore(AE).clear()})),o}addDocumentGlobal(e){let t=0;return e.store(ma).iterate((r,i)=>{t+=Tp(i)}).next(()=>{let r={byteSize:t};return e.store(Lh).put(KQ,r)})}removeAcknowledgedMutations(e){let t=e.store(Mh),r=e.store(Kr);return t.loadAll().next(i=>R.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,yo],[s.userId,s.lastAcknowledgedBatchId]);return r.loadAll(Qa,o).next(a=>R.forEach(a,A=>{ee(A.userId===s.userId);let c=Ia(this.serializer,A);return yU(e,s.userId,c).next(()=>{})}))}))}ensureSequenceNumbers(e){let t=e.store(Zc),r=e.store(ma);return e.store(Va).get(Ep).next(s=>{let o=A=>t.put({targetId:0,path:Sn(A),sequenceNumber:s.highestListenSequenceNumber}),a=[];return r.iterate((A,c)=>{let l=new Se(A),u=iX(l);a.push(t.get(u).next(h=>h?R.resolve():o(l)))}).next(()=>R.waitFor(a))})}createCollectionParentIndex(e,t){e.createObjectStore(lh,{keyPath:m5});let r=t.store(lh),i=new wh,s=o=>{if(i.add(o)){let a=o.lastSegment(),A=o.popLast();return r.put({collectionId:a,parent:Sn(A)})}};return t.store(ma).iterate({keysOnly:!0},(o,a)=>{let A=new Se(o);return s(A.popLast())}).next(()=>t.store(Xc).iterate({keysOnly:!0},([o,a,A],c)=>{let l=ki(a);return s(l.popLast())}))}rewriteCanonicalIds(e){let t=e.store($c);return t.iterate((r,i)=>{let s=nh(i),o=CU(this.serializer,s);return t.put(o)})}rewriteRemoteDocumentCache(e,t){let r=t.store(ma),i=[];return r.iterate((s,o)=>{let a=t.store(iE),A=mX(o).path.toArray(),c={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>R.waitFor(i))}runOverlayMigration(e,t){let r=t.store(Kr),i=bU(this.serializer),s=new Fp(Mp.factory,this.serializer.remoteSerializer);return r.loadAll().next(o=>{let a=new Map;return o.forEach(A=>{var c;let l=(c=a.get(A.userId))!==null&&c!==void 0?c:fe();Ia(this.serializer,A).keys().forEach(h=>l=l.add(h)),a.set(A.userId,l)}),R.forEach(a,(A,c)=>{let l=new Ft(c),u=vp.forUser(this.serializer,l),h=s.getIndexManager(l),d=kp.forUser(l,this.serializer,h,s.referenceDelegate);return new _p(i,d,u,h).recalculateAndSaveOverlaysForDocumentKeys(new uh(t,nr.INVALID),A).next()})})}};function iX(n){return[0,Sn(n)]}function sX(n){n.createObjectStore(Fh)}function oX(n){n.createObjectStore(Mh,{keyPath:c5}),n.createObjectStore(Kr,{keyPath:lL,autoIncrement:!0}).createIndex(Qa,uL,{unique:!0}),n.createObjectStore(Xc)}function aX(n,e){return e.store(Kr).loadAll().next(r=>{n.deleteObjectStore(Kr),n.createObjectStore(Kr,{keyPath:lL,autoIncrement:!0}).createIndex(Qa,uL,{unique:!0});let s=e.store(Kr),o=r.map(a=>s.put(a));return R.waitFor(o)})}function AX(n){n.createObjectStore(ma)}function cX(n){let e=n.createObjectStore(iE,{keyPath:h5});e.createIndex(ap,d5),e.createIndex(dL,g5)}function lX(n){n.createObjectStore(Lh)}function xM(n){n.createObjectStore(Zc,{keyPath:E5}).createIndex(G0,C5,{unique:!0}),n.createObjectStore($c,{keyPath:f5}).createIndex(gL,p5,{unique:!0}),n.createObjectStore(Va)}function uX(n){n.deleteObjectStore(Zc),n.deleteObjectStore($c),n.deleteObjectStore(Va)}function hX(n){n.objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges")}function dX(n){let e=n.store(Va),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return e.put(Ep,t)}function gX(n){n.createObjectStore(Fc,{keyPath:I5})}function fX(n){n.createObjectStore(sE,{keyPath:B5})}function pX(n){n.createObjectStore(oE,{keyPath:y5})}function EX(n){n.createObjectStore(q0,{keyPath:Q5,autoIncrement:!0}).createIndex(XQ,w5,{unique:!1}),n.createObjectStore(aE,{keyPath:S5}).createIndex(fL,b5,{unique:!1}),n.createObjectStore(AE,{keyPath:v5}).createIndex(pL,D5,{unique:!1})}function CX(n){let e=n.createObjectStore(cE,{keyPath:R5});e.createIndex($Q,T5,{unique:!1}),e.createIndex(EL,k5,{unique:!1})}function mX(n){return n.document?new J(Se.fromString(n.document.name).popFirst(5)):n.noDocument?J.fromSegments(n.noDocument.path):n.unknownDocument?J.fromSegments(n.unknownDocument.path):j()}var Co="IndexedDbPersistence",kQ=30*60*1e3,NQ=5e3,IX=4e3,_Q="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BX="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",yX="firestore_zombie",vU="main",Ww=class n{constructor(e,t,r,i,s,o,a,A,c,l,u=eX){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.queue=s,this.window=o,this.document=a,this.sequenceNumberSyncer=c,this.forceOwningTab=l,this.schemaVersion=u,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=h=>Promise.resolve(),!n.isAvailable())throw new M(N.UNIMPLEMENTED,BX);this.referenceDelegate=new Mw(this,i),this.dbName=t+vU,this.serializer=new bp(A),this.simpleDb=new wo(this.dbName,this.schemaVersion,new Jw(this.serializer)),this.targetCache=new kw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bU(this.serializer),this.bundleCache=new ww,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,l===!1&&ct(Co,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(N.FAILED_PRECONDITION,_Q);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new nr(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=t=>B(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(t=>B(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(()=>B(this,null,function*(){this.started&&(yield this.updateClientMetadataAndTryBecomePrimary())})))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ip(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(r=>{r||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(r=>this.isPrimary&&!r?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):r?this.acquireOrExtendPrimaryLease(e).next(()=>!0):!1)).catch(e=>{if(Mo(e))return O(Co,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return O(Co,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return eh(e).get(Ec).next(r=>R.resolve(this.isLocalClient(r)))}removeClientMetadata(e){return ip(e).delete(this.clientId)}maybeGarbageCollectMultiClientState(){return B(this,null,function*(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,kQ)){this.lastGarbageCollectionTime=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=zt(t,Fc);return r.loadAll().next(i=>{let s=this.filterActiveClients(i,kQ),o=i.filter(a=>s.indexOf(a)===-1);return R.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.webStorage)for(let t of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}})}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",IX,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return e?e.ownerId===this.clientId:!1}canActAsPrimary(e){return this.forceOwningTab?R.resolve(!0):eh(e).get(Ec).next(r=>{if(r!==null&&this.isWithinAge(r.leaseTimestampMs,NQ)&&!this.isClientZombied(r.ownerId)){if(this.isLocalClient(r)&&this.networkEnabled)return!0;if(!this.isLocalClient(r)){if(!r.allowTabSynchronization)throw new M(N.FAILED_PRECONDITION,_Q);return!1}}return this.networkEnabled&&this.inForeground?!0:ip(e).loadAll().next(s=>this.filterActiveClients(s,NQ).find(a=>{if(this.clientId!==a.clientId){let A=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(A||c&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&O(Co,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){return B(this,null,function*(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),yield this.simpleDb.runTransaction("shutdown","readwrite",[Fh,Fc],e=>{let t=new uh(e,nr.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))}),this.simpleDb.close(),this.removeClientZombiedEntry()})}filterActiveClients(e,t){return e.filter(r=>this.isWithinAge(r.updateTimeMs,t)&&!this.isClientZombied(r.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>ip(e).loadAll().next(t=>this.filterActiveClients(t,kQ).map(r=>r.clientId)))}get started(){return this._started}getMutationQueue(e,t){return kp.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tw(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return vp.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){O(Co,"Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",s=O5(this.schemaVersion),o;return this.simpleDb.runTransaction(e,i,s,a=>(o=new uh(a,this.listenSequence?this.listenSequence.next():nr.INVALID),t==="readwrite-primary"?this.verifyPrimaryLease(o).next(A=>A?!0:this.canActAsPrimary(o)).next(A=>{if(!A)throw ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new M(N.FAILED_PRECONDITION,oL);return r(o)}).next(A=>this.acquireOrExtendPrimaryLease(o).next(()=>A)):this.verifyAllowTabSynchronization(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}verifyAllowTabSynchronization(e){return eh(e).get(Ec).next(r=>{if(r!==null&&this.isWithinAge(r.leaseTimestampMs,NQ)&&!this.isClientZombied(r.ownerId)&&!this.isLocalClient(r)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!r.allowTabSynchronization))throw new M(N.FAILED_PRECONDITION,_Q)})}acquireOrExtendPrimaryLease(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eh(e).put(Ec,t)}static isAvailable(){return wo.isAvailable()}releasePrimaryLeaseIfHeld(e){let t=eh(e);return t.get(Ec).next(r=>this.isLocalClient(r)?(O(Co,"Releasing primary lease."),t.delete(Ec)):R.resolve())}isWithinAge(e,t){let r=Date.now(),i=r-t,s=r;return e<i?!1:e>s?(ct(`Detected an update time that is in the future: ${e} > ${s}`),!1):!0}attachVisibilityHandler(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground=this.document.visibilityState==="visible")}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.windowUnloadHandler=()=>{this.markClientZombied();let t=/(?:Version|Mobile)\/1[456]/;Jm()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var t;try{let r=((t=this.webStorage)===null||t===void 0?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return O(Co,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ct(Co,"Failed to get zombied client id.",r),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){ct("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch{}}zombiedClientLocalStorageKey(e){return`${yX}_${this.persistenceKey}_${e}`}};function eh(n){return zt(n,Fh)}function ip(n){return zt(n,Fc)}function tS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}function QX(n){return B(this,null,function*(){if(!wo.isAvailable())return Promise.resolve();let e=n+vU;yield wo.delete(e)})}var nS="LocalStore",wX=5*60*1e6,bh=class{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new et(ge),this.targetIdByTarget=new Li(s=>Na(s),xh),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _p(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}};function DU(n,e,t,r){return new bh(n,e,t,r)}function RU(n,e){return B(this,null,function*(){let t=W(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.initializeUserComponents(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],A=[],c=fe();for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){A.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({affectedDocuments:l,removedBatchIds:a,addedBatchIds:A}))})})})}function SX(n,e){let t=W(n),r=lt.now(),i=e.reduce((a,A)=>a.add(A.key),fe()),s,o;return t.persistence.runTransaction("Locally write mutations","readwrite",a=>{let A=Vn(),c=fe();return t.remoteDocuments.getEntries(a,i).next(l=>{A=l,A.forEach((u,h)=>{h.isValidDocument()||(c=c.add(u))})}).next(()=>t.localDocuments.getOverlayedDocuments(a,A)).next(l=>{s=l;let u=[];for(let h of e){let d=i8(h,s.get(h.key).overlayedDocument);d!=null&&u.push(new Zr(h.key,d,kL(d.value.mapValue),ft.exists(!0)))}return t.mutationQueue.addMutationBatch(a,r,u,e)}).next(l=>{o=l;let u=l.applyToLocalDocumentSet(s,c);return t.documentOverlayCache.saveOverlays(a,l.batchId,u)})}).then(()=>({batchId:o.batchId,changes:HL(s)}))}function bX(n,e){let t=W(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return LX(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,vX(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vX(n){let e=fe();for(let t=0;t<n.mutationResults.length;++t)n.mutationResults[t].transformResults.length>0&&(e=e.add(n.batch.mutations[t].key));return e}function DX(n,e){let t=W(n);return t.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return t.mutationQueue.lookupMutationBatch(r,e).next(s=>(ee(s!==null),i=s.keys(),t.mutationQueue.removeMutationBatch(r,s))).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>t.localDocuments.getDocuments(r,i))})}function RX(n){let e=W(n);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t))}function TU(n){let e=W(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.targetCache.getLastRemoteSnapshotVersion(t))}function TX(n,e){let t=W(n),r=e.snapshotVersion,i=t.targetDataByTarget;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=t.targetDataByTarget;let a=[];e.targetChanges.forEach((l,u)=>{let h=i.get(u);if(!h)return;a.push(t.targetCache.removeMatchingKeys(s,l.removedDocuments,u).next(()=>t.targetCache.addMatchingKeys(s,l.addedDocuments,u)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?d=d.withResumeToken(Wt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,r)),i=i.insert(u,d),kX(h,d,l)&&a.push(t.targetCache.updateTargetData(s,d))});let A=Vn(),c=fe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(kU(s,o,e.documentUpdates).next(l=>{A=l.changedDocuments,c=l.existenceChangedKeys})),!r.isEqual(re.min())){let l=t.targetCache.getLastRemoteSnapshotVersion(s).next(u=>t.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,A,c)).next(()=>A)}).then(s=>(t.targetDataByTarget=i,s))}function kU(n,e,t){let r=fe(),i=fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vn();return t.forEach((a,A)=>{let c=s.get(a);A.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),A.isNoDocument()&&A.version.isEqual(re.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!c.isValidDocument()||A.version.compareTo(c.version)>0||A.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):O(nS,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",A.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function kX(n,e,t){return n.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=wX?!0:t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0}function NX(n,e){return B(this,null,function*(){let t=W(n);try{yield t.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>R.forEach(e,i=>R.forEach(i.addedKeys,s=>t.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>R.forEach(i.removedKeys,s=>t.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(Mo(r))O(nS,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=t.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);t.targetDataByTarget=t.targetDataByTarget.insert(i,a)}}})}function _X(n,e){let t=W(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FX(n,e){let t=W(n);return t.persistence.runTransaction("read document","readonly",r=>t.localDocuments.getDocument(r,e))}function qc(n,e){let t=W(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.targetCache.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):t.targetCache.allocateTargetId(r).next(o=>(i=new Vc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.targetDataByTarget=t.targetDataByTarget.insert(r.targetId,r),t.targetIdByTarget.set(e,r.targetId)),r})}function MX(n,e,t){let r=W(n),i=r.targetIdByTarget.get(t);return i!==void 0?R.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,t)}function Yc(n,e,t){return B(this,null,function*(){let r=W(n),i=r.targetDataByTarget.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(Mo(o))O(nS,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function gE(n,e,t){let r=W(n),i=re.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>MX(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(A=>{s=A})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,t?i:re.min(),t?s:fe())).next(a=>(FU(r,GL(e),a),{documents:a,remoteKeys:s})))}function LX(n,e,t,r){let i=t.batch,s=i.keys(),o=R.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(A=>{let c=t.docVersions.get(a);ee(c!==null),A.version.compareTo(c)<0&&(i.applyToRemoteDocument(A,t),A.isValidDocument()&&(A.setReadTime(t.commitVersion),r.addEntry(A)))})}),o.next(()=>n.mutationQueue.removeMutationBatch(e,i))}function UX(n,e){let t=W(n),r=W(t.mutationQueue);return t.persistence.runTransaction("Lookup mutation documents","readonly",i=>r.lookupMutationKeys(i,e).next(s=>s?t.localDocuments.getDocuments(i,s):R.resolve(null)))}function xX(n,e){W(W(n,bh).mutationQueue).removeCachedMutationKeys(e)}function OX(n){return W(W(n,bh).persistence).getActiveClients()}function NU(n,e){let t=W(n),r=W(t.targetCache),i=t.targetDataByTarget.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.getTargetDataForTarget(s,e).next(o=>o?o.target:null))}function _U(n,e){let t=W(n),r=t.collectionGroupReadTime.get(e)||re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.remoteDocuments.getAllFromCollectionGroup(i,e,iL(r,_c),Number.MAX_SAFE_INTEGER)).then(i=>(FU(t,e,i),i))}function FU(n,e,t){let r=n.collectionGroupReadTime.get(e)||re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.collectionGroupReadTime.set(e,r)}function PX(n){return bn(el(Se.fromString(`__bundle__/docs/${n}`)))}function VX(n,e,t,r){return B(this,null,function*(){let i=W(n),s=fe(),o=Vn();for(let c of t){let l=e.toDocumentKey(c.metadata.name);c.document&&(s=s.add(l));let u=e.toMutableDocument(c);u.setReadTime(e.toSnapshotVersion(c.metadata.readTime)),o=o.insert(l,u)}let a=i.remoteDocuments.newChangeBuffer({trackRemovals:!0}),A=yield qc(i,PX(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>kU(c,a,o).next(l=>(a.apply(c),l)).next(l=>i.targetCache.removeMatchingKeysForTargetId(c,A.targetId).next(()=>i.targetCache.addMatchingKeys(c,s,A.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,l.changedDocuments,l.existenceChangedKeys)).next(()=>l.changedDocuments)))})}function GX(n,e){let t=W(n),r=Qt(e.createTime);return t.persistence.runTransaction("hasNewerBundle","readonly",i=>t.bundleCache.getBundleMetadata(i,e.id)).then(i=>!!i&&i.createTime.compareTo(r)>=0)}function qX(n,e){let t=W(n);return t.persistence.runTransaction("Save bundle","readwrite",r=>t.bundleCache.saveBundleMetadata(r,e))}function YX(n,e){let t=W(n);return t.persistence.runTransaction("Get named query","readonly",r=>t.bundleCache.getNamedQuery(r,e))}function HX(r,i){return B(this,arguments,function*(n,e,t=fe()){let s=yield qc(n,bn(X0(e.bundledQuery))),o=W(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let A=Qt(e.readTime);if(s.snapshotVersion.compareTo(A)>=0)return o.bundleCache.saveNamedQuery(a,e);let c=s.withResumeToken(Wt.EMPTY_BYTE_STRING,A);return o.targetDataByTarget=o.targetDataByTarget.insert(c.targetId,c),o.targetCache.updateTargetData(a,c).next(()=>o.targetCache.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.targetCache.addMatchingKeys(a,t,s.targetId)).next(()=>o.bundleCache.saveNamedQuery(a,e))})})}var zw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var JX=100;function WX(){return Jm()?8:aL(uu())>0?6:4}var Lp=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=JX,this.relativeIndexReadCostPerDocument=WX()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.performQueryUsingIndex(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new zw;return this.executeFullCollectionScan(e,t,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(wc()<=ui.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Sc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),R.resolve()):(wc()<=ui.DEBUG&&O("QueryEngine","Query:",Sc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(wc()<=ui.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Sc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(t))):R.resolve())}performQueryUsingIndex(e,t){if(sM(t))return R.resolve(null);let r=bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yp(t,null,"F"),r=bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(A=>{let c=this.applyQuery(t,a);return this.needsRefill(t,c,o,A.readTime)?this.performQueryUsingIndex(e,yp(t,null,"F")):this.appendRemainingResults(e,c,t,A)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return sM(t)||i.isEqual(re.min())?R.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(t,s);return this.needsRefill(t,o,r,i)?R.resolve(null):(wc()<=ui.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sc(t)),this.appendRemainingResults(e,o,t,iL(i,_c)).next(a=>a))})}applyQuery(e,t){let r=new Ve(qL(e));return t.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}needsRefill(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,t,r){return wc()<=ui.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Sc(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,vr.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var MU="firestore_clients";function OM(n,e){return`${MU}_${n}_${e}`}var LU="firestore_mutations";function PM(n,e,t){let r=`${LU}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}var UU="firestore_targets";function FQ(n,e){return`${UU}_${n}_${e}`}var zX="firestore_online_state";function jX(n){return`${zX}_${n}`}var KX="firestore_bundle_loaded_v2";function XX(n){return`${KX}_${n}`}var $X="firestore_sequence_number";function ZX(n){return`${$X}_${n}`}var Ti="SharedClientState",Up=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static fromWebStorageEntry(e,t,r){let i=JSON.parse(r),s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object"),o;return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new M(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(ct(Ti,`Failed to parse mutation state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},ah=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fromWebStorageEntry(e,t){let r=JSON.parse(t),i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object"),s;return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new M(r.error.code,r.error.message))),i?new n(e,r.state,s):(ct(Ti,`Failed to parse target state for ID '${e}': ${t}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},xp=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fromWebStorageEntry(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=j0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=DL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new n(e,s):(ct(Ti,`Failed to parse client data for instance '${e}': ${t}`),null)}},jw=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static fromWebStorageEntry(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(ct(Ti,`Failed to parse online state: ${e}`),null)}},vh=class{constructor(){this.activeTargetIds=j0()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ah=class{constructor(e,t,r,i,s){this.window=e,this.queue=t,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new et(ge),this.started=!1,this.earlyEvents=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.localClientStorageKey=OM(this.persistenceKey,this.localClientId),this.sequenceNumberKey=ZX(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new vh),this.clientStateKeyRe=new RegExp(`^${MU}_${o}_([^_]*)$`),this.mutationBatchKeyRe=new RegExp(`^${LU}_${o}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=new RegExp(`^${UU}_${o}_(\\d+)$`),this.onlineStateKey=jX(this.persistenceKey),this.bundleLoadedKey=XX(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}start(){return B(this,null,function*(){let e=yield this.syncEngine.getActiveClients();for(let r of e){if(r===this.localClientId)continue;let i=this.getItem(OM(this.persistenceKey,r));if(i){let s=xp.fromWebStorageEntry(r,i);s&&(this.activeClients=this.activeClients.insert(s.clientId,s))}}this.persistClientState();let t=this.storage.getItem(this.onlineStateKey);if(t){let r=this.fromWebStorageOnlineState(t);r&&this.handleOnlineStateEvent(r)}for(let r of this.earlyEvents)this.handleWebStorageEvent(r);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=!1;return this.activeClients.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,r){this.persistMutationState(e,t,r),this.removeMutationState(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(FQ(this.persistenceKey,e));if(r){let i=ah.fromWebStorageEntry(e,r);i&&(t=i.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FQ(this.persistenceKey,e))}updateQueryState(e,t,r){this.persistQueryTargetState(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.removeMutationState(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return O(Ti,"READ",e,t),t}setItem(e,t){O(Ti,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){O(Ti,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let t=e;if(t.storageArea===this.storage){if(O(Ti,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey){ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(()=>B(this,null,function*(){if(!this.started){this.earlyEvents.push(t);return}if(t.key!==null){if(this.clientStateKeyRe.test(t.key))if(t.newValue!=null){let r=this.fromWebStorageClientState(t.key,t.newValue);if(r)return this.handleClientStateEvent(r.clientId,r)}else{let r=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(r,null)}else if(this.mutationBatchKeyRe.test(t.key)){if(t.newValue!==null){let r=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(r)return this.handleMutationBatchEvent(r)}}else if(this.queryTargetKeyRe.test(t.key)){if(t.newValue!==null){let r=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(r)return this.handleQueryTargetEvent(r)}}else if(t.key===this.onlineStateKey){if(t.newValue!==null){let r=this.fromWebStorageOnlineState(t.newValue);if(r)return this.handleOnlineStateEvent(r)}}else if(t.key===this.sequenceNumberKey){let r=e$(t.newValue);r!==nr.INVALID&&this.sequenceNumberHandler(r)}else if(t.key===this.bundleLoadedKey){let r=this.fromWebStoreBundleLoadedState(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.synchronizeWithChangedDocuments(i)))}}}))}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,r){let i=new Up(this.currentUser,e,t,r),s=PM(this.persistenceKey,this.currentUser,e);this.setItem(s,i.toWebStorageJSON())}removeMutationState(e){let t=PM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){let t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,r){let i=FQ(this.persistenceKey,e),s=new ah(e,t,r);this.setItem(i,s.toWebStorageJSON())}persistBundleLoadedState(e){let t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){let t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){let r=this.fromWebStorageClientStateKey(e);return xp.fromWebStorageEntry(r,t)}fromWebStorageMutationMetadata(e,t){let r=this.mutationBatchKeyRe.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Up.fromWebStorageEntry(new Ft(s),i,t)}fromWebStorageQueryTargetMetadata(e,t){let r=this.queryTargetKeyRe.exec(e),i=Number(r[1]);return ah.fromWebStorageEntry(i,t)}fromWebStorageOnlineState(e){return jw.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}handleMutationBatchEvent(e){return B(this,null,function*(){if(e.user.uid!==this.currentUser.uid){O(Ti,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)})}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){let r=t?this.activeClients.insert(e,t):this.activeClients.remove(e),i=this.extractActiveQueryTargets(this.activeClients),s=this.extractActiveQueryTargets(r),o=[],a=[];return s.forEach(A=>{i.has(A)||o.push(A)}),i.forEach(A=>{s.has(A)||a.push(A)}),this.syncEngine.applyActiveTargetsChange(o,a).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let t=j0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}};function e$(n){let e=nr.INVALID;if(n!=null)try{let t=JSON.parse(n);ee(typeof t=="number"),e=t}catch(t){ct(Ti,"Failed to read sequence number from WebStorage",t)}return e}var Op=class{constructor(){this.localState=new vh,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new vh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Kw=class{addCallback(e){}shutdown(){}};var Xw=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var sp=null;function t$(){return 268435456+Math.round(2147483648*Math.random())}function MQ(){return sp===null?sp=t$():sp++,"0x"+sp.toString(16)}function n$(n){return new Promise((e,t)=>{n((r,i)=>{r?t(r):e(i)})})}var r$="1.9.1",wn="GrpcConnection",i$=`gl-node/${process.versions.node} fire/${Kc} grpc/${r$}`;function LQ(n,e,t,r){ee(e===null||e.type==="OAuth");let i=new ba.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),t&&t.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",i$),i.set("Google-Cloud-Resource-Prefix",n),i.set("x-goog-request-params",n),i}var $w=class{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){O(wn,"Creating Firestore stub.");let e=this.databaseInfo.ssl?ba.credentials.createSsl():ba.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,s){let o=MQ(),a=this.ensureActiveStub(),A=LQ(this.databasePath,i,s,this.databaseInfo.appId),c=Object.assign({database:this.databasePath},r);return n$(l=>(O(wn,`RPC '${e}' ${o} invoked with request:`,r),a[e](c,A,(u,h)=>{u?(O(wn,`RPC '${e}' ${o} failed with error:`,u),l(new M(lp(u.code),u.message))):(O(wn,`RPC '${e}' ${o} completed with response:`,h),l(void 0,h))})))}invokeStreamingRPC(e,t,r,i,s,o){let a=MQ(),A=[],c=new yt;O(wn,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),u=LQ(this.databasePath,i,s,this.databaseInfo.appId),h=Object.assign(Object.assign({},r),{database:this.databasePath}),d=l[e](h,u),E=!1;return d.on("data",I=>{O(wn,`RPC ${e} ${a} received result:`,I),A.push(I),o!==void 0&&A.length===o&&(E=!0,c.resolve(A))}),d.on("end",()=>{O(wn,`RPC '${e}' ${a} completed.`),E||(E=!0,c.resolve(A))}),d.on("error",I=>{O(wn,`RPC '${e}' ${a} failed with error:`,I);let m=lp(I.code);c.reject(new M(m,I.message))}),c.promise}openStream(e,t,r){let i=MQ(),s=this.ensureActiveStub(),o=LQ(this.databasePath,t,r,this.databaseInfo.appId),a=s[e](o),A=!1,c=h=>{A||(A=!0,l.callOnClose(h),a.end())},l=new Xw({sendFn:h=>{if(A)O(wn,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,h);else{O(wn,`RPC '${e}' stream ${i} sending:`,h);try{a.write(h)}catch(d){throw ct("Failure sending:",h),ct("Error:",d),d}}},closeFn:()=>{O(wn,`RPC '${e}' stream ${i} closed locally via close().`),c()}}),u=!1;return a.on("data",h=>{A||(O(wn,`RPC '${e}' stream ${i} received:`,h),u||(l.callOnConnected(),u=!0),l.callOnMessage(h))}),a.on("end",()=>{O(wn,`RPC '${e}' stream ${i} ended.`),c()}),a.on("error",h=>{if(!A){br(wn,`RPC '${e}' stream ${i} error. Code:`,h.code,"Message:",h.message);let d=lp(h.code);c(new M(d,h.message))}}),O(wn,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},xU={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},s$={nested:xU},o$=Object.freeze({__proto__:null,nested:xU,default:s$});var a$={longs:String,enums:String,defaults:!0,oneofs:!1};function A$(){let n=tL.fromJSON(o$,a$);return ba.loadPackageDefinition(n)}function c$(n){let e=A$();return new $w(e,n)}function l$(){return new Kw}function OU(){return process.env.USE_MOCK_PERSISTENCE==="YES"?window:null}function u$(){return null}function Gh(n){return new mw(n,!1)}var h$="ExponentialBackoff",d$=1e3,g$=1.5,f$=60*1e3,Dh=class{constructor(e,t,r=d$,i=g$,s=f$){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&O(h$,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var VM="PersistentStream",p$=60*1e3,E$=10*1e3,Pp=class{constructor(e,t,r,i,s,o,a,A){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new Dh(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.state===4){this.performBackoff();return}this.auth()}stop(){return B(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,p$,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return B(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,t){return B(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(ct(t.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(t)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===t&&this.startStream(r,i)},r=>{e(()=>{let i=new M(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,E$,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>B(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return O(VM,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(O(VM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Zw=class extends Pp{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onMessage(e){this.backoff.reset();let t=R8(this.serializer,e),r=k8(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=yw(this.serializer),t.addTarget=G8(this.serializer,e);let r=P8(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=yw(this.serializer),t.removeTarget=e,this.sendRequest(t)}},e0=class extends Pp{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();let t=M8(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.onMutationResult(r,t)}else return ee(!e.writeResults||e.writeResults.length===0),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()}writeHandshake(){let e={};e.database=yw(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Qh(this.serializer,r))};this.sendRequest(t)}};var t0=class{},n0=class extends t0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new M(N.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,Bw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(N.UNKNOWN,s.toString())})}invokeStreamingRPC(e,t,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,Bw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(N.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function C$(n,e,t,r){return new n0(n,e,t,r)}function m$(n,e){return B(this,null,function*(){let t=W(n),r={writes:e.map(i=>Qh(t.serializer,i))};yield t.invokeRPC("Commit",t.serializer.databaseId,Se.emptyPath(),r)})}function I$(n,e){return B(this,null,function*(){let t=W(n),r={documents:e.map(a=>yh(t.serializer,a))},i=yield t.invokeStreamingRPC("BatchGetDocuments",t.serializer.databaseId,Se.emptyPath(),r,e.length),s=new Map;i.forEach(a=>{let A=D8(t.serializer,a);s.set(A.key.toString(),A)});let o=[];return e.forEach(a=>{let A=s.get(a.toString());ee(!!A),o.push(A)}),o})}function B$(n,e,t){let r=W(n);return r.verifyInitialized(),new e0(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}function y$(n,e,t){let r=W(n);return r.verifyInitialized(),new Zw(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}var Q$="OnlineStateTracker",GM=1,qM=10*1e3,r0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",qM,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${qM/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=GM&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${GM} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(ct(t),this.shouldWarnClientIsOffline=!1):O(Q$,t)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var La="RemoteStore",w$=10,i0=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>B(this,null,function*(){Lo(this)&&(O(La,"Restarting streams for network reachability change."),yield G$(this))}))}),this.onlineStateTracker=new r0(r,i)}};function S$(n,e,t,r,i){return new i0(n,e,t,r,i)}function b$(n){let e=W(n);return e.offlineCauses.delete(0),qh(e)}function qh(n){return B(this,null,function*(){if(Lo(n))for(let e of n.onNetworkStatusChange)yield e(!0)})}function v$(n){return B(this,null,function*(){let e=W(n);e.offlineCauses.add(0),yield tl(e),e.onlineStateTracker.set("Offline")})}function tl(n){return B(this,null,function*(){for(let e of n.onNetworkStatusChange)yield e(!1)})}function D$(n){return B(this,null,function*(){let e=W(n);O(La,"RemoteStore shutting down."),e.offlineCauses.add(5),yield tl(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function fE(n,e){let t=W(n);t.listenTargets.has(e.targetId)||(t.listenTargets.set(e.targetId,e),sS(t)?iS(t):il(t).isOpen()&&rS(t,e))}function nl(n,e){let t=W(n),r=il(t);t.listenTargets.delete(e),r.isOpen()&&PU(t,e),t.listenTargets.size===0&&(r.isOpen()?r.markIdle():Lo(t)&&t.onlineStateTracker.set("Unknown"))}function rS(n,e){if(n.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(n).watch(e)}function PU(n,e){n.watchChangeAggregator.recordPendingTargetRequest(e),il(n).unwatch(e)}function iS(n){n.watchChangeAggregator=new Cw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>n.listenTargets.get(e)||null,getDatabaseId:()=>n.datastore.serializer.databaseId}),il(n).start(),n.onlineStateTracker.handleWatchStreamStart()}function sS(n){return Lo(n)&&!il(n).isStarted()&&n.listenTargets.size>0}function Lo(n){return W(n).offlineCauses.size===0}function VU(n){n.watchChangeAggregator=void 0}function R$(n){return B(this,null,function*(){n.onlineStateTracker.set("Online")})}function T$(n){return B(this,null,function*(){n.listenTargets.forEach((e,t)=>{rS(n,e)})})}function k$(n,e){return B(this,null,function*(){VU(n),sS(n)?(n.onlineStateTracker.handleWatchStreamFailure(e),iS(n)):n.onlineStateTracker.set("Unknown")})}function N$(n,e,t){return B(this,null,function*(){if(n.onlineStateTracker.set("Online"),e instanceof wp&&e.state===2&&e.cause){try{yield F$(n,e)}catch(r){O(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vp(n,r)}return}if(e instanceof Nc?n.watchChangeAggregator.handleDocumentChange(e):e instanceof Qp?n.watchChangeAggregator.handleExistenceFilter(e):n.watchChangeAggregator.handleTargetChange(e),!t.isEqual(re.min()))try{let r=yield TU(n.localStore);t.compareTo(r)>=0&&(yield _$(n,t))}catch(r){O(La,"Failed to raise snapshot:",r),yield Vp(n,r)}})}function Vp(n,e,t){return B(this,null,function*(){if(Mo(e))n.offlineCauses.add(1),yield tl(n),n.onlineStateTracker.set("Offline"),t||(t=()=>TU(n.localStore)),n.asyncQueue.enqueueRetryable(()=>B(this,null,function*(){O(La,"Retrying IndexedDB access"),yield t(),n.offlineCauses.delete(1),yield qh(n)}));else throw e})}function GU(n,e){return e().catch(t=>Vp(n,t,e))}function _$(n,e){let t=n.watchChangeAggregator.createRemoteEvent(e);return t.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=n.listenTargets.get(i);s&&n.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),t.targetMismatches.forEach((r,i)=>{let s=n.listenTargets.get(r);if(!s)return;n.listenTargets.set(r,s.withResumeToken(Wt.EMPTY_BYTE_STRING,s.snapshotVersion)),PU(n,r);let o=new Vc(s.target,r,i,s.sequenceNumber);rS(n,o)}),n.remoteSyncer.applyRemoteEvent(t)}function F$(n,e){return B(this,null,function*(){let t=e.cause;for(let r of e.targetIds)n.listenTargets.has(r)&&(yield n.remoteSyncer.rejectListen(r,t),n.listenTargets.delete(r),n.watchChangeAggregator.removeTarget(r))})}function rl(n){return B(this,null,function*(){let e=W(n),t=Uo(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:yo;for(;M$(e);)try{let i=yield _X(e.localStore,r);if(i===null){e.writePipeline.length===0&&t.markIdle();break}else r=i.batchId,L$(e,i)}catch(i){yield Vp(e,i)}qU(e)&&YU(e)})}function M$(n){return Lo(n)&&n.writePipeline.length<w$}function L$(n,e){n.writePipeline.push(e);let t=Uo(n);t.isOpen()&&t.handshakeComplete&&t.writeMutations(e.mutations)}function qU(n){return Lo(n)&&!Uo(n).isStarted()&&n.writePipeline.length>0}function YU(n){Uo(n).start()}function U$(n){return B(this,null,function*(){Uo(n).writeHandshake()})}function x$(n){return B(this,null,function*(){let e=Uo(n);for(let t of n.writePipeline)e.writeMutations(t.mutations)})}function O$(n,e,t){return B(this,null,function*(){let r=n.writePipeline.shift(),i=gw.from(r,e,t);yield GU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rl(n)})}function P$(n,e){return B(this,null,function*(){e&&Uo(n).handshakeComplete&&(yield V$(n,e)),qU(n)&&YU(n)})}function V$(n,e){return B(this,null,function*(){if(u8(e.code)){let t=n.writePipeline.shift();Uo(n).inhibitBackoff(),yield GU(n,()=>n.remoteSyncer.rejectFailedWrite(t.batchId,e)),yield rl(n)}})}function G$(n){return B(this,null,function*(){let e=W(n);e.offlineCauses.add(4),yield tl(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield qh(e)})}function YM(n,e){return B(this,null,function*(){let t=W(n);t.asyncQueue.verifyOperationInProgress(),O(La,"RemoteStore received new credentials");let r=Lo(t);t.offlineCauses.add(3),yield tl(t),r&&t.onlineStateTracker.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.offlineCauses.delete(3),yield qh(t)})}function s0(n,e){return B(this,null,function*(){let t=W(n);e?(t.offlineCauses.delete(2),yield qh(t)):e||(t.offlineCauses.add(2),yield tl(t),t.onlineStateTracker.set("Unknown"))})}function il(n){return n.watchStream||(n.watchStream=y$(n.datastore,n.asyncQueue,{onConnected:R$.bind(null,n),onOpen:T$.bind(null,n),onClose:k$.bind(null,n),onWatchChange:N$.bind(null,n)}),n.onNetworkStatusChange.push(e=>B(this,null,function*(){e?(n.watchStream.inhibitBackoff(),sS(n)?iS(n):n.onlineStateTracker.set("Unknown")):(yield n.watchStream.stop(),VU(n))}))),n.watchStream}function Uo(n){return n.writeStream||(n.writeStream=B$(n.datastore,n.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:U$.bind(null,n),onClose:P$.bind(null,n),onHandshakeComplete:x$.bind(null,n),onMutationResult:O$.bind(null,n)}),n.onNetworkStatusChange.push(e=>B(this,null,function*(){e?(n.writeStream.inhibitBackoff(),yield rl(n)):(yield n.writeStream.stop(),n.writePipeline.length>0&&(O(La,`Stopping write stream with ${n.writePipeline.length} pending writes`),n.writePipeline=[]))}))),n.writeStream}var q$="AsyncQueue",o0=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sl(n,e){if(ct(q$,`${e}: ${n}`),Mo(n))return new M(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Gp=class n{constructor(e){e?this.comparator=(t,r)=>e(t,r)||J.comparator(t.key,r.key):this.comparator=(t,r)=>J.comparator(t.key,r.key),this.keyedMap=th(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var qp=class{constructor(){this.changeMap=new et(J.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(t,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(t):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):j()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}},Hc=class n{constructor(e,t,r,i,s,o,a,A,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Gp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!Oh(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var a0=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function Y$(){return new A0}var A0=class{constructor(){this.queries=new Li(e=>VL(e),Oh),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}};function oS(n,e){return B(this,null,function*(){let t=W(n),r=3,i=e.query,s=t.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new a0,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield t.onListen(i,!0);break;case 1:s.viewSnap=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=sl(o,`Initialization of query '${Sc(e.query)}' failed`);e.onError(a);return}t.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(t.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&AS(t)})}function aS(n,e){return B(this,null,function*(){let t=W(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function H$(n,e){let t=W(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&AS(t)}function J$(n,e,t){let r=W(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function W$(n,e){let t=W(n);t.onlineState=e;let r=!1;t.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&AS(t)}function z$(n,e){W(n).snapshotsInSyncListeners.add(e),e.next()}function j$(n,e){W(n).snapshotsInSyncListeners.delete(e)}function AS(n){n.snapshotsInSyncListeners.forEach(e=>{e.next()})}var HU=function(n){return n.Default="default",n.Cache="cache",n}(HU||{}),Rh=class{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=t!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||t?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=Hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==HU.Cache}};var c0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=fe(),i=fe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new n(e,t.fromCache,r,i)}};var Yp=class{constructor(e){this.serializer=e}toDocumentKey(e){return _i(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?uU(this.serializer,e.document,!1):_t.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return Qt(e)}},l0=class{constructor(e,t,r){this.bundleMetadata=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JU(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;let r=Se.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let t=new Map,r=new Yp(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.toDocumentKey(i.metadata.name);for(let o of i.metadata.queries){let a=(t.get(o)||fe()).add(s);t.set(o,a)}}return t}complete(){return B(this,null,function*(){let e=yield VX(this.localStore,new Yp(this.serializer),this.documents,this.bundleMetadata.id),t=this.getQueryDocumentMapping(this.documents);for(let r of this.queries)yield HX(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}})}};function JU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}function K$(n){return{taskState:"Success",documentsLoaded:n.totalDocuments,bytesLoaded:n.totalBytes,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var Hp=class{constructor(e){this.key=e}},Jp=class{constructor(e){this.key=e}},Wp=class{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=fe(),this.mutatedKeys=fe(),this.docComparator=qL(e),this.documentSet=new Gp(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new qp,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,u)=>{let h=i.get(l),d=Ph(this.query,u)?u:null,E=h?this.mutatedKeys.has(h.key):!1,I=d?d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations:!1,m=!1;h&&d?h.data.isEqual(d.data)?E!==I&&(r.track({type:3,doc:d}),m=!0):this.shouldWaitForSyncedDocument(h,d)||(r.track({type:2,doc:d}),m=!0,(A&&this.docComparator(d,A)>0||c&&this.docComparator(d,c)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),m=!0):h&&!d&&(r.track({type:1,doc:h}),m=!0,(A||c)&&(a=!0)),m&&(d?(o=o.add(d),I?s=s.add(l):s=s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((u,h)=>X$(u.type,h.type)||this.docComparator(u.doc,h.doc)),this.applyTargetChange(r),i=i??!1;let a=t&&!i?this.updateLimboDocuments():[],c=this.limboDocuments.size===0&&this.current&&!i?1:0,l=c!==this.syncState;return this.syncState=c,o.length===0&&!l?{limboChanges:a}:{snapshot:new Hc(this.query,e.documentSet,s,o,e.mutatedKeys,c===0,l,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new qp,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=fe(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let t=[];return e.forEach(r=>{this.limboDocuments.has(r)||t.push(new Jp(r))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new Hp(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=fe();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return Hc.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function X$(n,e){let t=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return j()}};return t(n)-t(e)}var xo="SyncEngine",u0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},h0=class{constructor(e){this.key=e,this.receivedDocument=!1}},d0=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new Li(a=>VL(a),Oh),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new et(J.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new Sh,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Gc.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function $$(n,e,t,r,i,s,o){let a=new d0(n,e,t,r,i,s);return o&&(a._isPrimaryClient=!0),a}function Z$(n,e,t=!0){return B(this,null,function*(){let r=pE(n),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield WU(r,e,t,!0),i})}function eZ(n,e){return B(this,null,function*(){let t=pE(n);yield WU(t,e,!0,!1)})}function WU(n,e,t,r){return B(this,null,function*(){let i=yield qc(n.localStore,bn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield cS(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&fE(n.remoteStore,i),a})}function cS(n,e,t,r,i){return B(this,null,function*(){n.applyDocChanges=(u,h,d)=>uZ(n,u,h,d);let s=yield gE(n.localStore,e,!0),o=new Wp(e,s.remoteKeys),a=o.computeDocChanges(s.documents),A=Bh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,A);hS(n,t,c.limboChanges);let l=new u0(e,t,o);return n.queryViewsByQuery.set(e,l),n.queriesByTarget.has(t)?n.queriesByTarget.get(t).push(e):n.queriesByTarget.set(t,[e]),c.snapshot})}function tZ(n,e,t){return B(this,null,function*(){let r=W(n),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!Oh(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&nl(r.remoteStore,i.targetId),Jc(r,i.targetId)}).catch(Fo))):(Jc(r,i.targetId),yield Yc(r.localStore,i.targetId,!0))})}function nZ(n,e){return B(this,null,function*(){let t=W(n),r=t.queryViewsByQuery.get(e),i=t.queriesByTarget.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nl(t.remoteStore,r.targetId))})}function rZ(n,e,t){return B(this,null,function*(){let r=gS(n);try{let i=yield SX(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),cZ(r,i.batchId,t),yield Cs(r,i.changes),yield rl(r.remoteStore)}catch(i){let s=sl(i,"Failed to persist write");t.reject(s)}})}function zU(n,e){return B(this,null,function*(){let t=W(n);try{let r=yield TX(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.activeLimboResolutionsByTarget.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?ee(o.receivedDocument):i.removedDocuments.size>0&&(ee(o.receivedDocument),o.receivedDocument=!1))}),yield Cs(t,r,e)}catch(r){yield Fo(r)}})}function HM(n,e,t){let r=W(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),W$(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iZ(n,e,t){return B(this,null,function*(){let r=W(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new et(J.comparator);o=o.insert(s,_t.newNoDocument(s,re.min()));let a=fe().add(s),A=new Ih(re.min(),new Map,new et(ge),o,a);yield zU(r,A),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),dS(r)}else yield Yc(r.localStore,e,!1).then(()=>Jc(r,e,t)).catch(Fo)})}function sZ(n,e){return B(this,null,function*(){let t=W(n),r=e.batch.batchId;try{let i=yield bX(t.localStore,e);uS(t,r,null),lS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cs(t,i)}catch(i){yield Fo(i)}})}function oZ(n,e,t){return B(this,null,function*(){let r=W(n);try{let i=yield DX(r.localStore,e);uS(r,e,t),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cs(r,i)}catch(i){yield Fo(i)}})}function aZ(n,e){return B(this,null,function*(){let t=W(n);Lo(t.remoteStore)||O(xo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield RX(t.localStore);if(r===yo){e.resolve();return}let i=t.pendingWritesCallbacks.get(r)||[];i.push(e),t.pendingWritesCallbacks.set(r,i)}catch(r){let i=sl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function lS(n,e){(n.pendingWritesCallbacks.get(e)||[]).forEach(t=>{t.resolve()}),n.pendingWritesCallbacks.delete(e)}function AZ(n,e){n.pendingWritesCallbacks.forEach(t=>{t.forEach(r=>{r.reject(new M(N.CANCELLED,e))})}),n.pendingWritesCallbacks.clear()}function cZ(n,e,t){let r=n.mutationUserCallbacks[n.currentUser.toKey()];r||(r=new et(ge)),r=r.insert(e,t),n.mutationUserCallbacks[n.currentUser.toKey()]=r}function uS(n,e,t){let r=W(n),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function Jc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.queriesByTarget.get(e))n.queryViewsByQuery.delete(r),t&&n.syncEngineListener.onWatchError(r,t);n.queriesByTarget.delete(e),n.isPrimaryClient&&n.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{n.limboDocumentRefs.containsKey(i)||jU(n,i)})}function jU(n,e){n.enqueuedLimboResolutions.delete(e.path.canonicalString());let t=n.activeLimboTargetsByKey.get(e);t!==null&&(nl(n.remoteStore,t),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(e),n.activeLimboResolutionsByTarget.delete(t),dS(n))}function hS(n,e,t){for(let r of t)r instanceof Hp?(n.limboDocumentRefs.addReference(r.key,e),lZ(n,r)):r instanceof Jp?(O(xo,"Document no longer in limbo: "+r.key),n.limboDocumentRefs.removeReference(r.key,e),n.limboDocumentRefs.containsKey(r.key)||jU(n,r.key)):j()}function lZ(n,e){let t=e.key,r=t.path.canonicalString();!n.activeLimboTargetsByKey.get(t)&&!n.enqueuedLimboResolutions.has(r)&&(O(xo,"New document in limbo: "+t),n.enqueuedLimboResolutions.add(r),dS(n))}function dS(n){for(;n.enqueuedLimboResolutions.size>0&&n.activeLimboTargetsByKey.size<n.maxConcurrentLimboResolutions;){let e=n.enqueuedLimboResolutions.values().next().value;n.enqueuedLimboResolutions.delete(e);let t=new J(Se.fromString(e)),r=n.limboTargetIdGenerator.next();n.activeLimboResolutionsByTarget.set(r,new h0(t)),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.insert(t,r),fE(n.remoteStore,new Vc(bn(el(t.path)),r,"TargetPurposeLimboResolution",nr.INVALID))}}function Cs(n,e,t){return B(this,null,function*(){let r=W(n),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,A)=>{o.push(r.applyDocChanges(A,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=c0.fromSnapshot(A.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield NX(r.localStore,s))})}function uZ(n,e,t,r){return B(this,null,function*(){let i=e.view.computeDocChanges(t);i.needsRefill&&(i=yield gE(n.localStore,e.query,!1).then(({documents:A})=>e.view.computeDocChanges(A,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,n.isPrimaryClient,s,o);return hS(n,e.targetId,a.limboChanges),a.snapshot})}function hZ(n,e){return B(this,null,function*(){let t=W(n);if(!t.currentUser.isEqual(e)){O(xo,"User change. New user:",e.toKey());let i=yield RU(t.localStore,e);t.currentUser=e,AZ(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Cs(t,i.affectedDocuments)}})}function dZ(n,e){let t=W(n),r=t.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return fe().add(r.key);{let i=fe(),s=t.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=t.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function gZ(n,e){return B(this,null,function*(){let t=W(n),r=yield gE(t.localStore,e.query,!0),i=e.view.synchronizeWithPersistedState(r);return t.isPrimaryClient&&hS(t,e.targetId,i.limboChanges),i})}function fZ(n,e){return B(this,null,function*(){let t=W(n);return _U(t.localStore,e).then(r=>Cs(t,r))})}function pZ(n,e,t,r){return B(this,null,function*(){let i=W(n),s=yield UX(i.localStore,e);if(s===null){O(xo,"Cannot apply mutation batch with id: "+e);return}t==="pending"?yield rl(i.remoteStore):t==="acknowledged"||t==="rejected"?(uS(i,e,r||null),lS(i,e),xX(i.localStore,e)):j(),yield Cs(i,s)})}function EZ(n,e){return B(this,null,function*(){let t=W(n);if(pE(t),gS(t),e===!0&&t._isPrimaryClient!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield JM(t,r.toArray());t._isPrimaryClient=!0,yield s0(t.remoteStore,!0);for(let s of i)fE(t.remoteStore,s)}else if(e===!1&&t._isPrimaryClient!==!1){let r=[],i=Promise.resolve();t.queriesByTarget.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Jc(t,o),Yc(t.localStore,o,!0))),nl(t.remoteStore,o)}),yield i,yield JM(t,r),CZ(t),t._isPrimaryClient=!1,yield s0(t.remoteStore,!1)}})}function CZ(n){let e=W(n);e.activeLimboResolutionsByTarget.forEach((t,r)=>{nl(e.remoteStore,r)}),e.limboDocumentRefs.removeAllReferences(),e.activeLimboResolutionsByTarget=new Map,e.activeLimboTargetsByKey=new et(J.comparator)}function JM(n,e,t){return B(this,null,function*(){let r=W(n),i=[],s=[];for(let o of e){let a,A=r.queriesByTarget.get(o);if(A&&A.length!==0){a=yield qc(r.localStore,bn(A[0]));for(let c of A){let l=r.queryViewsByQuery.get(c),u=yield gZ(r,l);u.snapshot&&s.push(u.snapshot)}}else{let c=yield NU(r.localStore,o);a=yield qc(r.localStore,c),yield cS(r,KU(c),o,!1,a.resumeToken)}i.push(a)}return r.syncEngineListener.onWatchChange(s),i})}function KU(n){return PL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mZ(n){let e=W(n);return OX(e.localStore)}function IZ(n,e,t,r){return B(this,null,function*(){let i=W(n);if(i._isPrimaryClient){O(xo,"Ignoring unexpected query state notification.");return}let s=i.queriesByTarget.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield _U(i.localStore,GL(s[0])),a=Ih.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Wt.EMPTY_BYTE_STRING);yield Cs(i,o,a);break}case"rejected":{yield Yc(i.localStore,e,!0),Jc(i,e,r);break}default:j()}})}function BZ(n,e,t){return B(this,null,function*(){let r=pE(n);if(r._isPrimaryClient){for(let i of e){if(r.queriesByTarget.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){O(xo,"Adding an already active target "+i);continue}let o=yield NU(r.localStore,i),a=yield qc(r.localStore,o);yield cS(r,KU(o),a.targetId,!1,a.resumeToken),fE(r.remoteStore,a)}for(let i of t)r.queriesByTarget.has(i)&&(yield Yc(r.localStore,i,!1).then(()=>{nl(r.remoteStore,i),Jc(r,i)}).catch(Fo))}})}function pE(n){let e=W(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iZ.bind(null,e),e.syncEngineListener.onWatchChange=H$.bind(null,e.eventManager),e.syncEngineListener.onWatchError=J$.bind(null,e.eventManager),e}function gS(n){let e=W(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oZ.bind(null,e),e}function yZ(n,e,t){let r=W(n);QZ(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}function QZ(n,e,t){return B(this,null,function*(){try{let r=yield e.getMetadata();if(yield GX(n.localStore,r))return yield e.close(),t._completeWith(K$(r)),Promise.resolve(new Set);t._updateProgress(JU(r));let s=new l0(r,n.localStore,e.serializer),o=yield e.nextElement();for(;o;){let A=yield s.addSizedElement(o);A&&t._updateProgress(A),o=yield e.nextElement()}let a=yield s.complete();return yield Cs(n,a.changedDocs,void 0),yield qX(n.localStore,r),t._completeWith(a.progress),Promise.resolve(a.changedCollectionGroups)}catch(r){return br(xo,`Loading bundle failed with ${r}`),t._failWith(r),Promise.resolve(new Set)}})}var Th=class{constructor(){this.synchronizeTabs=!1}initialize(e){return B(this,null,function*(){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return DU(this.persistence,new Lp,e.initialUser,this.serializer)}createPersistence(e){return new Fp(Mp.factory,this.serializer)}createSharedClientState(e){return new Op}terminate(){return B(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var zp=class n extends Th{constructor(e,t,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return B(this,null,function*(){yield Fm(n.prototype,this,"initialize").call(this,e),yield this.onlineComponentProvider.initialize(this,e),yield gS(this.onlineComponentProvider.syncEngine),yield rl(this.onlineComponentProvider.remoteStore),yield this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return DU(this.persistence,new Lp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new _w(r,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let r=new zQ(t,this.persistence);return new WQ(e.asyncQueue,r)}createPersistence(e){let t=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new Ww(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OU(),u$(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Op}},g0=class n extends zp{constructor(e,t){super(e,t,!1),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return B(this,null,function*(){yield Fm(n.prototype,this,"initialize").call(this,e);let t=this.onlineComponentProvider.syncEngine;this.sharedClientState instanceof Ah&&(this.sharedClientState.syncEngine={applyBatchState:pZ.bind(null,t),applyTargetState:IZ.bind(null,t),applyActiveTargetsChange:BZ.bind(null,t),getActiveClients:mZ.bind(null,t),synchronizeWithChangedDocuments:fZ.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.setPrimaryStateListener(r=>B(this,null,function*(){yield EZ(this.onlineComponentProvider.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let t=OU();if(!Ah.isAvailable(t))throw new M(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ah(t,e.asyncQueue,r,e.clientId,e.initialUser)}},kh=class{initialize(e,t){return B(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hZ.bind(null,this.syncEngine),yield s0(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return Y$()}createDatastore(e){let t=Gh(e.databaseInfo.databaseId),r=c$(e.databaseInfo);return C$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return S$(this.localStore,this.datastore,e.asyncQueue,t=>HM(this.syncEngine,t,0),l$())}createSyncEngine(e,t){return $$(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return B(this,null,function*(){var e;yield D$(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var wZ=10240;function SZ(n,e=wZ){let t=0;return{read(){return B(this,null,function*(){if(t<n.byteLength){let s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})},cancel(){return B(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}function fS(n,e,t){if(!t)throw new M(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pS(n,e,t,r){if(e===!0&&r===!0)throw new M(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WM(n){if(!J.isDocumentKey(n))throw new M(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zM(n){if(J.isDocumentKey(n))throw new M(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bZ(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=vZ(n);return e?`a custom ${e} object`:"an object"}}else return typeof n=="function"?"a function":j()}function vZ(n){return n.constructor?n.constructor.name:null}function be(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Yh(n);throw new M(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function XU(n,e){if(e<=0)throw new M(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function DZ(n,e){if(!(n instanceof Uint8Array))throw new M(N.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${Yh(n)}`);return SZ(n,e)}var Wc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.observer.error?this.scheduleEvent(this.observer.error,e):ct("Uncaught Error in snapshot listener:",e.toString())}mute(){this.muted=!0}scheduleEvent(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var f0=class{constructor(e,t){this.payload=e,this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}};var p0=class{constructor(e,t){this.reader=e,this.serializer=t,this.metadata=new yt,this.buffer=new Uint8Array,this.textDecoder=h8(),this.nextElementImpl().then(r=>{r&&r.isBundleMetadata()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.reader.cancel()}getMetadata(){return B(this,null,function*(){return this.metadata.promise})}nextElement(){return B(this,null,function*(){return yield this.getMetadata(),this.nextElementImpl()})}nextElementImpl(){return B(this,null,function*(){let e=yield this.readLength();if(e===null)return null;let t=this.textDecoder.decode(e),r=Number(t);isNaN(r)&&this.raiseError(`length string (${t}) is not valid number`);let i=yield this.readJsonString(r);return new f0(JSON.parse(i),e.length+r)})}indexOfOpenBracket(){return this.buffer.findIndex(e=>e===123)}readLength(){return B(this,null,function*(){for(;this.indexOfOpenBracket()<0&&!(yield this.pullMoreDataToBuffer()););if(this.buffer.length===0)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}readJsonString(e){return B(this,null,function*(){for(;this.buffer.length<e;)(yield this.pullMoreDataToBuffer())&&this.raiseError("Reached the end of bundle when more is expected.");let t=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}raiseError(e){throw this.reader.cancel(),new Error(`Invalid bundle format: ${e}`)}pullMoreDataToBuffer(){return B(this,null,function*(){let e=yield this.reader.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};function RZ(n,e){return new p0(n,e)}var E0=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new M(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield I$(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ko(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=J.fromPath(r);this.mutations.push(new Eh(i,this.precondition(i)))}),yield m$(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else if(e.isNoDocument())t=re.min();else throw j();let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new M(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(re.min())?ft.exists(!1):ft.updateTime(t):ft.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(re.min()))throw new M(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ft.updateTime(t)}else return ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var C0=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.attemptsRemaining=r.maxAttempts,this.backoff=new Dh(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1,this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(()=>B(this,null,function*(){let e=new E0(this.datastore),t=this.tryRunUpdateFunction(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.handleTransactionError(i)}))}).catch(r=>{this.handleTransactionError(r)})}))}tryRunUpdateFunction(e){try{let t=this.updateFunction(e);return Uh(t)||!t.catch||!t.then?(this.deferred.reject(Error("Transaction callback must return a Promise")),null):t}catch(t){return this.deferred.reject(t),null}}handleTransactionError(e){this.attemptsRemaining>0&&this.isRetryableTransactionError(e)?(this.attemptsRemaining-=1,this.asyncQueue.enqueueAndForget(()=>(this.runWithBackOff(),Promise.resolve()))):this.deferred.reject(e)}isRetryableTransactionError(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!iU(t)}return!1}};var No="FirestoreClient",TZ=100,kZ=11,NZ=20,_Z=22,m0=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>B(this,null,function*(){O(No,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(No,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:TZ}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=sl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function up(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),O(No,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>B(this,null,function*(){r.isEqual(i)||(yield RU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function I0(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield ES(n);O(No,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>YM(e.remoteStore,i)),n._onlineComponents=e})}function $U(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:typeof DOMException<"u"&&n instanceof DOMException?n.code===_Z||n.code===NZ||n.code===kZ:!0}function ES(n){return B(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){O(No,"Using user provided OfflineComponentProvider");try{yield up(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!$U(t))throw t;br("Error using user provided cache. Falling back to memory cache: "+t),yield up(n,new Th)}}else O(No,"Using default OfflineComponentProvider"),yield up(n,new Th);return n._offlineComponents})}function EE(n){return B(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(O(No,"Using user provided OnlineComponentProvider"),yield I0(n,n._uninitializedComponentsProvider._online)):(O(No,"Using default OnlineComponentProvider"),yield I0(n,new kh))),n._onlineComponents})}function ZU(n){return ES(n).then(e=>e.persistence)}function CS(n){return ES(n).then(e=>e.localStore)}function ex(n){return EE(n).then(e=>e.remoteStore)}function mS(n){return EE(n).then(e=>e.syncEngine)}function FZ(n){return EE(n).then(e=>e.datastore)}function zc(n){return B(this,null,function*(){let e=yield EE(n),t=e.eventManager;return t.onListen=Z$.bind(null,e.syncEngine),t.onUnlisten=tZ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eZ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nZ.bind(null,e.syncEngine),t})}function MZ(n){return n.asyncQueue.enqueue(()=>B(this,null,function*(){let e=yield ZU(n),t=yield ex(n);return e.setNetworkEnabled(!0),b$(t)}))}function LZ(n){return n.asyncQueue.enqueue(()=>B(this,null,function*(){let e=yield ZU(n),t=yield ex(n);return e.setNetworkEnabled(!1),v$(t)}))}function UZ(n){let e=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let t=yield mS(n);return aZ(t,e)})),e.promise}function xZ(n,e,t,r){let i=new Wc(r),s=new Rh(e,i,t);return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let o=yield zc(n);return oS(o,s)})),()=>{i.mute(),n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let o=yield zc(n);return aS(o,s)}))}}function OZ(n,e){let t=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let r=yield CS(n);return YZ(r,e,t)})),t.promise}function tx(n,e,t={}){let r=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let i=yield zc(n);return HZ(i,n.asyncQueue,e,t,r)})),r.promise}function PZ(n,e){let t=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let r=yield CS(n);return JZ(r,e,t)})),t.promise}function nx(n,e,t={}){let r=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let i=yield zc(n);return WZ(i,n.asyncQueue,e,t,r)})),r.promise}function VZ(n,e){let t=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let r=yield mS(n);return rZ(r,e,t)})),t.promise}function GZ(n,e){let t=new Wc(e);return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let r=yield zc(n);return z$(r,t)})),()=>{t.mute(),n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let r=yield zc(n);return j$(r,t)}))}}function qZ(n,e,t){let r=new yt;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let i=yield FZ(n);new C0(n.asyncQueue,i,t,e,r).run()})),r.promise}function YZ(n,e,t){return B(this,null,function*(){try{let r=yield FX(n,e);r.isFoundDocument()?t.resolve(r):r.isNoDocument()?t.resolve(null):t.reject(new M(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){let i=sl(r,`Failed to get document '${e} from cache`);t.reject(i)}})}function HZ(n,e,t,r,i){let s=new Wc({next:a=>{e.enqueueAndForget(()=>aS(n,o));let A=a.docs.has(t);!A&&a.fromCache?i.reject(new M(N.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&a.fromCache&&r&&r.source==="server"?i.reject(new M(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Rh(el(t.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return oS(n,o)}function JZ(n,e,t){return B(this,null,function*(){try{let r=yield gE(n,e,!0),i=new Wp(e,r.remoteKeys),s=i.computeDocChanges(r.documents),o=i.applyChanges(s,!1);t.resolve(o.snapshot)}catch(r){let i=sl(r,`Failed to execute query '${e} against cache`);t.reject(i)}})}function WZ(n,e,t,r,i){let s=new Wc({next:a=>{e.enqueueAndForget(()=>aS(n,o)),a.fromCache&&r.source==="server"?i.reject(new M(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Rh(t,s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return oS(n,o)}function zZ(n,e,t,r){let i=KZ(t,Gh(e));n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){yZ(yield mS(n),i,r)}))}function jZ(n,e){return n.asyncQueue.enqueue(()=>B(this,null,function*(){return YX(yield CS(n),e)}))}function KZ(n,e){let t;return typeof n=="string"?t=sU().encode(n):t=n,RZ(DZ(t),e)}function XZ(n,e){return n.timeoutSeconds===e.timeoutSeconds}function rx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $Z="ComponentProvider",jM=new Map;function ZZ(n){let e=jM.get(n);e&&(O($Z,"Removing Datastore"),jM.delete(n),e.terminate())}function e7(n,e,t,r){return new ew(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,rx(r.experimentalLongPollingOptions),r.useFetchStreams)}var ix="firestore.googleapis.com",KM=!0,XM=5,$M=30,t7=!0,jp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ix,this.ssl=KM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:KM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SU;else{if(e.cacheSizeBytes!==Vh&&e.cacheSizeBytes<_M)throw new M(N.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${_M}`);this.cacheSizeBytes=e.cacheSizeBytes}pS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=t7:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),n7(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&XZ(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function n7(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new M(N.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<XM)throw new M(N.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is ${XM})`);if(n.timeoutSeconds>$M)throw new M(N.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is ${$M})`)}}var Ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),e.credentials!==void 0&&(this._authCredentials=$j(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return ZZ(this),Promise.resolve()}};function CE(n,e,t,r={}){var i;n=be(n,Ua);let s=n._getSettings(),o=`${e}:${t}`;if(s.host!==ix&&s.host!==o&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,A;if(typeof r.mockUserToken=="string")a=r.mockUserToken,A=Ft.MOCK_USER;else{a=zd(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ft(c)}n._authCredentials=new xQ(new hp(a,A))}}var Zt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ze=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fi=class n extends Zt{constructor(e,t,r){super(e,t,el(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mE(n,e,...t){if(n=$e(n),fS("collection","path",e),n instanceof Ua){let r=Se.fromString(e,...t);return zM(r),new Fi(n,null,r)}else{if(!(n instanceof ze)&&!(n instanceof Fi))throw new M(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return zM(r),new Fi(n.firestore,null,r)}}function IS(n,e){if(n=be(n,Ua),fS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new M(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zt(n,null,FK(e))}function ol(n,e,...t){if(n=$e(n),arguments.length===1&&(e=dp.newId()),fS("doc","path",e),n instanceof Ua){let r=Se.fromString(e,...t);return WM(r),new ze(n,null,new J(r))}else{if(!(n instanceof ze)&&!(n instanceof Fi))throw new M(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return WM(r),new ze(n.firestore,n instanceof Fi?n.converter:null,new J(r))}}function IE(n,e){return n=$e(n),e=$e(e),(n instanceof ze||n instanceof Fi)&&(e instanceof ze||e instanceof Fi)?n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter:!1}function BE(n,e){return n=$e(n),e=$e(e),n instanceof Zt&&e instanceof Zt?n.firestore===e.firestore&&Oh(n._query,e._query)&&n.converter===e.converter:!1}var r7="AsyncQueue",B0=class{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new Dh(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new yt;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return B(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(Mo(e))O(r7,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=s7(r);throw ct("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=o0.createAndSchedule(this,e,t,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&j()}verifyOperationInProgress(){}drain(){return B(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.delayedOperations)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}};function i7(){return new B0}function s7(n){let e=n.message||"";return n.stack&&(n.stack.includes(n.message)?e=n.stack:e=n.message+`
`+n.stack),e}var y0=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var sx=Vh,ot=class extends Ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=i7(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ax(this),this._firestoreClient.terminate()}};function ox(n,e){let t=typeof n=="object"?n:wA(),r=typeof n=="string"?n:e||tw,i=hu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Wd("firestore");s&&CE(i,...s)}return i}function Pt(n){return n._firestoreClient||ax(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ax(n){var e,t,r;let i=n._freezeSettings(),s=e7(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new m0(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function BS(n,e){n=be(n,ot),cx(n);let t=Pt(n);if(t._uninitializedComponentsProvider)throw new M(N.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=n._freezeSettings(),i=new kh,s=new zp(i,r.cacheSizeBytes,e?.forceOwnership);return Ax(t,i,s)}function yS(n){n=be(n,ot),cx(n);let e=Pt(n);if(e._uninitializedComponentsProvider)throw new M(N.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings(),r=new kh,i=new g0(r,t.cacheSizeBytes);return Ax(e,r,i)}function Ax(n,e,t){let r=new yt;return n.asyncQueue.enqueue(()=>B(this,null,function*(){try{yield up(n,t),yield I0(n,e),r.resolve()}catch(i){let s=i;if(!$U(s))throw s;br("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function QS(n){if(n._initialized&&!n._terminated)throw new M(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new yt;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{yield QX(tS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function wS(n){n=be(n,ot);let e=Pt(n);return UZ(e)}function SS(n){n=be(n,ot);let e=Pt(n);return MZ(e)}function bS(n){n=be(n,ot);let e=Pt(n);return LZ(e)}function vS(n,e){n=be(n,ot);let t=Pt(n),r=new y0;return zZ(t,n._databaseId,e,r),r}function DS(n,e){n=be(n,ot);let t=Pt(n);return jZ(t,e).then(r=>r?new Zt(n,null,r.query):null)}function cx(n){if(n._initialized||n._terminated)throw new M(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function o7(n,e=!0){Kj($d),ia(new ts("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new ot(new OQ(t.getProvider("auth-internal")),new qQ(t.getProvider("app-check-internal")),W5(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),$t(HF,JF,n),$t(HF,JF,"esm2017")}var Ui=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Wt.fromBase64String(e))}catch(t){throw new M(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ei=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new M(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fs=class{constructor(e){this._methodName=e}};var xa=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var a7=/^__.*__$/,Q0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Kp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function lx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}var Xp=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $p(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(lx(this.dataSource)&&a7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},w0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gh(e)}createContext(e,t,r,i=!1){return new Xp({dataSource:e,methodName:t,targetDoc:r,path:wt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qa(n){let e=n._freezeSettings(),t=Gh(n._databaseId);return new w0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yE(n,e,t,r,i,s={}){let o=n.createContext(s.merge||s.mergeFields?2:0,e,t,i);kS("Data must be an object, but it was:",o,r);let a=dx(r,o),A,c;if(s.merge)A=new rr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let u of s.mergeFields){let h=R0(e,u,t);if(!o.contains(h))throw new M(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fx(l,h)||l.push(h)}A=new rr(l),c=o.fieldTransforms.filter(u=>A.covers(u.field))}else A=null,c=o.fieldTransforms;return new Q0(new hn(a),A,c)}var Nh=class n extends fs{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof n}};function ux(n,e,t){return new Xp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var S0=class n extends fs{_toFieldTransform(e){return new _a(e.path,new Do)}isEqual(e){return e instanceof n}},b0=class n extends fs{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=ux(this,e,!0),r=this._elements.map(s=>Ya(s,t)),i=new ds(r);return new _a(e.path,i)}isEqual(e){return e instanceof n&&Wm(this._elements,e._elements)}},v0=class n extends fs{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=ux(this,e,!0),r=this._elements.map(s=>Ya(s,t)),i=new gs(r);return new _a(e.path,i)}isEqual(e){return e instanceof n&&Wm(this._elements,e._elements)}},D0=class n extends fs{constructor(e,t){super(e),this._operand=t}_toFieldTransform(e){let t=new Ro(e.serializer,jL(e.serializer,this._operand));return new _a(e.path,t)}isEqual(e){return e instanceof n&&this._operand===e._operand}};function RS(n,e,t,r){let i=n.createContext(1,e,t);kS("Data must be an object, but it was:",i,r);let s=[],o=hn.empty();Ga(r,(A,c)=>{let l=NS(e,A,t);c=$e(c);let u=i.childContextForFieldPath(l);if(c instanceof Nh)s.push(l);else{let h=Ya(c,u);h!=null&&(s.push(l),o.set(l,h))}});let a=new rr(s);return new Kp(o,a,i.fieldTransforms)}function TS(n,e,t,r,i,s){let o=n.createContext(1,e,t),a=[R0(e,r,t)],A=[i];if(s.length%2!==0)throw new M(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(R0(e,s[h])),A.push(s[h+1]);let c=[],l=hn.empty();for(let h=a.length-1;h>=0;--h)if(!fx(c,a[h])){let d=a[h],E=A[h];E=$e(E);let I=o.childContextForFieldPath(d);if(E instanceof Nh)c.push(d);else{let m=Ya(E,I);m!=null&&(c.push(d),l.set(d,m))}}let u=new rr(c);return new Kp(l,u,o.fieldTransforms)}function hx(n,e,t,r=!1){let i=n.createContext(r?4:3,e);return Ya(t,i)}function Ya(n,e){if(n=$e(n),gx(n))return kS("Unsupported field value:",e,n),dx(n,e);if(n instanceof fs)return c7(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return A7(n,e)}else return l7(n,e)}function dx(n,e){let t={};return yL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(n,(r,i)=>{let s=Ya(i,e.childContextForField(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function A7(n,e){let t=[],r=0;for(let i of n){let s=Ya(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),t.push(s),r++}return{arrayValue:{values:t}}}function c7(n,e){if(!lx(e.dataSource))throw e.createError(`${n._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${n._methodName}() is not currently supported inside arrays`);let t=n._toFieldTransform(e);t&&e.fieldTransforms.push(t)}function l7(n,e){if(n=$e(n),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jL(e.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let t=lt.fromDate(n);return{timestampValue:Pc(e.serializer,t)}}else if(n instanceof lt){let t=new lt(n.seconds,Math.floor(n.nanoseconds/1e3)*1e3);return{timestampValue:Pc(e.serializer,t)}}else{if(n instanceof xa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ui)return{bytesValue:oU(e.serializer,n._byteString)};if(n instanceof ze){let t=e.databaseId,r=n.firestore._databaseId;if(!r.isEqual(t))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${t.projectId}/${t.database}`);return{referenceValue:K0(n.firestore._databaseId||e.databaseId,n._key.path)}}else throw e.createError(`Unsupported field value: ${Yh(n)}`)}}function gx(n){return typeof n=="object"&&n!==null&&!(n instanceof Array)&&!(n instanceof Date)&&!(n instanceof lt)&&!(n instanceof xa)&&!(n instanceof Ui)&&!(n instanceof ze)&&!(n instanceof fs)}function kS(n,e,t){if(!gx(t)||!bZ(t)){let r=Yh(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function R0(n,e,t){if(e=$e(e),e instanceof ei)return e._internalPath;if(typeof e=="string")return NS(n,e);throw $p("Field path arguments must be of type string or ",n,!1,void 0,t)}var u7=new RegExp("[~\\*/\\[\\]]");function NS(n,e,t){if(e.search(u7)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ei(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $p(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${r}`),o&&(A+=` in document ${i}`),A+=")"),new M(N.INVALID_ARGUMENT,a+n+A)}function fx(n,e){return n.some(t=>t.isEqual(e))}var Oa=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new T0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let t=this._document.data.field(QE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},T0=class extends Oa{data(){return super.data()}};function QE(n,e){return typeof e=="string"?NS(n,e):e instanceof ei?e._internalPath:e._delegate._internalPath}function px(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new M(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _h=class{},Pa=class extends _h{};function xi(n,e,...t){let r=[];e instanceof _h&&r.push(e),r=r.concat(t),m7(r);for(let i of r)n=i._apply(n);return n}var Zp=class n extends Pa{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Cx(e._query,t),new Zt(e.firestore,e.converter,z0(e._query,t))}_parse(e){let t=qa(e.firestore);return h7(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function _S(n,e,t){let r=e,i=QE("where",n);return Zp._create(i,r,t)}var k0=class n extends _h{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_e.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(E7(e._query,t),new Zt(e.firestore,e.converter,z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var N0=class n extends Pa{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=d7(e._query,this._field,this._direction);return new Zt(e.firestore,e.converter,UK(e._query,t))}};function FS(n,e="asc"){let t=e,r=QE("orderBy",n);return N0._create(r,t)}var eE=class n extends Pa{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Zt(e.firestore,e.converter,yp(e._query,this._limit,this._limitType))}};function MS(n){return XU("limit",n),eE._create("limit",n,"F")}function LS(n){return XU("limitToLast",n),eE._create("limitToLast",n,"L")}var tE=class n extends Pa{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=Ex(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,xK(e._query,t))}};function US(...n){return tE._create("startAt",n,!0)}function xS(...n){return tE._create("startAfter",n,!1)}var nE=class n extends Pa{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=Ex(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,OK(e._query,t))}};function OS(...n){return nE._create("endBefore",n,!1)}function PS(...n){return nE._create("endAt",n,!0)}function Ex(n,e,t,r){if(t[0]=$e(t[0]),t[0]instanceof Oa)return g7(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=qa(n.firestore);return f7(n._query,n.firestore._databaseId,i,e,t,r)}}function h7(n,e,t,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new M(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){eL(o,s);let c=[];for(let l of o)c.push(ZM(r,n,l));a={arrayValue:{values:c}}}else a=ZM(r,n,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&eL(o,s),a=hx(t,e,o,s==="in"||s==="not-in");return ye.create(i,s,a)}function d7(n,e,t){if(n.startAt!==null)throw new M(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new M(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ka(e,t)}function g7(n,e,t,r,i){if(!r)throw new M(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${t}().`);let s=[];for(let o of Uc(n))if(o.field.isKeyField())s.push(Ta(e,r.key));else{let a=r.data.field(o.field);if(lE(a))throw new M(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(a!==null)s.push(a);else{let A=o.field.canonicalString();throw new M(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}}return new Mi(s,i)}function f7(n,e,t,r,i,s){let o=n.explicitOrderBy;if(i.length>o.length)throw new M(N.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let A=0;A<i.length;A++){let c=i[A];if(o[A].field.isKeyField()){if(typeof c!="string")throw new M(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!W0(n)&&c.indexOf("/")!==-1)throw new M(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);let u=n.path.child(Se.fromString(c));if(!J.isDocumentKey(u))throw new M(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${u}' is not because it contains an odd number of segments.`);let h=new J(u);a.push(Ta(e,h))}else{let u=hx(t,r,c);a.push(u)}}return new Mi(a,s)}function ZM(n,e,t){if(t=$e(t),typeof t=="string"){if(t==="")throw new M(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(e)&&t.indexOf("/")!==-1)throw new M(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Se.fromString(t));if(!J.isDocumentKey(r))throw new M(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ta(n,new J(r))}else{if(t instanceof ze)return Ta(n,t._key);throw new M(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}}function eL(n,e){if(!Array.isArray(n)||n.length===0)throw new M(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p7(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function Cx(n,e){let t=C7(n.filters,p7(e.op));if(t!==null)throw t===e.op?new M(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function E7(n,e){let t=n,r=e.getFlattenedFilters();for(let i of r)Cx(t,i),t=z0(t,i)}function C7(n,e){for(let t of n)for(let r of t.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function m7(n){let e=n.filter(r=>r instanceof k0).length,t=n.filter(r=>r instanceof Zp).length;if(e>1||e>0&&t>0)throw new M(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var jc=class{convertValue(e,t="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw j()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ga(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new xa(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Y0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){let t=hs(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Se.fromString(e);ee(EU(r));let i=new bo(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(t)||ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function wE(n,e,t){let r;return n?t&&(t.merge||t.mergeFields)?r=n.toFirestore(e,t):r=n.toFirestore(e):r=e,r}var _0=class extends jc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,t)}};function F0(n){return I7(n,["next","error","complete"])}function I7(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var ps=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dr=class extends Oa{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let t=new _o(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,t={}){if(this._document){let r=this._document.data.field(QE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_o=class extends Dr{data(e={}){return super.data(e)}},ti=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _o(this._firestore,this._userDataWriter,r.key,r,new ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t)&&(this._cachedChanges=B7(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function B7(n,e){if(n._snapshot.oldDocs.isEmpty()){let t=0;return n._snapshot.docChanges.map(r=>{let i=new _o(n._firestore,n._userDataWriter,r.doc.key,r.doc,new ps(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}else{let t=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new _o(n._firestore,n._userDataWriter,r.doc.key,r.doc,new ps(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter),s=-1,o=-1;return r.type!==0&&(s=t.indexOf(r.doc.key),t=t.delete(r.doc.key)),r.type!==1&&(t=t.add(r.doc),o=t.indexOf(r.doc.key)),{type:y7(r.type),doc:i,oldIndex:s,newIndex:o}})}}function y7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function SE(n,e){return n instanceof Dr&&e instanceof Dr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ti&&e instanceof ti?n._firestore===e._firestore&&BE(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot):!1}function VS(n){n=be(n,ze);let e=be(n.firestore,ot),t=Pt(e);return tx(t,n._key).then(r=>KS(e,n,r))}var Es=class extends jc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,t)}};function GS(n){n=be(n,ze);let e=be(n.firestore,ot),t=Pt(e),r=new Es(e);return OZ(t,n._key).then(i=>new Dr(e,r,n._key,i,new ps(i!==null&&i.hasLocalMutations,!0),n.converter))}function qS(n){n=be(n,ze);let e=be(n.firestore,ot),t=Pt(e);return tx(t,n._key,{source:"server"}).then(r=>KS(e,n,r))}function YS(n){n=be(n,Zt);let e=be(n.firestore,ot),t=Pt(e),r=new Es(e);return px(n._query),nx(t,n._query).then(i=>new ti(e,r,n,i))}function HS(n){n=be(n,Zt);let e=be(n.firestore,ot),t=Pt(e),r=new Es(e);return PZ(t,n._query).then(i=>new ti(e,r,n,i))}function JS(n){n=be(n,Zt);let e=be(n.firestore,ot),t=Pt(e),r=new Es(e);return nx(t,n._query,{source:"server"}).then(i=>new ti(e,r,n,i))}function bE(n,e,t){n=be(n,ze);let r=be(n.firestore,ot),i=wE(n.converter,e,t),s=qa(r),a=yE(s,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ft.none());return al(r,[a])}function vE(n,e,t,...r){n=be(n,ze);let i=be(n.firestore,ot),s=qa(i);e=$e(e);let o;typeof e=="string"||e instanceof ei?o=TS(s,"updateDoc",n._key,e,t,r):o=RS(s,"updateDoc",n._key,e);let a=o.toMutation(n._key,ft.exists(!0));return al(i,[a])}function WS(n){let e=be(n.firestore,ot),t=[new ko(n._key,ft.none())];return al(e,t)}function zS(n,e){let t=be(n.firestore,ot),r=ol(n),i=wE(n.converter,e),s=qa(n.firestore),a=yE(s,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ft.exists(!1));return al(t,[a]).then(()=>r)}function DE(n,...e){var t,r,i;n=$e(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!F0(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(F0(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let A,c,l;if(n instanceof ze)c=be(n.firestore,ot),l=el(n._key.path),A={next:h=>{e[o]&&e[o](KS(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=be(n,Zt);c=be(h.firestore,ot),l=h._query;let d=new Es(c);A={next:E=>{e[o]&&e[o](new ti(c,d,h,E))},error:e[o+1],complete:e[o+2]},px(n._query)}let u=Pt(c);return xZ(u,l,a,A)}function jS(n,e){n=be(n,ot);let t=Pt(n),r=F0(e)?e:{next:e};return GZ(t,r)}function al(n,e){let t=Pt(n);return VZ(t,e)}function KS(n,e,t){let r=t.docs.get(e._key),i=new Es(n);return new Dr(n,i,e._key,r,new ps(t.hasPendingWrites,t.fromCache),e.converter)}var Q7={maxAttempts:5};function w7(n){if(n.maxAttempts<1)throw new M(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}var rE=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qa(e)}set(e,t,r){this._verifyNotCommitted();let i=Bo(e,this._firestore),s=wE(i.converter,t,r),o=yE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ft.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let s=Bo(e,this._firestore);t=$e(t);let o;return typeof t=="string"||t instanceof ei?o=TS(this._dataReader,"WriteBatch.update",s._key,t,r,i):o=RS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,ft.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Bo(e,this._firestore);return this._mutations=this._mutations.concat(new ko(t._key,ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Bo(n,e){if(n=$e(n),n.firestore!==e)throw new M(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var M0=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qa(e)}get(e){let t=Bo(e,this._firestore),r=new _0(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return j();let s=i[0];if(s.isFoundDocument())return new Oa(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Oa(this._firestore,r,t._key,null,t.converter);throw j()})}set(e,t,r){let i=Bo(e,this._firestore),s=wE(i.converter,t,r),o=yE(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){let s=Bo(e,this._firestore);t=$e(t);let o;return typeof t=="string"||t instanceof ei?o=TS(this._dataReader,"Transaction.update",s._key,t,r,i):o=RS(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){let t=Bo(e,this._firestore);return this._transaction.delete(t._key),this}};var L0=class extends M0{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Bo(e,this._firestore),r=new Es(this._firestore);return super.get(e).then(i=>new Dr(this._firestore,r,t._key,i._document,new ps(!1,!1),t.converter))}};function XS(n,e,t){n=be(n,ot);let r=Object.assign(Object.assign({},Q7),t);w7(r);let i=Pt(n);return qZ(i,s=>e(new L0(n,s)),r)}function $S(){return new Nh("deleteField")}function ZS(){return new S0("serverTimestamp")}function eb(...n){return new b0("arrayUnion",n)}function tb(...n){return new v0("arrayRemove",n)}function nb(n){return new D0("increment",n)}o7("node");var S7="@firebase/firestore-compat",b7="0.3.31";function Ab(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new M("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mx(){if(typeof Uint8Array>"u")throw new M("unimplemented","Uint8Arrays are not available in this environment.")}function Ix(){if(!QL())throw new M("unimplemented","Blobs are unavailable in Firestore in this environment.")}var RE=class n{constructor(e){this._delegate=e}static fromBase64String(e){return Ix(),new n(Ui.fromBase64String(e))}static fromUint8Array(e){return mx(),new n(Ui.fromUint8Array(e))}toBase64(){return Ix(),this._delegate.toBase64()}toUint8Array(){return mx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function rb(n){return v7(n,["next","error","complete"])}function v7(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var ib=class{enableIndexedDbPersistence(e,t){return BS(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return yS(e._delegate)}clearIndexedDbPersistence(e){return QS(e._delegate)}},TE=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){CE(this._delegate,e,t,r)}enableNetwork(){return SS(this._delegate)}disableNetwork(){return bS(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wS(this._delegate)}onSnapshotsInSync(e){return jS(this._delegate,e)}get app(){if(!this._appCompat)throw new M("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ll(this,mE(this._delegate,e))}catch(t){throw vn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oi(this,ol(this._delegate,e))}catch(t){throw vn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new za(this,IS(this._delegate,e))}catch(t){throw vn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return XS(this._delegate,t=>e(new kE(this,t)))}batch(){return Pt(this._delegate),new NE(new rE(this._delegate,e=>al(this._delegate,e)))}loadBundle(e){return vS(this._delegate,e)}namedQuery(e){return DS(this._delegate,e).then(t=>t?new za(this,t):null)}},Al=class extends jc{constructor(e){super(),this.firestore=e}convertBytes(e){return new RE(new Ui(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Oi.forKey(t,this.firestore,null)}};function D7(n){U0(n)}var kE=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Al(e)}get(e){let t=Ha(e);return this._delegate.get(t).then(r=>new Ja(this._firestore,new Dr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=Ha(e);return r?(Ab("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=Ha(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=Ha(e);return this._delegate.delete(t),this}},NE=class{constructor(e){this._delegate=e}set(e,t,r){let i=Ha(e);return r?(Ab("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=Ha(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=Ha(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},cl=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new _o(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wa(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new n(e,new Al(e),t),i.set(t,s)),s}};cl.INSTANCES=new WeakMap;var Oi=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Al(e)}static forPath(e,t,r){if(e.length%2!==0)throw new M("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new ze(t._delegate,r,new J(e)))}static forKey(e,t,r){return new n(t,new ze(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ll(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ll(this.firestore,mE(this._delegate,e))}catch(t){throw vn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=$e(e),e instanceof ze?IE(this._delegate,e):!1}set(e,t){t=Ab("DocumentReference.set",t);try{return t?bE(this._delegate,e,t):bE(this._delegate,e)}catch(r){throw vn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?vE(this._delegate,e):vE(this._delegate,e,t,...r)}catch(i){throw vn(i,"updateDoc()","DocumentReference.update()")}}delete(){return WS(this._delegate)}onSnapshot(...e){let t=Bx(e),r=yx(e,i=>new Ja(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return DE(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=GS(this._delegate):e?.source==="server"?t=qS(this._delegate):t=VS(this._delegate),t.then(r=>new Ja(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function vn(n,e,t){return n.message=n.message.replace(e,t),n}function Bx(n){for(let e of n)if(typeof e=="object"&&!rb(e))return e;return{}}function yx(n,e){var t,r;let i;return rb(n[0])?i=n[0]:rb(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ja=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SE(this._delegate,e._delegate)}},Wa=class extends Ja{data(e){let t=this._delegate.data(e);return this._delegate._converter||nL(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},za=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Al(e)}where(e,t,r){try{return new n(this.firestore,xi(this._delegate,_S(e,t,r)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,xi(this._delegate,FS(e,t)))}catch(r){throw vn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,xi(this._delegate,MS(e)))}catch(t){throw vn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,xi(this._delegate,LS(e)))}catch(t){throw vn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,xi(this._delegate,US(...e)))}catch(t){throw vn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,xi(this._delegate,xS(...e)))}catch(t){throw vn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,xi(this._delegate,OS(...e)))}catch(t){throw vn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,xi(this._delegate,PS(...e)))}catch(t){throw vn(t,"endAt()","Query.endAt()")}}isEqual(e){return BE(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=HS(this._delegate):e?.source==="server"?t=JS(this._delegate):t=YS(this._delegate),t.then(r=>new Hh(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=Bx(e),r=yx(e,i=>new Hh(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return DE(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},sb=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wa(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Hh=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new za(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wa(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sb(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Wa(this._firestore,r))})}isEqual(e){return SE(this._delegate,e._delegate)}},ll=class n extends za{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Oi(this.firestore,e):null}doc(e){try{return e===void 0?new Oi(this.firestore,ol(this._delegate)):new Oi(this.firestore,ol(this._delegate,e))}catch(t){throw vn(t,"doc()","CollectionReference.doc()")}}add(e){return zS(this._delegate,e).then(t=>new Oi(this.firestore,t))}isEqual(e){return IE(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ha(n){return be(n,ze)}var ob=class n{constructor(...e){this._delegate=new ei(...e)}static documentId(){return new n(wt.keyField().canonicalString())}isEqual(e){return e=$e(e),e instanceof ei?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ab=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=ZS();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=$S();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=eb(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=tb(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=nb(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var R7={Firestore:TE,GeoPoint:xa,Timestamp:lt,Blob:RE,Transaction:kE,WriteBatch:NE,DocumentReference:Oi,DocumentSnapshot:Ja,Query:za,QueryDocumentSnapshot:Wa,QuerySnapshot:Hh,CollectionReference:ll,FieldPath:ob,FieldValue:ab,setLogLevel:D7,CACHE_SIZE_UNLIMITED:sx};function T7(n,e){n.INTERNAL.registerComponent(new ts("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},R7)))}function k7(n){T7(n,(e,t)=>new TE(e,t,new ib)),n.registerVersion(S7,b7,"node")}k7(Kn);function N7(n,e=Od){return new Mr(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function Qx(n,e){return N7(n,e)}function _7(n,e){return Qx(n,e).pipe(Gd(void 0),Pd(),Ue(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function ub(n,e){return Qx(n,e).pipe(Ue(t=>({payload:t,type:"query"})))}var _E=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:s}=bx(r,t);return new ME(i,s,this.afs)}snapshotChanges(){return _7(this.ref,this.afs.schedulers.outsideAngular).pipe(In)}valueChanges(e={}){return this.snapshotChanges().pipe(Ue(({payload:t})=>e.idField?te(P({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Un(this.ref.get(e)).pipe(In)}};function FE(n,e){return ub(n,e).pipe(Gd(void 0),Pd(),Ue(t=>{let[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,A)=>{let c=s.find(u=>u.doc.ref.isEqual(a.ref)),l=r?.payload.docs.find(u=>u.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&l&&JSON.stringify(l.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:a}})}),o}))}function wx(n,e,t){return FE(n,t).pipe(Vd((r,i)=>F7(r,i.map(s=>s.payload),e),[]),SR(),Ue(r=>r.map(i=>({type:i.type,payload:i}))))}function F7(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=M7(n,r))}),n}function cb(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function M7(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return cb(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return cb(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cb(n,e.oldIndex,1);break}return n}function Sx(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var ME=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=FE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ue(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Gd(void 0),Pd(),su(([r,i])=>i.length>0||!r),Ue(([,r])=>r),In)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=Sx(e);return wx(this.query,t,this.afs.schedulers.outsideAngular).pipe(In)}valueChanges(e={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe(Ue(t=>t.payload.docs.map(r=>e.idField?te(P({},r.data()),{[e.idField]:r.id}):r.data())),In)}get(e){return Un(this.query.get(e)).pipe(In)}add(e){return this.ref.add(e)}doc(e){return new _E(this.ref.doc(e),this.afs)}},lb=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?FE(this.query,this.afs.schedulers.outsideAngular).pipe(In):FE(this.query,this.afs.schedulers.outsideAngular).pipe(Ue(t=>t.filter(r=>e.indexOf(r.type)>-1)),su(t=>t.length>0),In)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=Sx(e);return wx(this.query,t,this.afs.schedulers.outsideAngular).pipe(In)}valueChanges(e={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe(Ue(r=>r.payload.docs.map(i=>e.idField?P({[e.idField]:i.id},i.data()):i.data())),In)}get(e){return Un(this.query.get(e)).pipe(In)}},L7=new xe("angularfire2.enableFirestorePersistence"),U7=new xe("angularfire2.firestore.persistenceSettings"),x7=new xe("angularfire2.firestore.settings"),O7=new xe("angularfire2.firestore.use-emulator");function bx(n,e=t=>t){return{query:e(n),ref:n}}var Oo=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,A,c,l,u,h,d,E,I,m,D,v){this.schedulers=A;let k=gu(t,a,r),T=l;u&&AI(k,a,h,E,I,m,d,D),[this.firestore,this.persistenceEnabled$]=ig(`${k.name}.firestore`,"AngularFirestore",k.name,()=>{let _=a.runOutsideAngular(()=>k.firestore());if(s&&_.settings(s),T&&_.useEmulator(...T),i&&!Hd(o)){let L=()=>{try{return Un(_.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Q){return typeof console<"u"&&console.warn(Q),Fs(!1)}};return[_,a.runOutsideAngular(L)]}else return[_,Fs(!1)]},[s,T,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:s,query:o}=bx(i,r),a=this.schedulers.ngZone.run(()=>s);return new ME(a,o,this)}collectionGroup(t,r){let i=r||(o=>o),s=this.firestore.collectionGroup(t);return new lb(i(s),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new _E(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ce(DA),ce(RA,8),ce(L7,8),ce(x7,8),ce(QA),ce(an),ce(hi),ce(U7,8),ce(O7,8),ce(di,8),ce(nI,8),ce(rI,8),ce(iI,8),ce(sI,8),ce(oI,8),ce(aI,8),ce(Xn,8))};static \u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var UE=(()=>{let e=class e{constructor(r){this.firestore=r}getPackages(){return this.firestore.collection("packages").valueChanges({idField:"id"})}getPackage(r){return this.firestore.collection("packages").doc(r).valueChanges()}};e.\u0275fac=function(i){return new(i||e)(ce(Oo))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Gn=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.firestore=i}register(r,i,s,o,a){return Un(this.afAuth.createUserWithEmailAndPassword(r,i).then(A=>this.firestore.collection("users").doc(A.user?.uid).set({name:s,phone:o,address:a,email:r})))}login(r,i){return Un(this.afAuth.signInWithEmailAndPassword(r,i))}logout(){return Un(this.afAuth.signOut())}get user$(){return this.afAuth.authState}};e.\u0275fac=function(i){return new(i||e)(ce(di),ce(Oo))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function P7(n,e){if(n&1&&(K(0,"div",3),z(1),Y()),n&2){let t=xt();He(),ci(t.errorMessage)}}function V7(n,e){if(n&1){let t=es();K(0,"div",5)(1,"h3"),z(2),Y(),K(3,"p")(4,"strong"),z(5,"Description:"),Y(),z(6),Y(),K(7,"button",6),Xe("click",function(){let i=Ur(t).$implicit,s=xt(2);return xr(s.viewDetails(i.id))}),z(8,"View Details"),Y(),K(9,"button",6),Xe("click",function(){let i=Ur(t).$implicit,s=xt(2);return xr(s.purchasePackage(i.id))}),z(10,"Purchase"),Y()()}if(n&2){let t=e.$implicit;He(2),ci(t.name),He(4),Us(" ",t.description,"")}}function G7(n,e){if(n&1&&(K(0,"div"),Or(1,V7,11,2,"div",4),Y()),n&2){let t=xt();He(),Tt("ngForOf",t.packages)}}function q7(n,e){n&1&&(K(0,"p"),z(1,"Loading packages..."),Y())}var Dx=(()=>{let e=class e{constructor(r,i,s){this.packageService=r,this.router=i,this.authService=s,this.packages=[],this.errorMessage="",this.isLoggedIn=!1}ngOnInit(){this.authService.user$.subscribe(r=>{this.isLoggedIn=!!r}),this.packageService.getPackages().subscribe({next:r=>{console.log("Fetched packages:",r),this.packages=r},error:r=>{console.error("Error fetching packages",r),this.errorMessage=r.message}})}viewDetails(r){r?this.isLoggedIn?this.router.navigate(["/package",r]):this.router.navigate(["/login"]):console.error("Package ID is undefined")}purchasePackage(r){r?this.isLoggedIn?this.router.navigate(["/confirm-purchase",r]):this.router.navigate(["/login"]):console.error("Package ID is undefined")}};e.\u0275fac=function(i){return new(i||e)(ue(UE),ue(Gt),ue(Gn))},e.\u0275cmp=Rt({type:e,selectors:[["app-package-list"]],decls:4,vars:3,consts:[["loading",""],["class","error",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"error"],["class","package-item",4,"ngFor","ngForOf"],[1,"package-item"],[3,"click"]],template:function(i,s){if(i&1&&Or(0,P7,2,1,"div",1)(1,G7,2,1,"div",2)(2,q7,2,0,"ng-template",null,0,LR),i&2){let o=_R(3);Tt("ngIf",s.errorMessage),He(),Tt("ngIf",s.packages.length>0)("ngIfElse",o)}},dependencies:[VR,li],styles:[".package-item[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:#f9f9f9;border-radius:10px;box-shadow:0 0 10px #0000001a}h3[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{color:#555;font-size:1rem;margin-bottom:.5rem}p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}button[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;margin-right:1rem;padding:.5rem 1rem;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let n=e;return n})();function Y7(n,e){if(n&1&&(K(0,"div",2),z(1),Y()),n&2){let t=xt();He(),ci(t.errorMessage)}}function H7(n,e){if(n&1){let t=es();K(0,"div",3)(1,"h2"),z(2),Y(),K(3,"p")(4,"strong"),z(5,"Description:"),Y(),z(6),Y(),K(7,"p")(8,"strong"),z(9,"Data:"),Y(),z(10),Y(),K(11,"p")(12,"strong"),z(13,"Minutes:"),Y(),z(14),Y(),K(15,"p")(16,"strong"),z(17,"SMS:"),Y(),z(18),Y(),K(19,"p")(20,"strong"),z(21,"Price:"),Y(),z(22),FR(23,"currency"),Y(),K(24,"button",4),Xe("click",function(){Ur(t);let i=xt();return xr(i.goToPackages())}),z(25,"Back to Packages"),Y(),K(26,"button",4),Xe("click",function(){Ur(t);let i=xt();return xr(i.purchasePackage())}),z(27,"Purchase"),Y()()}if(n&2){let t=xt();He(2),ci(t.package.name),He(4),Us(" ",t.package.description,""),He(4),Us(" ",t.package.data," GB"),He(4),Us(" ",t.package.minutes,""),He(4),Us(" ",t.package.sms,""),He(4),Us(" ",MR(23,6,t.package.price),"")}}var Rx=(()=>{let e=class e{constructor(r,i,s,o){this.route=r,this.packageService=i,this.router=s,this.authService=o,this.errorMessage="",this.isLoggedIn=!1}ngOnInit(){this.authService.user$.subscribe(i=>{this.isLoggedIn=!!i});let r=this.route.snapshot.paramMap.get("id");r?this.packageService.getPackage(r).subscribe({next:i=>{i&&(this.package=te(P({},i),{id:r}))},error:i=>{console.error("Error fetching package",i),this.errorMessage=i.message}}):console.error("Package ID is undefined")}goToPackages(){this.router.navigate(["/packages"])}purchasePackage(){this.package?.id?this.isLoggedIn?this.router.navigate(["/confirm-purchase",this.package.id]):this.router.navigate(["/login"]):console.error("Package ID is undefined")}};e.\u0275fac=function(i){return new(i||e)(ue(Jd),ue(UE),ue(Gt),ue(Gn))},e.\u0275cmp=Rt({type:e,selectors:[["app-package-detail"]],decls:2,vars:2,consts:[["class","error",4,"ngIf"],["class","package-detail",4,"ngIf"],[1,"error"],[1,"package-detail"],[3,"click"]],template:function(i,s){i&1&&Or(0,Y7,2,1,"div",0)(1,H7,28,8,"div",1),i&2&&(Tt("ngIf",s.errorMessage),He(),Tt("ngIf",s.package))},dependencies:[li,GR],styles:[".package-detail[_ngcontent-%COMP%]{padding:2rem;background-color:#f9f9f9;border-radius:10px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}p[_ngcontent-%COMP%]{color:#555;font-size:1.2rem;margin-bottom:.5rem}p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}button[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;margin-right:1rem;padding:.5rem 1rem;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let n=e;return n})();var xx=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ue(Pm),ue(Om))},e.\u0275dir=Lr({type:e});let n=e;return n})(),J7=(()=>{let e=class e extends xx{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=xm(e)))(s||e)}})(),e.\u0275dir=Lr({type:e,features:[Ls]});let n=e;return n})(),Ox=new xe("");var W7={provide:Ox,useExisting:ou(()=>Vo),multi:!0};function z7(){let n=Ym()?Ym().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var j7=new xe(""),Vo=(()=>{let e=class e extends xx{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!z7())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ue(Pm),ue(Om),ue(j7,8))},e.\u0275dir=Lr({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Xe("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[cu([W7]),Ls]});let n=e;return n})();function Po(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Px(n){return n!=null&&typeof n.length=="number"}var fb=new xe(""),Vx=new xe(""),K7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jt=class{static min(e){return X7(e)}static max(e){return $7(e)}static required(e){return Gx(e)}static requiredTrue(e){return Z7(e)}static email(e){return eee(e)}static minLength(e){return tee(e)}static maxLength(e){return nee(e)}static pattern(e){return ree(e)}static nullValidator(e){return VE(e)}static compose(e){return zx(e)}static composeAsync(e){return Kx(e)}};function X7(n){return e=>{if(Po(e.value)||Po(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $7(n){return e=>{if(Po(e.value)||Po(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Gx(n){return Po(n.value)?{required:!0}:null}function Z7(n){return n.value===!0?null:{required:!0}}function eee(n){return Po(n.value)||K7.test(n.value)?null:{email:!0}}function tee(n){return e=>Po(e.value)||!Px(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function nee(n){return e=>Px(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function ree(n){if(!n)return VE;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Po(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function VE(n){return null}function qx(n){return n!=null}function Yx(n){return xR(n)?Un(n):n}function Hx(n){let e={};return n.forEach(t=>{e=t!=null?P(P({},e),t):e}),Object.keys(e).length===0?null:e}function Jx(n,e){return e.map(t=>t(n))}function iee(n){return!n.validate}function Wx(n){return n.map(e=>iee(e)?e:t=>e.validate(t))}function zx(n){if(!n)return null;let e=n.filter(qx);return e.length==0?null:function(t){return Hx(Jx(t,e))}}function jx(n){return n!=null?zx(Wx(n)):null}function Kx(n){if(!n)return null;let e=n.filter(qx);return e.length==0?null:function(t){let r=Jx(t,e).map(Yx);return yR(r).pipe(Ue(Hx))}}function Xx(n){return n!=null?Kx(Wx(n)):null}function Tx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $x(n){return n._rawValidators}function Zx(n){return n._rawAsyncValidators}function hb(n){return n?Array.isArray(n)?n:[n]:[]}function GE(n,e){return Array.isArray(n)?n.includes(e):n===e}function kx(n,e){let t=hb(e);return hb(n).forEach(i=>{GE(t,i)||t.push(i)}),t}function Nx(n,e){return hb(e).filter(t=>!GE(n,t))}var qE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},hl=class extends qE{get formDirective(){return null}get path(){return null}},zh=class extends qE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},YE=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},see={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eEe=te(P({},see),{"[class.ng-submitted]":"isSubmitted"}),gl=(()=>{let e=class e extends YE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ue(zh,2))},e.\u0275dir=Lr({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Vm("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ls]});let n=e;return n})(),fl=(()=>{let e=class e extends YE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ue(hl,10))},e.\u0275dir=Lr({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Vm("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ls]});let n=e;return n})();var Jh="VALID",OE="INVALID",ul="PENDING",Wh="DISABLED";function pb(n){return(zE(n)?n.validators:n)||null}function oee(n){return Array.isArray(n)?jx(n):n||null}function Eb(n,e){return(zE(e)?e.asyncValidators:n)||null}function aee(n){return Array.isArray(n)?Xx(n):n||null}function zE(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function e1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new yA(1e3,"");if(!r[t])throw new yA(1001,"")}function t1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new yA(1002,"")})}var dl=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jh}get invalid(){return this.status===OE}get pending(){return this.status==ul}get disabled(){return this.status===Wh}get enabled(){return this.status!==Wh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nx(e,this._rawAsyncValidators))}hasValidator(e){return GE(this._rawValidators,e)}hasAsyncValidator(e){return GE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ul,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wh,this.errors=null,this._forEachChild(r=>{r.disable(te(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(P({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this._forEachChild(r=>{r.enable(te(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(P({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jh||this.status===ul)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wh:Jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ul,this._hasOwnPendingAsyncValidator=!0;let t=Yx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Au,this.statusChanges=new Au}_calculateStatus(){return this._allControlsDisabled()?Wh:this.errors?OE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ul)?ul:this._anyControlsHaveStatus(OE)?OE:Jh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oee(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aee(this._rawAsyncValidators)}},HE=class extends dl{constructor(e,t,r){super(pb(t),Eb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){t1(this,!0,e),Object.keys(e).forEach(r=>{e1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var db=class extends HE{};var n1=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>Cb}),Cb="always";function Aee(n,e){return[...e.path,n]}function _x(n,e,t=Cb){mb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),lee(n,e),hee(n,e),uee(n,e),cee(n,e)}function Fx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),WE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function JE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cee(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function mb(n,e){let t=$x(n);e.validator!==null?n.setValidators(Tx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Zx(n);e.asyncValidator!==null?n.setAsyncValidators(Tx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();JE(e._rawValidators,i),JE(e._rawAsyncValidators,i)}function WE(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=$x(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=Zx(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return JE(e._rawValidators,r),JE(e._rawAsyncValidators,r),t}function lee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&r1(n,e)})}function uee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&r1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function r1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hee(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function dee(n,e){n==null,mb(n,e)}function gee(n,e){return WE(n,e)}function fee(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pee(n){return Object.getPrototypeOf(n.constructor)===J7}function Eee(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Cee(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Vo?t=s:pee(s)?r=s:i=s}),i||r||t||null}function mee(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Lx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var PE=class extends dl{constructor(e=null,t,r){super(pb(t),Eb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Lx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Lx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Iee=n=>n instanceof PE;var pl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Lr({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var i1=new xe("");var Bee={provide:hl,useExisting:ou(()=>Ka)},Ka=(()=>{let e=class e extends hl{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Au,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return _x(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Fx(r.control||null,r,!1),mee(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Eee(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Fx(i||null,r),Iee(s)&&(_x(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);dee(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&gee(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mb(this.form,this),this._oldForm&&WE(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ue(fb,10),ue(Vx,10),ue(n1,8))},e.\u0275dir=Lr({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Xe("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[au.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cu([Bee]),Ls,qd]});let n=e;return n})();var yee={provide:zh,useExisting:ou(()=>Xa)},Xa=(()=>{let e=class e extends zh{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Au,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Cee(this,o)}ngOnChanges(r){this._added||this._setUpControl(),fee(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Aee(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ue(hl,13),ue(fb,10),ue(Vx,10),ue(Ox,10),ue(i1,8))},e.\u0275dir=Lr({type:e,selectors:[["","formControlName",""]],inputs:{name:[au.None,"formControlName","name"],isDisabled:[au.None,"disabled","isDisabled"],model:[au.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[cu([yee]),Ls,qd]});let n=e;return n})();var Qee=(()=>{let e=class e{constructor(){this._validator=VE}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):VE,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Lr({type:e,features:[qd]});let n=e;return n})();var wee={provide:fb,useExisting:ou(()=>$a),multi:!0};var $a=(()=>{let e=class e extends Qee{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=OR,this.createValidator=r=>Gx}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=xm(e)))(s||e)}})(),e.\u0275dir=Lr({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&NR("required",s._enabled?"":null)},inputs:{required:"required"},features:[cu([wee]),Ls]});let n=e;return n})();var See=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e}),e.\u0275inj=Cn({});let n=e;return n})(),gb=class extends dl{constructor(e,t,r){super(pb(t),Eb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){t1(this,!1,e),e.forEach((r,i)=>{e1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ux(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var El=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return Ux(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new HE(s,o)}record(r,i=null){let s=this._reduceControls(r);return new db(s,i)}control(r,i,s){let o={};return this.useNonNullable?(Ux(i)?o=i:(o.validators=i,o.asyncValidators=s),new PE(r,te(P({},o),{nonNullable:!0}))):new PE(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new gb(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof PE)return r;if(r instanceof dl)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var s1=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:i1,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:n1,useValue:r.callSetDisabledState??Cb}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e}),e.\u0275inj=Cn({imports:[See]});let n=e;return n})();function bee(n,e){if(n&1&&(K(0,"div",7),z(1),Y()),n&2){let t=xt();He(),ci(t.errorMessage)}}var o1=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.errorMessage="",this.loginForm=this.fb.group({email:["",[jt.required,jt.email]],password:["",jt.required]})}onSubmit(){if(console.log("Form submitted",this.loginForm.value),this.loginForm.valid){let{email:r,password:i}=this.loginForm.value;this.authService.login(r,i).subscribe({next:()=>{console.log("Login successful"),this.router.navigate(["/profile"])},error:s=>{console.error("Login error",s),this.errorMessage=s.message}})}}};e.\u0275fac=function(i){return new(i||e)(ue(El),ue(Gn),ue(Gt))},e.\u0275cmp=Rt({type:e,selectors:[["app-login"]],decls:10,vars:2,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","required","","type","email"],["for","password"],["id","password","formControlName","password","required","","type","password"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,s){i&1&&(K(0,"form",0),Xe("ngSubmit",function(){return s.onSubmit()}),K(1,"label",1),z(2,"Email"),Y(),Ut(3,"input",2),K(4,"label",3),z(5,"Password"),Y(),Ut(6,"input",4),K(7,"button",5),z(8,"Login"),Y(),Or(9,bee,2,1,"div",6),Y()),i&2&&(Tt("formGroup",s.loginForm),He(9),Tt("ngIf",s.errorMessage))},dependencies:[li,pl,Vo,gl,fl,$a,Ka,Xa],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-top:1rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:.5rem}button[_ngcontent-%COMP%]{margin-top:1rem;background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error[_ngcontent-%COMP%]{color:red;margin-top:1rem}"]});let n=e;return n})();function vee(n,e){if(n&1&&(K(0,"div",13),z(1),Y()),n&2){let t=xt();He(),ci(t.errorMessage)}}var a1=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.errorMessage="",this.registerForm=this.fb.group({email:["",[jt.required,jt.email]],password:["",jt.required],name:["",jt.required],phone:["",jt.required],address:["",jt.required]})}onSubmit(){if(console.log("Form submitted",this.registerForm.value),this.registerForm.valid){let{email:r,password:i,name:s,phone:o,address:a}=this.registerForm.value;this.authService.register(r,i,s,o,a).subscribe({next:()=>{console.log("Registration successful"),this.router.navigate(["/login"])},error:A=>{console.error("Registration error",A),this.errorMessage=A.message}})}}};e.\u0275fac=function(i){return new(i||e)(ue(El),ue(Gn),ue(Gt))},e.\u0275cmp=Rt({type:e,selectors:[["app-register"]],decls:19,vars:2,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","required","","type","email"],["for","password"],["id","password","formControlName","password","required","","type","password"],["for","name"],["id","name","formControlName","name","required","","type","text"],["for","phone"],["id","phone","formControlName","phone","required","","type","text"],["for","address"],["id","address","formControlName","address","required","","type","text"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,s){i&1&&(K(0,"form",0),Xe("ngSubmit",function(){return s.onSubmit()}),K(1,"label",1),z(2,"Email"),Y(),Ut(3,"input",2),K(4,"label",3),z(5,"Password"),Y(),Ut(6,"input",4),K(7,"label",5),z(8,"Name"),Y(),Ut(9,"input",6),K(10,"label",7),z(11,"Phone"),Y(),Ut(12,"input",8),K(13,"label",9),z(14,"Address"),Y(),Ut(15,"input",10),K(16,"button",11),z(17,"Register"),Y(),Or(18,vee,2,1,"div",12),Y()),i&2&&(Tt("formGroup",s.registerForm),He(18),Tt("ngIf",s.errorMessage))},dependencies:[li,pl,Vo,gl,fl,$a,Ka,Xa],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-top:1rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:.5rem}button[_ngcontent-%COMP%]{margin-top:1rem;background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error[_ngcontent-%COMP%]{color:red;margin-top:1rem}"]});let n=e;return n})();var A1=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.afAuth=i,this.firestore=s,this.userId=null,this.packageName="",this.userProfileForm=this.fb.group({name:["",jt.required],email:[{value:"",disabled:!0},jt.required],phone:["",jt.required],address:["",jt.required],package:[{value:"",disabled:!0}]})}ngOnInit(){this.afAuth.authState.pipe(Ai(r=>r?(this.userId=r.uid,this.firestore.collection("users").doc(r.uid).valueChanges()):new Mr),Ai(r=>r&&r.package?this.firestore.collection("packages").doc(r.package).valueChanges().pipe(Ue(i=>(this.packageName=i.name,r))):new Mr(i=>{i.next(r),i.complete()}))).subscribe(r=>{r&&this.userProfileForm.patchValue({name:r.name,email:r.email,phone:r.phone,address:r.address,package:this.packageName})})}onSave(){this.userProfileForm.valid&&this.userId&&this.firestore.collection("users").doc(this.userId).update(this.userProfileForm.value).then(()=>{alert("Profile updated successfully!")}).catch(r=>{console.error("Error updating profile",r)})}};e.\u0275fac=function(i){return new(i||e)(ue(El),ue(di),ue(Oo))},e.\u0275cmp=Rt({type:e,selectors:[["app-user-profile"]],decls:18,vars:1,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","required","","type","email"],["for","package"],["id","package","formControlName","package"],["for","name"],["id","name","formControlName","name","required",""],["for","phone"],["id","phone","formControlName","phone","required",""],["for","address"],["id","address","formControlName","address","required",""],["type","submit"]],template:function(i,s){i&1&&(K(0,"form",0),Xe("ngSubmit",function(){return s.onSave()}),K(1,"label",1),z(2,"Email"),Y(),Ut(3,"input",2),K(4,"label",3),z(5,"Package"),Y(),Ut(6,"input",4),K(7,"label",5),z(8,"Name"),Y(),Ut(9,"input",6),K(10,"label",7),z(11,"Phone"),Y(),Ut(12,"input",8),K(13,"label",9),z(14,"Address"),Y(),Ut(15,"input",10),K(16,"button",11),z(17,"Save"),Y()()),i&2&&Tt("formGroup",s.userProfileForm)},dependencies:[pl,Vo,gl,fl,$a,Ka,Xa],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-top:1rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:.5rem}button[_ngcontent-%COMP%]{margin-top:1rem;background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let n=e;return n})();var c1=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}canActivate(r,i){return this.afAuth.authState.pipe(IA(1),Ue(s=>s!=null),BA(s=>{s||this.router.navigate(["/login"])}))}};e.\u0275fac=function(i){return new(i||e)(ce(di),ce(Gt))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var l1=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i}canActivate(r,i){return this.authService.user$.pipe(IA(1),Ue(s=>s?(this.router.navigate(["/profile"]),!1):!0))}};e.\u0275fac=function(i){return new(i||e)(ce(Gn),ce(Gt))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var u1=(()=>{let e=class e{constructor(r){this.firestore=r}getUser(r){return this.firestore.collection("users").doc(r).valueChanges().pipe(Ue(i=>{if(i)return i;throw new Error("User not found")}),wR(i=>{throw console.error("Error fetching user:",i),i}))}updateUser(r,i){return this.firestore.collection("users").doc(r).update(i)}};e.\u0275fac=function(i){return new(i||e)(ce(Oo))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var h1=(()=>{let e=class e{constructor(r,i,s,o){this.route=r,this.router=i,this.authService=s,this.userService=o,this.packageId=null,this.userId=null}ngOnInit(){this.packageId=this.route.snapshot.paramMap.get("id"),this.authService.user$.subscribe(r=>{r?this.userId=r.uid:this.router.navigate(["/login"])})}confirmPurchase(){this.packageId&&this.userId&&this.userService.updateUser(this.userId,{package:this.packageId}).then(()=>{alert("Purchase confirmed!"),this.router.navigate(["/profile"])}).catch(r=>{console.error("Error updating user package:",r)})}cancelPurchase(){this.router.navigate(["/packages"])}};e.\u0275fac=function(i){return new(i||e)(ue(Jd),ue(Gt),ue(Gn),ue(u1))},e.\u0275cmp=Rt({type:e,selectors:[["app-confirm-purchase"]],decls:8,vars:0,consts:[[3,"click"]],template:function(i,s){i&1&&(K(0,"h2"),z(1,"Confirm Purchase"),Y(),K(2,"p"),z(3,"Are you sure you want to purchase this package?"),Y(),K(4,"button",0),Xe("click",function(){return s.confirmPurchase()}),z(5,"Yes, Confirm"),Y(),K(6,"button",0),Xe("click",function(){return s.cancelPurchase()}),z(7,"No, Cancel"),Y())}});let n=e;return n})();var jE=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["app-home"]],decls:34,vars:0,consts:[[1,"welcome-container"],["routerLink","/packages"],["routerLink","/register"]],template:function(i,s){i&1&&(K(0,"div",0)(1,"h1"),z(2,"Welcome to Mobile Package App"),Y(),K(3,"p"),z(4," Discover the best mobile packages tailored just for you. Whether you need more data, minutes, or texts, our app has you covered with the latest offers and deals. "),Y(),K(5,"h2"),z(6,"Why Choose Us?"),Y(),K(7,"ul")(8,"li")(9,"strong"),z(10,"Flexible Packages:"),Y(),z(11," Customize your plan to fit your needs and lifestyle. "),Y(),K(12,"li")(13,"strong"),z(14,"Affordable Prices:"),Y(),z(15," Get the best value for your money with our competitive pricing. "),Y(),K(16,"li")(17,"strong"),z(18,"Easy Management:"),Y(),z(19," Manage your account and packages effortlessly with our user-friendly interface. "),Y(),K(20,"li")(21,"strong"),z(22,"24/7 Support:"),Y(),z(23," Our dedicated support team is here to help you anytime, anywhere. "),Y()(),K(24,"h2"),z(25,"Get Started"),Y(),K(26,"p"),z(27," Ready to find the perfect mobile package? "),K(28,"a",1),z(29,"Browse our packages"),Y(),z(30," or "),K(31,"a",2),z(32,"create an account"),Y(),z(33," to get personalized recommendations. "),Y()())},dependencies:[jR],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background-color:#f9f9f9;border-radius:10px;box-shadow:0 0 10px #0000001a}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}p[_ngcontent-%COMP%]{color:#555;font-size:1.2rem;margin-bottom:2rem}h2[_ngcontent-%COMP%]{color:#444;margin-top:2rem}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;text-align:left;max-width:600px;margin:0 auto}li[_ngcontent-%COMP%]{color:#555;font-size:1.1rem;margin-bottom:1rem}li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let n=e;return n})();var KE=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}canActivate(){return this.afAuth.authState.pipe(IA(1),Ue(r=>!!r),BA(r=>{r&&this.router.navigate(["/profile"])}),Ue(r=>!r))}};e.\u0275fac=function(i){return new(i||e)(ce(di),ce(Gt))},e.\u0275prov=dt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ree=[{path:"",component:jE},{path:"packages",component:Dx},{path:"package/:id",component:Rx},{path:"login",component:o1,canActivate:[KE]},{path:"register",component:a1,canActivate:[l1]},{path:"confirm-purchase/:id",component:h1},{path:"profile",component:A1,canActivate:[c1]}],d1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e}),e.\u0275inj=Cn({imports:[lu.forRoot(Ree),lu]});let n=e;return n})();function Tee(n,e){if(n&1){let t=es();K(0,"button",0),Xe("click",function(){Ur(t);let i=xt();return xr(i.navigateToLogin())}),z(1,"Login"),Y()}}function kee(n,e){if(n&1){let t=es();K(0,"button",0),Xe("click",function(){Ur(t);let i=xt();return xr(i.navigateToRegister())}),z(1,"Register"),Y()}}function Nee(n,e){if(n&1){let t=es();K(0,"button",0),Xe("click",function(){Ur(t);let i=xt();return xr(i.navigateToProfile())}),z(1,"Profile"),Y()}}function _ee(n,e){if(n&1){let t=es();K(0,"button",0),Xe("click",function(){Ur(t);let i=xt();return xr(i.logout())}),z(1,"Logout"),Y()}}var g1=(()=>{let e=class e{constructor(r,i){this.router=r,this.authService=i,this.isLoggedIn=!1}ngOnInit(){this.authService.user$.subscribe(r=>{this.isLoggedIn=!!r})}navigateToHome(){this.router.navigate(["/"])}navigateToPackages(){this.router.navigate(["/packages"])}navigateToLogin(){this.router.navigate(["/login"])}navigateToRegister(){this.router.navigate(["/register"])}navigateToProfile(){this.router.navigate(["/profile"])}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/"])})}};e.\u0275fac=function(i){return new(i||e)(ue(Gt),ue(Gn))},e.\u0275cmp=Rt({type:e,selectors:[["app-header"]],decls:9,vars:4,consts:[[3,"click"],[3,"click",4,"ngIf"]],template:function(i,s){i&1&&(K(0,"nav")(1,"button",0),Xe("click",function(){return s.navigateToHome()}),z(2,"Home"),Y(),K(3,"button",0),Xe("click",function(){return s.navigateToPackages()}),z(4,"Packages"),Y(),Or(5,Tee,2,0,"button",1)(6,kee,2,0,"button",1)(7,Nee,2,0,"button",1)(8,_ee,2,0,"button",1),Y()),i&2&&(He(5),Tt("ngIf",!s.isLoggedIn),He(),Tt("ngIf",!s.isLoggedIn),He(),Tt("ngIf",s.isLoggedIn),He(),Tt("ngIf",s.isLoggedIn))},dependencies:[li],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#333;padding:1rem}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background:none;border:none;text-decoration:none;padding:.5rem 1rem;cursor:pointer;font-size:1rem}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#555}"]});let n=e;return n})();var f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["app-footer"]],decls:3,vars:0,template:function(i,s){i&1&&(K(0,"footer")(1,"p"),z(2,"\xA9 2024 Mobile Package Shop"),Y()())},styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#333;padding:.1rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.05rem .1rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555}"]});let n=e;return n})();var XE=(()=>{let e=class e{constructor(){this.title="Mobile Package Purchase App"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"content"]],template:function(i,s){i&1&&(Ut(0,"app-header"),K(1,"div",0),Ut(2,"router-outlet"),Y(),Ut(3,"app-footer"))},dependencies:[zR,g1,f1],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif}.content[_ngcontent-%COMP%]{padding:20px}"]});let n=e;return n})();var hCe=xd(Yq(),1);var p1="auth",jh=class{constructor(e){return e}},Za=class{constructor(){return oa(p1)}};var Bb=new xe("angularfire2.auth-instances");function Mte(n,e){let t=bA(p1,n,e);return t&&new jh(t)}function Lte(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new jh(r)}}var Ute={provide:Za,deps:[[new on,Bb]]},xte={provide:jh,useFactory:Mte,deps:[[new on,Bb],xs]};function E1(n,...e){return $t("angularfire",Pr.full,"auth"),Ms([xte,Ute,{provide:Bb,useFactory:Lte(n),multi:!0,deps:[an,ra,hi,Os,[new on,Xn],...e]}])}var C1=vA(zm,!0);var Kh=class{constructor(e){return e}},m1="firestore",yb=class{constructor(){return oa(m1)}};var Qb=new xe("angularfire2.firestore-instances");function Ote(n,e){let t=bA(m1,n,e);return t&&new Kh(t)}function Pte(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Kh(r)}}var Vte={provide:yb,deps:[[new on,Qb]]},Gte={provide:Kh,useFactory:Ote,deps:[[new on,Qb],xs]};function I1(n,...e){return $t("angularfire",Pr.full,"fst"),Ms([Gte,Vte,{provide:Qb,useFactory:Pte(n),multi:!0,deps:[an,ra,hi,Os,[new on,Za],[new on,Xn],...e]}])}var B1=vA(ox,!0);var she=xd(vq(),1);var kq="firebasestorage.googleapis.com",ohe="storageBucket",ahe=2*60*1e3,Ahe=10*60*1e3;var Zi=class n extends Kd{constructor(e,t,r=0){super(lR(e),`Firebase Storage: ${t} (${lR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ks=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ks||{});function lR(n){return"storage/"+n}function che(){let n="An unknown error occurred, please check the error payload for server response.";return new Zi(ks.UNKNOWN,n)}function lhe(){return new Zi(ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uhe(){return new Zi(ks.CANCELED,"User canceled the upload/download.")}function hhe(n){return new Zi(ks.INVALID_URL,"Invalid URL '"+n+"'.")}function dhe(n){return new Zi(ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Dq(n){return new Zi(ks.INVALID_ARGUMENT,n)}function Nq(){return new Zi(ks.APP_DELETED,"The Firebase app was deleted.")}function ghe(n){return new Zi(ks.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ts=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw dhe(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),A={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}let l="v[A-Za-z0-9_]+",u=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp(`^https?://${u}/${l}/b/${i}/o${h}`,"i"),E={bucket:1,path:3},I=t===kq?"(?:storage.googleapis.com|storage.cloud.google.com)":t,m="([^?#]*)",D=new RegExp(`^https?://${I}/${i}/${m}`,"i"),k=[{regex:a,indices:A,postModify:s},{regex:d,indices:E,postModify:c},{regex:D,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<k.length;T++){let _=k[T],L=_.regex.exec(e);if(L){let Q=L[_.indices.bucket],C=L[_.indices.path];C||(C=""),r=new n(Q,C),_.postModify(r);break}}if(r==null)throw hhe(e);return r}},uR=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function fhe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function A(){return a===2}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function u(m){i=setTimeout(()=>{i=null,n(d,A())},m)}function h(){s&&clearTimeout(s)}function d(m,...D){if(c){h();return}if(m){h(),l.call(null,m,...D);return}if(A()||o){h(),l.call(null,m,...D);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,u(k)}let E=!1;function I(m){E||(E=!0,h(),!c&&(i!==null?(m||(a=2),clearTimeout(i),u(0)):m||(a=1)))}return u(0),s=setTimeout(()=>{o=!0,I(!0)},t),I}function phe(n){n(!1)}function Ehe(n){return n!==void 0}function Rq(n,e,t,r){if(r<e)throw Dq(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Dq(`Invalid value for '${n}'. Expected ${t} or less.`)}function Che(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var hR=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(hR||{});function mhe(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var dR=class{constructor(e,t,r,i,s,o,a,A,c,l,u,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=A,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,E)=>{this.resolve_=d,this.reject_=E,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new iu(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let A=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(A,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===hR.NO_ERROR,A=s.getStatus();if(!a||mhe(A,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===hR.ABORT;r(!1,new iu(!1,null,l));return}let c=this.successCodes_.indexOf(A)!==-1;r(!0,new iu(c,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let A=this.callback_(a,a.getResponse());Ehe(A)?s(A):s()}catch(A){o(A)}else if(a!==null){let A=che();A.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,A)):o(A)}else if(i.canceled){let A=this.appDelete_?Nq():uhe();o(A)}else{let A=lhe();o(A)}};this.canceled_?t(!1,new iu(!1,null,!0)):this.backoffId_=fhe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&phe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},iu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Ihe(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Bhe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yhe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Qhe(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function whe(n,e,t,r,i,s,o=!0){let a=Che(n.urlParams),A=n.url+a,c=Object.assign({},n.headers);return yhe(c,e),Ihe(c,t),Bhe(c,s),Qhe(c,r),new dR(A,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function She(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bhe(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var wBe=256*1024;var gR=class n{constructor(e,t){this._service=e,t instanceof Ts?this._location=t:this._location=Ts.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bhe(this._location.path)}get storage(){return this._service}get parent(){let e=She(this._location.path);if(e===null)return null;let t=new Ts(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ghe(e)}};function Tq(n,e){let t=e?.[ohe];return t==null?null:Ts.makeFromBucketSpec(t,n)}function vhe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:zd(i,n.app.options.projectId))}var fR=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ahe,this._maxUploadRetryTime=Ahe,this._requests=new Set,i!=null?this._bucket=Ts.makeFromBucketSpec(i,this._host):this._bucket=Tq(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ts.makeFromBucketSpec(this._url,e):this._bucket=Tq(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rq("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rq("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return B(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return B(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gR(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new uR(Nq());{let o=whe(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return B(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},Dhe="@firebase/storage",Rhe="0.12.5";var _q="storage";function Fq(n=wA(),e){n=$e(n);let r=hu(n,_q).getImmediate({identifier:e}),i=Wd("storage");return i&&Mq(r,...i),r}function Mq(n,e,t,r={}){vhe(n,e,t,r)}function The(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new fR(t,r,i,e,$d)}function khe(){ia(new ts(_q,The,"PUBLIC").setMultipleInstances(!0)),$t(Dhe,Rhe)}khe();var Ld=class{constructor(e){return e}},Lq="storage",pR=class{constructor(){return oa(Lq)}};var ER=new xe("angularfire2.storage-instances");function Nhe(n,e){let t=bA(Lq,n,e);return t&&new Ld(t)}function _he(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ld(r)}}var Fhe={provide:pR,deps:[[new on,ER]]},Mhe={provide:Ld,useFactory:Nhe,deps:[[new on,ER],xs]};function Uq(n,...e){return $t("angularfire",Pr.full,"gcs"),Ms([Mhe,Fhe,{provide:ER,useFactory:_he(n),multi:!0,deps:[an,ra,hi,Os,[new on,Za],[new on,Xn],...e]}])}var xq=vA(Fq,!0);var Lhe="@",Uhe=(()=>{let e=class e{constructor(r,i,s,o,a){this.doc=r,this.delegate=i,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Um(RR,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-GK7E6ECS.mjs")).catch(i=>{throw new yA(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(r,i){let s=this.delegate.createRenderer(r,i);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new CR(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let A=a.createRenderer(r,i);o.use(A)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){DR()},e.\u0275prov=dt({token:e,factory:e.\u0275fac});let n=e;return n})(),CR=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Lhe)}};function Oq(n="animations"){return kR("NgAsyncAnimations"),Ms([{provide:TR,useFactory:(e,t,r)=>new Uhe(e,t,r,n),deps:[PR,qR,an]},{provide:vR,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Pq={production:!1,firebaseConfig:{apiKey:"AIzaSyAWCa26q1qU58EkgdX7LlUq0FyO7YAPd9c",authDomain:"mobilepackageapp.firebaseapp.com",databaseURL:"https://mobilepackageapp-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mobilepackageapp",storageBucket:"mobilepackageapp.appspot.com",messagingSenderId:"179127800679",appId:"1:179127800679:web:7ed81a05edfd5b837b55c2",measurementId:"G-9J4VHPR0KV"}};var Vq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e}),e.\u0275inj=Cn({imports:[Yd,lu.forChild([{path:"",component:jE}])]});let n=e;return n})();var Gq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e,bootstrap:[XE]}),e.\u0275inj=Cn({providers:[HR(),E1(()=>C1()),I1(()=>B1()),Uq(()=>xq()),Oq(),KE],imports:[YR,d1,dT.initializeApp(Pq.firebaseConfig),s1,JR,Yd,Vq]});let n=e;return n})();var xhe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e,bootstrap:[XE]}),e.\u0275inj=Cn({imports:[Gq,WR]});let n=e;return n})();export{xhe as a};
